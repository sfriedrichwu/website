if (self.CavalryLogger) { CavalryLogger.start_js(["qA6Bt"]); }

__d('AdsCanvasEditorEnums',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h={SAVED:0,SAVING:1,UNSAVED:2},i=c('keyMirror')({NONE:null,WARNING:null,ERROR:null}),j=c('keyMirror')({WEBSITE:null,NATIVE:null,CANVAS:null}),k=c('keyMirror')({WHITE:null,BLACK:null,CUSTOM:null}),l=c('keyMirror')({FACEBOOK:null,MOBILE_SITE:null,INSTAGRAM:null});f.exports={DocumentThemeEnum:k,ErrorTypeEnum:i,SaveStateEnum:h,LinkDestinationEnum:j,PreviewEnum:l}}),null);
__d('AdsCanvasInlineAdvancedBuilderBlankOpenDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineAdvancedBuilderBlankOpen',actionType:'ADS_CANVAS_INLINE.ADVANCED_BUILDER_BLANK_OPEN'};f.exports=h}),null);
__d('AdsCanvasInlineAdvancedBuilderBlankOpenDataAction',['AdsCanvasInlineAdvancedBuilderBlankOpenDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineAdvancedBuilderBlankOpenDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineAdvancedBuilderBlankSaveDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineAdvancedBuilderBlankSave',actionType:'ADS_CANVAS_INLINE.ADVANCED_BUILDER_BLANK_SAVE'};f.exports=h}),null);
__d('AdsCanvasInlineAdvancedBuilderBlankSaveDataAction',['AdsCanvasInlineAdvancedBuilderBlankSaveDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineAdvancedBuilderBlankSaveDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderBuilderNuxTourCompleteDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderBuilderNuxTourComplete',actionType:'BUILDER_NUX_TOUR_COMPLETE'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderBuilderNuxTourCompleteDataAction',['AdsCanvasInlineBuilderBuilderNuxTourCompleteDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderBuilderNuxTourCompleteDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderBuilderNuxTourXoutDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderBuilderNuxTourXout',actionType:'BUILDER_NUX_TOUR_XOUT'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderBuilderNuxTourXoutDataAction',['AdsCanvasInlineBuilderBuilderNuxTourXoutDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderBuilderNuxTourXoutDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderHideProductTaggingOverlay',actionType:'HIDE_PRODUCT_TAGGING_OVERLAY'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction',['AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderHideProductTaggingOverlayDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderRemoveInlineCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderRemoveInlineCanvasData',actionType:'REMOVE_INLINE_CANVAS_DATA'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderRemoveInlineCanvasDataAction',['AdsCanvasInlineBuilderRemoveInlineCanvasDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderRemoveInlineCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderSaveCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderSaveCanvas',actionType:'SAVE_CANVAS'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderSaveCanvasDataAction',['AdsCanvasInlineBuilderSaveCanvasDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderSaveCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderSelectRadioButtonDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderSelectRadioButton',actionType:'SELECT_RADIO_BUTTON'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderSelectRadioButtonDataAction',['AdsCanvasInlineBuilderSelectRadioButtonDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderSelectRadioButtonDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderSetProductTaggingCoordinates',actionType:'SET_PRODUCT_TAGGING_COORDINATES'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction',['AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderShowInlineModalDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderShowInlineModal',actionType:'SHOW_INLINE_MODAL'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderShowInlineModalDataAction',['AdsCanvasInlineBuilderShowInlineModalDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderShowInlineModalDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderShowProductTaggingOverlay',actionType:'SHOW_PRODUCT_TAGGING_OVERLAY'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction',['AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderSwitchInlineTabsDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineBuilderSwitchInlineTabs',actionType:'SWITCH_INLINE_TABS'};f.exports=h}),null);
__d('AdsCanvasInlineBuilderSwitchInlineTabsDataAction',['AdsCanvasInlineBuilderSwitchInlineTabsDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineBuilderSwitchInlineTabsDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineDropdownCreateNewSelectDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineDropdownCreateNewSelect',actionType:'ADS_CANVAS_INLINE.DROPDOWN_CREATE_NEW_SELECT'};f.exports=h}),null);
__d('AdsCanvasInlineDropdownCreateNewSelectDataAction',['AdsCanvasInlineDropdownCreateNewSelectDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineDropdownCreateNewSelectDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineDropdownUseExistingSelectDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineDropdownUseExistingSelect',actionType:'ADS_CANVAS_INLINE.DROPDOWN_USE_EXISTING_SELECT'};f.exports=h}),null);
__d('AdsCanvasInlineDropdownUseExistingSelectDataAction',['AdsCanvasInlineDropdownUseExistingSelectDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineDropdownUseExistingSelectDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineTemplateBuilderDoneDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineTemplateBuilderDone',actionType:'ADS_CANVAS_INLINE.TEMPLATE_BUILDER_DONE'};f.exports=h}),null);
__d('AdsCanvasInlineTemplateBuilderDoneDataAction',['AdsCanvasInlineTemplateBuilderDoneDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineTemplateBuilderDoneDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineTemplateBuilderMobilePreviewDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineTemplateBuilderMobilePreview',actionType:'ADS_CANVAS_INLINE.TEMPLATE_BUILDER_MOBILE_PREVIEW'};f.exports=h}),null);
__d('AdsCanvasInlineTemplateBuilderMobilePreviewDataAction',['AdsCanvasInlineTemplateBuilderMobilePreviewDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineTemplateBuilderMobilePreviewDataActionPlugin'));f.exports=h}),null);
__d('CanvasDataUtils',['GraphAPIFieldUtils'],(function a(b,c,d,e,f,g){'use strict';var h=['bottom_padding','element_type','id','name','top_padding'],i={getFieldsForPagesCanvasList:function j(){return ['id','name','background_color','is_published','update_time','element_payload','elements{'+'element{'+'child_elements{element{photo{source}}},'+'photo{images}'+'},'+'name,'+'element_type'+'}','body_elements','canvas_link','last_editor','store_url','linked_documents','source_template{id}','style_list','tags','property_list']},getFieldsForButtonElement:function j(){return [].concat(h,['action','background_color','button_color','button_style','deep_link','font_family','font_size','line_height','rich_text','text_alignment','text_color'])},getFieldsForCarouselElement:function j(){return [].concat(h,[c('GraphAPIFieldUtils').getFieldWithSubfields('child_elements',this.getFieldsForPhotoElement()),'style'])},getFieldsForElementType:function j(){return ['element_type']},getFieldsForFooterElement:function j(){return [].concat(h,['background_color',c('GraphAPIFieldUtils').getFieldWithSubfields('child_elements',this.getFieldsForButtonElement())])},getFieldsForHeaderElement:function j(){var k=this.getFieldsForPhotoElement().concat(this.getFieldsForTextElement().filter(function(l){return this.getFieldsForPhotoElement().indexOf(l)===-1}.bind(this)));return [].concat(h,['background_color',c('GraphAPIFieldUtils').getFieldWithSubfields('child_elements',k)])},getFieldsForPhotoElement:function j(){return [].concat(h,['action','deep_link',c('GraphAPIFieldUtils').getFieldWithSubfields('photo',['height','id','source','width']),'style','element_group_key',c('GraphAPIFieldUtils').getFieldWithSubfields('product_tags',['catalog_id','coordinates','product_id']),'hide_product_prices'])},getFieldsForProductListElement:function j(){return [].concat(h,['item_description','item_headline','product_catalog_id','product_id_list'])},getFieldsForProductSetElement:function j(){return [].concat(h,['item_description','item_headline','max_products','product_catalog_id','product_set_id','retailer_item_ids'])},getFieldsForStoreLocatorElement:function j(){return [].concat(h,['header_background_color','location_source_id','theme','typeface'])},getFieldsForTextElement:function j(){return [].concat(h,['background_color','font_family','font_size','line_height','rich_text','text_alignment','text_color','element_group_key'])},getFieldsForVideoElement:function j(){return [].concat(h,['style',c('GraphAPIFieldUtils').getFieldWithSubfields('video',['id','spherical',c('GraphAPIFieldUtils').getFieldWithSubfields('thumbnails',['height','is_preferred','uri','width'])])])},isNewDocumentID:function j(k){return isNaN(k)},isNewElementID:function j(k){return isNaN(k)},isNewDocument:function j(k){return isNaN(k.getID())},isNewElement:function j(k){return isNaN(k.getID())}};f.exports=i}),null);
__d('AdsCanvasDocumentDataLoader',['AdsGraphAPI','CanvasDataUtils','GraphAPIFieldUtils'],(function a(b,c,d,e,f,g){'use strict';h.prototype.getDocument=function(i){return c('AdsGraphAPI').get(f.id).object('rich_media_document',i).get({fields:c('CanvasDataUtils').getFieldsForPagesCanvasList(),summary:true})};h.prototype.getLinkedCanvases=function(i){return c('AdsGraphAPI').get(f.id).object('rich_media_document',i).get({fields:c('GraphAPIFieldUtils').getFieldWithSubfields('linked_documents',c('CanvasDataUtils').getFieldsForPagesCanvasList()),summary:true})};h.prototype.getDocumentElements=function(i){return c('AdsGraphAPI').get(f.id).object('rich_media_document',i).get({fields:['body_elements{id}'],summary:true})};h.prototype.createDocument=function(i,j){return c('AdsGraphAPI').get(f.id).object('page',j).edge('canvases').post(babelHelpers['extends']({},i.toAPI(),{source:i.getSource()}))};h.prototype.updateDocument=function(i,j){return c('AdsGraphAPI').get(f.id).object('rich_media_document',i.getID()).post(babelHelpers['extends']({},i.toAPI(),{is_published:j,should_publish_linked_documents:j}))};function h(){}f.exports=new h()}),null);
__d('AdsRichMediaEditorCreateCanvasSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorCreateCanvasSuccess',actionType:'RichMediaEditor.CREATE_CANVAS_SUCCESS'};f.exports=h}),null);
__d('AdsRichMediaEditorCreateCanvasSuccessDataAction',['AdsDataAction','AdsRichMediaEditorCreateCanvasSuccessDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorCreateCanvasSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageDataErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadPageDataError',actionType:'RichMediaEditor.LOAD_PAGE_DATA_ERROR'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageDataErrorDataAction',['AdsDataAction','AdsRichMediaEditorLoadPageDataErrorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorLoadPageDataErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageDataSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadPageDataSuccess',actionType:'RichMediaEditor.LOAD_PAGE_DATA_SUCCESS'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadPageDataSuccessDataAction',['AdsDataAction','AdsRichMediaEditorLoadPageDataSuccessDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorLoadPageDataSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorAddDocumentElementDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorAddDocumentElement',actionType:'RichMediaEditor.ADD_DOCUMENT_ELEMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorAddDocumentElementDataAction',['AdsDataAction','AdsRichMediaEditorAddDocumentElementDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorAddDocumentElementDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorAddElementsSelectedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorAddElementsSelected',actionType:'RichMediaEditor.ADD_ELEMENTS_SELECTED'};f.exports=h}),null);
__d('AdsRichMediaEditorAddElementsSelectedDataAction',['AdsDataAction','AdsRichMediaEditorAddElementsSelectedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorAddElementsSelectedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorAddFilesToDocumentElementDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorAddFilesToDocumentElement',actionType:'RichMediaEditor.ADD_FILES_TO_DOCUMENT_ELEMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorAddFilesToDocumentElementDataAction',['AdsDataAction','AdsRichMediaEditorAddFilesToDocumentElementDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorAddFilesToDocumentElementDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorBackToMenuDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorBackToMenu',actionType:'RichMediaEditor.BACK_TO_MENU'};f.exports=h}),null);
__d('AdsRichMediaEditorBackToMenuDataAction',['AdsDataAction','AdsRichMediaEditorBackToMenuDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorBackToMenuDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorCanvasTemplateSelectedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorCanvasTemplateSelected',actionType:'RichMediaEditor.CANVAS_TEMPLATE_SELECTED'};f.exports=h}),null);
__d('AdsRichMediaEditorCanvasTemplateSelectedDataAction',['AdsDataAction','AdsRichMediaEditorCanvasTemplateSelectedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorCanvasTemplateSelectedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorCollapseExpandedElementsDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorCollapseExpandedElements',actionType:'RichMediaEditor.COLLAPSE_EXPANDED_ELEMENTS'};f.exports=h}),null);
__d('AdsRichMediaEditorCollapseExpandedElementsDataAction',['AdsDataAction','AdsRichMediaEditorCollapseExpandedElementsDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorCollapseExpandedElementsDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorCreateDefaultDocumentDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorCreateDefaultDocument',actionType:'RichMediaEditor.CREATE_DEFAULT_DOCUMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorCreateDefaultDocumentDataAction',['AdsDataAction','AdsRichMediaEditorCreateDefaultDocumentDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorCreateDefaultDocumentDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorCreateDocumentFromMediaDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorCreateDocumentFromMedia',actionType:'RichMediaEditor.CREATE_DOCUMENT_FROM_MEDIA'};f.exports=h}),null);
__d('AdsRichMediaEditorCreateDocumentFromMediaDataAction',['AdsDataAction','AdsRichMediaEditorCreateDocumentFromMediaDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorCreateDocumentFromMediaDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorDeleteElementDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorDeleteElement',actionType:'RichMediaEditor.DELETE_ELEMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorDeleteElementDataAction',['AdsDataAction','AdsRichMediaEditorDeleteElementDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorDeleteElementDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorDeselectElementToAddDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorDeselectElementToAdd',actionType:'RichMediaEditor.DESELECT_ELEMENT_TO_ADD'};f.exports=h}),null);
__d('AdsRichMediaEditorDeselectElementToAddDataAction',['AdsDataAction','AdsRichMediaEditorDeselectElementToAddDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorDeselectElementToAddDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorEditDocumentElementDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorEditDocumentElement',actionType:'RichMediaEditor.EDIT_DOCUMENT_ELEMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorEditDocumentElementDataAction',['AdsDataAction','AdsRichMediaEditorEditDocumentElementDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorEditDocumentElementDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorFetchTemplatesDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorFetchTemplates',actionType:'RichMediaEditor.FETCH_TEMPLATES'};f.exports=h}),null);
__d('AdsRichMediaEditorFetchTemplatesDataAction',['AdsDataAction','AdsRichMediaEditorFetchTemplatesDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorFetchTemplatesDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadCanvasTemplateDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadCanvasTemplate',actionType:'RichMediaEditor.LOAD_CANVAS_TEMPLATE'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadCanvasTemplateDataAction',['AdsDataAction','AdsRichMediaEditorLoadCanvasTemplateDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorLoadCanvasTemplateDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorLoadDocumentDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorLoadDocument',actionType:'RichMediaEditor.LOAD_DOCUMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorLoadDocumentDataAction',['AdsDataAction','AdsRichMediaEditorLoadDocumentDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorLoadDocumentDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorMoveElementDownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorMoveElementDown',actionType:'RichMediaEditor.MOVE_ELEMENT_DOWN'};f.exports=h}),null);
__d('AdsRichMediaEditorMoveElementDownDataAction',['AdsDataAction','AdsRichMediaEditorMoveElementDownDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorMoveElementDownDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorMoveElementUpDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorMoveElementUp',actionType:'RichMediaEditor.MOVE_ELEMENT_UP'};f.exports=h}),null);
__d('AdsRichMediaEditorMoveElementUpDataAction',['AdsDataAction','AdsRichMediaEditorMoveElementUpDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorMoveElementUpDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorReplaceFileInDocumentDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorReplaceFileInDocument',actionType:'RichMediaEditor.REPLACE_FILE_IN_DOCUMENT'};f.exports=h}),null);
__d('AdsRichMediaEditorReplaceFileInDocumentDataAction',['AdsDataAction','AdsRichMediaEditorReplaceFileInDocumentDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorReplaceFileInDocumentDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorResetUnpublishedCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorResetUnpublishedCanvas',actionType:'RichMediaEditor.RESET_UNPUBLISHED_CANVAS'};f.exports=h}),null);
__d('AdsRichMediaEditorResetUnpublishedCanvasDataAction',['AdsDataAction','AdsRichMediaEditorResetUnpublishedCanvasDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorResetUnpublishedCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSaveIncompleteElementsDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSaveIncompleteElements',actionType:'RichMediaEditor.SAVE_INCOMPLETE_ELEMENTS'};f.exports=h}),null);
__d('AdsRichMediaEditorSaveIncompleteElementsDataAction',['AdsDataAction','AdsRichMediaEditorSaveIncompleteElementsDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSaveIncompleteElementsDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSelectElementToAddDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSelectElementToAdd',actionType:'RichMediaEditor.SELECT_ELEMENT_TO_ADD'};f.exports=h}),null);
__d('AdsRichMediaEditorSelectElementToAddDataAction',['AdsDataAction','AdsRichMediaEditorSelectElementToAddDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSelectElementToAddDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetAddComponentDialogShownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetAddComponentDialogShown',actionType:'RichMediaEditor.SET_ADD_COMPONENT_DIALOG_SHOWN'};f.exports=h}),null);
__d('AdsRichMediaEditorSetAddComponentDialogShownDataAction',['AdsDataAction','AdsRichMediaEditorSetAddComponentDialogShownDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetAddComponentDialogShownDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetCanvasPageidDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetCanvasPageid',actionType:'RichMediaEditor.SET_CANVAS_PAGEID'};f.exports=h}),null);
__d('AdsRichMediaEditorSetCanvasPageidDataAction',['AdsDataAction','AdsRichMediaEditorSetCanvasPageidDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetCanvasPageidDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetCanvasSourceDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetCanvasSource',actionType:'RichMediaEditor.SET_CANVAS_SOURCE'};f.exports=h}),null);
__d('AdsRichMediaEditorSetCanvasSourceDataAction',['AdsDataAction','AdsRichMediaEditorSetCanvasSourceDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetCanvasSourceDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetCustomizeThemeColorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetCustomizeThemeColor',actionType:'RichMediaEditor.SET_CUSTOMIZE_THEME_COLOR'};f.exports=h}),null);
__d('AdsRichMediaEditorSetCustomizeThemeColorDataAction',['AdsDataAction','AdsRichMediaEditorSetCustomizeThemeColorDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetCustomizeThemeColorDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetDialogCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetDialogCanvas',actionType:'RichMediaEditor.SET_DIALOG_CANVAS'};f.exports=h}),null);
__d('AdsRichMediaEditorSetDialogCanvasDataAction',['AdsDataAction','AdsRichMediaEditorSetDialogCanvasDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetDialogCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetDialogShownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetDialogShown',actionType:'RichMediaEditor.SET_DIALOG_SHOWN'};f.exports=h}),null);
__d('AdsRichMediaEditorSetDialogShownDataAction',['AdsDataAction','AdsRichMediaEditorSetDialogShownDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetDialogShownDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentEditStateDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetDocumentEditState',actionType:'RichMediaEditor.SET_DOCUMENT_EDIT_STATE'};f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentEditStateDataAction',['AdsDataAction','AdsRichMediaEditorSetDocumentEditStateDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetDocumentEditStateDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentNameDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetDocumentName',actionType:'RichMediaEditor.SET_DOCUMENT_NAME'};f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentNameDataAction',['AdsDataAction','AdsRichMediaEditorSetDocumentNameDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetDocumentNameDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentThemeDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetDocumentTheme',actionType:'RichMediaEditor.SET_DOCUMENT_THEME'};f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentThemeDataAction',['AdsDataAction','AdsRichMediaEditorSetDocumentThemeDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetDocumentThemeDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentUrlDialogShownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetDocumentUrlDialogShown',actionType:'RichMediaEditor.SET_DOCUMENT_URL_DIALOG_SHOWN'};f.exports=h}),null);
__d('AdsRichMediaEditorSetDocumentUrlDialogShownDataAction',['AdsDataAction','AdsRichMediaEditorSetDocumentUrlDialogShownDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetDocumentUrlDialogShownDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetForceEditPublishedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetForceEditPublished',actionType:'RichMediaEditor.SET_FORCE_EDIT_PUBLISHED'};f.exports=h}),null);
__d('AdsRichMediaEditorSetForceEditPublishedDataAction',['AdsDataAction','AdsRichMediaEditorSetForceEditPublishedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetForceEditPublishedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetNonemptyElementNameDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetNonemptyElementName',actionType:'RichMediaEditor.SET_NONEMPTY_ELEMENT_NAME'};f.exports=h}),null);
__d('AdsRichMediaEditorSetNonemptyElementNameDataAction',['AdsDataAction','AdsRichMediaEditorSetNonemptyElementNameDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetNonemptyElementNameDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetPreviewFailedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetPreviewFailed',actionType:'RichMediaEditor.SET_PREVIEW_FAILED'};f.exports=h}),null);
__d('AdsRichMediaEditorSetPreviewFailedDataAction',['AdsDataAction','AdsRichMediaEditorSetPreviewFailedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetPreviewFailedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetPreviewTypeDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetPreviewType',actionType:'RichMediaEditor.SET_PREVIEW_TYPE'};f.exports=h}),null);
__d('AdsRichMediaEditorSetPreviewTypeDataAction',['AdsDataAction','AdsRichMediaEditorSetPreviewTypeDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetPreviewTypeDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetSaveFailedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetSaveFailed',actionType:'RichMediaEditor.SET_SAVE_FAILED'};f.exports=h}),null);
__d('AdsRichMediaEditorSetSaveFailedDataAction',['AdsDataAction','AdsRichMediaEditorSetSaveFailedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetSaveFailedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetSelectedCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetSelectedCanvas',actionType:'RichMediaEditor.SET_SELECTED_CANVAS'};f.exports=h}),null);
__d('AdsRichMediaEditorSetSelectedCanvasDataAction',['AdsDataAction','AdsRichMediaEditorSetSelectedCanvasDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetSelectedCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetSendingPreviewDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetSendingPreview',actionType:'RichMediaEditor.SET_SENDING_PREVIEW'};f.exports=h}),null);
__d('AdsRichMediaEditorSetSendingPreviewDataAction',['AdsDataAction','AdsRichMediaEditorSetSendingPreviewDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetSendingPreviewDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetShowTemplatesDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetShowTemplates',actionType:'RichMediaEditor.SET_SHOW_TEMPLATES'};f.exports=h}),null);
__d('AdsRichMediaEditorSetShowTemplatesDataAction',['AdsDataAction','AdsRichMediaEditorSetShowTemplatesDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetShowTemplatesDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetSupportInstagramEnabledDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetSupportInstagramEnabled',actionType:'RichMediaEditor.SET_SUPPORT_INSTAGRAM_ENABLED'};f.exports=h}),null);
__d('AdsRichMediaEditorSetSupportInstagramEnabledDataAction',['AdsDataAction','AdsRichMediaEditorSetSupportInstagramEnabledDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetSupportInstagramEnabledDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetSwipeToOpenEnabledDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetSwipeToOpenEnabled',actionType:'RichMediaEditor.SET_SWIPE_TO_OPEN_ENABLED'};f.exports=h}),null);
__d('AdsRichMediaEditorSetSwipeToOpenEnabledDataAction',['AdsDataAction','AdsRichMediaEditorSetSwipeToOpenEnabledDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetSwipeToOpenEnabledDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetUnpublishedCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetUnpublishedCanvas',actionType:'RichMediaEditor.SET_UNPUBLISHED_CANVAS'};f.exports=h}),null);
__d('AdsRichMediaEditorSetUnpublishedCanvasDataAction',['AdsDataAction','AdsRichMediaEditorSetUnpublishedCanvasDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetUnpublishedCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorSetValidationFailedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorSetValidationFailed',actionType:'RichMediaEditor.SET_VALIDATION_FAILED'};f.exports=h}),null);
__d('AdsRichMediaEditorSetValidationFailedDataAction',['AdsDataAction','AdsRichMediaEditorSetValidationFailedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorSetValidationFailedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorTemplateFetchedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorTemplateFetched',actionType:'RichMediaEditor.TEMPLATE_FETCHED'};f.exports=h}),null);
__d('AdsRichMediaEditorTemplateFetchedDataAction',['AdsDataAction','AdsRichMediaEditorTemplateFetchedDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorTemplateFetchedDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorToggleDocumentDebugPaneShown',actionType:'RichMediaEditor.TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN'};f.exports=h}),null);
__d('AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction',['AdsDataAction','AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorToggleWelcomePaneShownDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorToggleWelcomePaneShown',actionType:'RichMediaEditor.TOGGLE_WELCOME_PANE_SHOWN'};f.exports=h}),null);
__d('AdsRichMediaEditorToggleWelcomePaneShownDataAction',['AdsDataAction','AdsRichMediaEditorToggleWelcomePaneShownDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorToggleWelcomePaneShownDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorToolbarPublishClickDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorToolbarPublishClick',actionType:'RichMediaEditor.TOOLBAR_PUBLISH_CLICK'};f.exports=h}),null);
__d('AdsRichMediaEditorToolbarPublishClickDataAction',['AdsDataAction','AdsRichMediaEditorToolbarPublishClickDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorToolbarPublishClickDataActionPlugin'));f.exports=h}),null);
__d('AdsRichMediaEditorTriggerNuxTourDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'richMediaEditorTriggerNuxTour',actionType:'RichMediaEditor.TRIGGER_NUX_TOUR'};f.exports=h}),null);
__d('AdsRichMediaEditorTriggerNuxTourDataAction',['AdsDataAction','AdsRichMediaEditorTriggerNuxTourDataActionPlugin'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsRichMediaEditorTriggerNuxTourDataActionPlugin'));f.exports=h}),null);
__d('RichMediaEditorActions',['AdsRichMediaEditorAddDocumentElementDataAction','AdsRichMediaEditorAddElementsSelectedDataAction','AdsRichMediaEditorAddFilesToDocumentElementDataAction','AdsRichMediaEditorBackToMenuDataAction','AdsRichMediaEditorCanvasTemplateSelectedDataAction','AdsRichMediaEditorCollapseExpandedElementsDataAction','AdsRichMediaEditorCreateDefaultDocumentDataAction','AdsRichMediaEditorCreateDocumentFromMediaDataAction','AdsRichMediaEditorDeleteElementDataAction','AdsRichMediaEditorDeselectElementToAddDataAction','AdsRichMediaEditorEditDocumentElementDataAction','AdsRichMediaEditorFetchTemplatesDataAction','AdsRichMediaEditorLoadCanvasTemplateDataAction','AdsRichMediaEditorLoadDocumentDataAction','AdsRichMediaEditorMoveElementDownDataAction','AdsRichMediaEditorMoveElementUpDataAction','AdsRichMediaEditorReplaceFileInDocumentDataAction','AdsRichMediaEditorResetUnpublishedCanvasDataAction','AdsRichMediaEditorSaveIncompleteElementsDataAction','AdsRichMediaEditorSelectElementToAddDataAction','AdsRichMediaEditorSetAddComponentDialogShownDataAction','AdsRichMediaEditorSetCanvasPageidDataAction','AdsRichMediaEditorSetCanvasSourceDataAction','AdsRichMediaEditorSetCustomizeThemeColorDataAction','AdsRichMediaEditorSetDialogCanvasDataAction','AdsRichMediaEditorSetDialogShownDataAction','AdsRichMediaEditorSetDocumentEditStateDataAction','AdsRichMediaEditorSetDocumentNameDataAction','AdsRichMediaEditorSetDocumentThemeDataAction','AdsRichMediaEditorSetDocumentUrlDialogShownDataAction','AdsRichMediaEditorSetForceEditPublishedDataAction','AdsRichMediaEditorSetNonemptyElementNameDataAction','AdsRichMediaEditorSetPreviewFailedDataAction','AdsRichMediaEditorSetPreviewTypeDataAction','AdsRichMediaEditorSetSaveFailedDataAction','AdsRichMediaEditorSetSelectedCanvasDataAction','AdsRichMediaEditorSetSendingPreviewDataAction','AdsRichMediaEditorSetShowTemplatesDataAction','AdsRichMediaEditorSetSupportInstagramEnabledDataAction','AdsRichMediaEditorSetSwipeToOpenEnabledDataAction','AdsRichMediaEditorSetUnpublishedCanvasDataAction','AdsRichMediaEditorSetValidationFailedDataAction','AdsRichMediaEditorTemplateFetchedDataAction','AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction','AdsRichMediaEditorToggleWelcomePaneShownDataAction','AdsRichMediaEditorToolbarPublishClickDataAction','AdsRichMediaEditorTriggerNuxTourDataAction'],(function a(b,c,d,e,f,g){'use strict';f.exports={collapseExpandedElements:function h(){c('AdsRichMediaEditorCollapseExpandedElementsDataAction').dispatch({})},setDocumentName:function h(i){c('AdsRichMediaEditorSetDocumentNameDataAction').dispatch({name:i})},setNonEmptyElementName:function h(i){c('AdsRichMediaEditorSetNonemptyElementNameDataAction').dispatch({element:i})},setDocumentTheme:function h(i,j,k){c('AdsRichMediaEditorSetDocumentThemeDataAction').dispatch({id:i,theme:j,themeType:k})},setDocumentEditState:function h(i){c('AdsRichMediaEditorSetDocumentEditStateDataAction').dispatch({editState:i})},addDocumentElement:function h(i){c('AdsRichMediaEditorAddDocumentElementDataAction').dispatch({element:i})},addFilesToDocumentElement:function h(i,j,k){c('AdsRichMediaEditorAddFilesToDocumentElementDataAction').dispatch({element:i,pageID:j,files:k})},replaceFileInDocumentElement:function h(i,j,k,l){c('AdsRichMediaEditorReplaceFileInDocumentDataAction').dispatch({element:i,pageID:j,itemID:k,files:l})},editDocumentElement:function h(i,j){c('AdsRichMediaEditorEditDocumentElementDataAction').dispatch({element:i,templatePlugin:j})},moveElementUp:function h(i){var j=arguments.length<=1||arguments[1]===undefined?1:arguments[1];c('AdsRichMediaEditorMoveElementUpDataAction').dispatch({element:i,distance:j})},moveElementDown:function h(i){var j=arguments.length<=1||arguments[1]===undefined?1:arguments[1];c('AdsRichMediaEditorMoveElementDownDataAction').dispatch({element:i,distance:j})},deleteElement:function h(i){c('AdsRichMediaEditorDeleteElementDataAction').dispatch({element:i})},createDefaultDocument:function h(){c('AdsRichMediaEditorCreateDefaultDocumentDataAction').dispatch({})},saveIncompleteElements:function h(i){c('AdsRichMediaEditorSaveIncompleteElementsDataAction').dispatch({elementValidation:i})},setPreviewFailed:function h(i){c('AdsRichMediaEditorSetPreviewFailedDataAction').dispatch({previewFailed:i})},setPreviewType:function h(i){c('AdsRichMediaEditorSetPreviewTypeDataAction').dispatch({previewType:i})},setSendingPreview:function h(i){c('AdsRichMediaEditorSetSendingPreviewDataAction').dispatch({sendingPreview:i})},setSaveFailed:function h(i){c('AdsRichMediaEditorSetSaveFailedDataAction').dispatch({saveFailed:i})},setValidationFailed:function h(i){c('AdsRichMediaEditorSetValidationFailedDataAction').dispatch({elementValidation:i})},setDialogShown:function h(i,j){c('AdsRichMediaEditorSetDialogShownDataAction').dispatch({dialogID:i,dialogShown:j})},setDialogCanvas:function h(i,j){c('AdsRichMediaEditorSetDialogCanvasDataAction').dispatch({dialogID:i,canvas:j})},setDocumentURLDialogShown:function h(i){c('AdsRichMediaEditorSetDocumentUrlDialogShownDataAction').dispatch({dialogShown:i})},setForceEditPublished:function h(i){c('AdsRichMediaEditorSetForceEditPublishedDataAction').dispatch({forceEditPublished:i})},toggleDocumentDebugPaneShown:function h(){c('AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction').dispatch({})},toggleWelcomePaneShown:function h(i){c('AdsRichMediaEditorToggleWelcomePaneShownDataAction').dispatch({shown:i})},triggerNuxTour:function h(i){c('AdsRichMediaEditorTriggerNuxTourDataAction').dispatch({shown:i})},loadDocument:function h(i,j,k,l,m,n,o,p,q,r,s){c('AdsRichMediaEditorLoadDocumentDataAction').dispatch({documentName:i,documentTheme:j,documentID:k,documentURL:l,elementsPayload:m,elements:n,isPublished:o,sourceTemplateID:s,styleList:p,tags:q,propertyList:r})},createDocumentFromMedia:function h(i,j){c('AdsRichMediaEditorCreateDocumentFromMediaDataAction').dispatch({title:i,images:j})},selectElementToAdd:function h(i){c('AdsRichMediaEditorSelectElementToAddDataAction').dispatch({elementTypeName:i})},deselectElementToAdd:function h(i){c('AdsRichMediaEditorDeselectElementToAddDataAction').dispatch({elementTypeName:i})},addElementsSelected:function h(i){c('AdsRichMediaEditorAddElementsSelectedDataAction').dispatch({elementsSelected:i})},setAddComponentDialogShown:function h(i){c('AdsRichMediaEditorSetAddComponentDialogShownDataAction').dispatch({dialogShown:i})},setCustomizeThemeColor:function h(i){c('AdsRichMediaEditorSetCustomizeThemeColorDataAction').dispatch({customizeThemeColor:i})},setUnpublishedCanvas:function h(i){c('AdsRichMediaEditorSetUnpublishedCanvasDataAction').dispatch({unpublishedCanvas:i})},resetUnpublishedCanvas:function h(){c('AdsRichMediaEditorResetUnpublishedCanvasDataAction').dispatch({})},setSelectedCanvas:function h(i){c('AdsRichMediaEditorSetSelectedCanvasDataAction').dispatch({selectedCanvas:i})},loadCanvasTemplate:function h(i,j,k){c('AdsRichMediaEditorLoadCanvasTemplateDataAction').dispatch({selectedTemplate:i,elementsPayload:j,elements:k})},setShowTemplates:function h(i){c('AdsRichMediaEditorSetShowTemplatesDataAction').dispatch({showTemplates:i})},canvasTemplateSelected:function h(i){c('AdsRichMediaEditorCanvasTemplateSelectedDataAction').dispatch({selectedTemplate:i})},backToMenu:function h(){c('AdsRichMediaEditorBackToMenuDataAction').dispatch({})},setCanvasSource:function h(i){c('AdsRichMediaEditorSetCanvasSourceDataAction').dispatch({source:i})},setCanvasPageId:function h(i){c('AdsRichMediaEditorSetCanvasPageidDataAction').dispatch({pageId:i})},setSwipeToOpenEnabled:function h(i){c('AdsRichMediaEditorSetSwipeToOpenEnabledDataAction').dispatch({value:i})},setSupportInstagram:function h(i){c('AdsRichMediaEditorSetSupportInstagramEnabledDataAction').dispatch({value:i})},fetchTemplates:function h(i,j){c('AdsRichMediaEditorFetchTemplatesDataAction').dispatch({accessToken:i,pageID:j})},templateFetched:function h(i,j,k){c('AdsRichMediaEditorTemplateFetchedDataAction').dispatch({template:i,payload:j,elements:k})},toolbarPublishClick:function h(i){c('AdsRichMediaEditorToolbarPublishClickDataAction').dispatch({elementValidation:i})}}}),null);
__d("XCanvasAdsUtilsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/canvas\/pageconfig\/",{page_id:{type:"String",required:true}})}),null);
__d('RichMediaEditorDataLoader',['AdsGraphAPI','AsyncRequest','XCanvasAdsUtilsController'],(function a(b,c,d,e,f,g){'use strict';var h={getCanvasPageData:function i(j){var k=c('XCanvasAdsUtilsController').getURIBuilder().setString('page_id',j).getURI();return new (c('AsyncRequest'))().setURI(k).exec()},createCanvas:function i(j,k){delete j.id;return c('AdsGraphAPI').get(f.id).object('page',k).edge('rich_media_documents').post(babelHelpers['extends']({},j,{owner_id:k}))},updateCanvas:function i(j){return c('AdsGraphAPI').get(f.id).object('rich_media_document',j.id).post(j)}};f.exports=h}),null);
__d('RichMediaEditorDataDispatcher',['AdsCanvasDocumentDataLoader','AdsCanvasEditorEnums','AdsRichMediaEditorCreateCanvasSuccessDataAction','AdsRichMediaEditorLoadPageDataErrorDataAction','AdsRichMediaEditorLoadPageDataSuccessDataAction','RichMediaEditorActions','RichMediaEditorDataLoader'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCanvasEditorEnums').SaveStateEnum,i={getCanvasPageData:function j(k,l,m){c('RichMediaEditorDataLoader').getCanvasPageData(k).then(function(n){var o=n.getPayload(),p=o.page_canvas_count,q=o.page_published_canvas_count;c('AdsRichMediaEditorLoadPageDataSuccessDataAction').dispatch({funnelLogger:m,logger:l,pageCanvasCount:p,pagePublishedCanvasCount:q})})['catch'](function(n){c('AdsRichMediaEditorLoadPageDataErrorDataAction').dispatch({funnelLogger:m,logger:l})}).done()},saveCanvas:function j(k,l,m,n,o){if(!k.id||isNaN(k.id)){this._createCanvas(k,l,m,n,o)}else this._updateCanvas(k,m,n,o);},_createCanvas:function j(k,l,m,n,o){c('RichMediaEditorDataLoader').createCanvas(k,l).done(function(p){var q=p.id;c('AdsCanvasDocumentDataLoader').getDocumentElements(q).done(function(r){c('AdsRichMediaEditorCreateCanvasSuccessDataAction').dispatch({id:q});var s=r.body_elements.map(function(t){return t.id});n(q,m,s)})},function(p){return o(p)})},_updateCanvas:function j(k,l,m,n){c('RichMediaEditorDataLoader').updateCanvas(k).done(function(o){c('AdsCanvasDocumentDataLoader').getDocumentElements(k.id).done(function(p){c('RichMediaEditorActions').setDocumentEditState(h.SAVED);var q=p.body_elements.map(function(r){return r.id});m(k.id,l,q)})},function(o){return n(o)})}};f.exports=i}),null);
__d('AdsCanvasInlineBuilderActions',['AdsCanvasInlineAdvancedBuilderBlankOpenDataAction','AdsCanvasInlineAdvancedBuilderBlankSaveDataAction','AdsCanvasInlineBuilderBuilderNuxTourCompleteDataAction','AdsCanvasInlineBuilderBuilderNuxTourXoutDataAction','AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction','AdsCanvasInlineBuilderRemoveInlineCanvasDataAction','AdsCanvasInlineBuilderSaveCanvasDataAction','AdsCanvasInlineBuilderSelectRadioButtonDataAction','AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction','AdsCanvasInlineBuilderShowInlineModalDataAction','AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction','AdsCanvasInlineBuilderSwitchInlineTabsDataAction','AdsCanvasInlineDropdownCreateNewSelectDataAction','AdsCanvasInlineDropdownUseExistingSelectDataAction','AdsCanvasInlineTemplateBuilderDoneDataAction','AdsCanvasInlineTemplateBuilderMobilePreviewDataAction','RichMediaEditorDataDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={removeInlineCanvasData:function i(){c('AdsCanvasInlineBuilderRemoveInlineCanvasDataAction').dispatch({})},saveCanvas:function i(j,k,l,m,n){c('AdsCanvasInlineBuilderSaveCanvasDataAction').dispatch({});c('RichMediaEditorDataDispatcher').saveCanvas(j,k,l,m,n)},saveCanvasNew:function i(j,k,l,m,n,o,p,q){c('AdsCanvasInlineBuilderSaveCanvasDataAction').dispatch({canvasDocument:j,elements:k,productSetID:l,pageID:m,onSuccess:n,onError:o,hostID:p,adgroupIDs:q})},setShowInlineModal:function i(j,k,l){c('AdsCanvasInlineBuilderShowInlineModalDataAction').dispatch({canvasID:k,showModal:j,templateID:l})},setInlineTab:function i(j){c('AdsCanvasInlineBuilderSwitchInlineTabsDataAction').dispatch({tab:j})},selectRadioButton:function i(j){c('AdsCanvasInlineBuilderSelectRadioButtonDataAction').dispatch({newValue:j})},inlineAdvancedBuilderBlankOpen:function i(){c('AdsCanvasInlineAdvancedBuilderBlankOpenDataAction').dispatch({})},inlineAdvancedBuilderBlankSave:function i(){c('AdsCanvasInlineAdvancedBuilderBlankSaveDataAction').dispatch({})},inlineBuilderNuxTourComplete:function i(j,k){c('AdsCanvasInlineBuilderBuilderNuxTourCompleteDataAction').dispatch({nuxStep:j,templateID:k})},inlineBuilderNuxTourXout:function i(j,k){c('AdsCanvasInlineBuilderBuilderNuxTourXoutDataAction').dispatch({nuxStep:j,templateID:k})},inlineTemplateBuilderDone:function i(){c('AdsCanvasInlineTemplateBuilderDoneDataAction').dispatch({})},inlineDropdownCreateNewSelect:function i(){c('AdsCanvasInlineDropdownCreateNewSelectDataAction').dispatch({})},inlineDropdownUseExistingSelect:function i(){c('AdsCanvasInlineDropdownUseExistingSelectDataAction').dispatch({})},inlineTemplateBuilderMobilePreview:function i(){c('AdsCanvasInlineTemplateBuilderMobilePreviewDataAction').dispatch({})},showProductTaggingOverlay:function i(j,k){c('AdsCanvasInlineBuilderShowProductTaggingOverlayDataAction').dispatch({photoElementID:j,productID:k})},hideProductTaggingOverlay:function i(){c('AdsCanvasInlineBuilderHideProductTaggingOverlayDataAction').dispatch({})},setProductTaggingCoordinates:function i(j,k,l){c('AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataAction').dispatch({coordinates:l,photoElementID:j,productID:k})}};f.exports=h}),null);
__d('AdsCanvasAssetParsingEducationConstants',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';f.exports={ASSET_PARSING_BUILDER_TOOLBAR_TOUR:{'0':{alignment:'left',buttonText:h._("Next"),content:h._("A Canvas is made up of components. Your Canvas includes a header, the images you selected and a space for text. You can add more components or drag and drop to reorder them."),isFinalStep:'false',position:'below',title:h._("Your Components")},'1':{alignment:'right',buttonText:h._("Next"),content:h._("You can preview your Canvas as you're building it, but it may look different from what people will see on their mobile device. Before you finish, send a mobile preview to yourself."),isFinalStep:'false',position:'below',title:h._("Preview on Mobile")},'2':{alignment:'right',buttonText:h._("Done"),content:h._("When you're done editing your Canvas, click finish to attach it to your ad. You'll still be able to review your ad before placing an order."),isFinalStep:'true',position:'below',title:h._("Finish")}},ASSET_PARSING_BUILDER_TOOLBAR_TOUR_MAX_STEPS:3,ASSET_PARSING_FINISHED_ADS_BLUE_TIP:{content:h._("It will open instantly from your ad. Click to preview or make edits."),position:'right',title:h._("You Created a Canvas")}}}),null);
__d('AdsCanvasDefaultNewDocumentID',[],(function a(b,c,d,e,f,g){'use strict';f.exports='ADS_CANVAS_DEFAULT_NEW_DOCUMENT_ID'}),null);
__d('RichMediaElementTypeConstant',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({'':null,BUNDLE:null,BUTTON:null,CAROUSEL:null,CULTURAL_MOMENT_HEADER:null,CULTURAL_MOMENT_POPULAR_MEDIA:null,ELEMENT_GROUP:null,FOOTER:null,HEADER:null,LOCAL_IMAGE:null,OFFER:null,PHOTO:null,PRODUCT_LIST:null,RICH_TEXT:null,SCRUBBABLE_GIF:null,STORE_LOCATOR:null,TITLE_AND_DATE:null,VIDEO:null,FB_TIPS:null});f.exports={TYPE_NAMES:{BUNDLE:'bundle',BUTTON:'button',CAROUSEL:'carousel',CULTURAL_MOMENT_HEADER:'cultural_moment_header',CULTURAL_MOMENT_POPULAR_MEDIA:'culture_moment_popular_media',HEADER:'header',LOCAL_IMAGE:'local_image',OFFER:'offer',PHOTO:'photo',TEXT:'text',VIDEO:'video',PRODUCT_LIST:'product_list',PRODUCT_SET:'product_set',TITLE_AND_DATE:'title_and_date',SCRUBBABLE_GIF:'scrubbable_gif',STORE_LOCATOR:'store_locator',FB_TIPS:'fb_tips'},RichMediaElementTypes:h}}),null);
__d('AdsCanvasDocument',['fbt','AdsCanvasDefaultNewDocumentID','CanvasSource','CurrentUser','immutable','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaElementTypeConstant').RichMediaElementTypes,l=c('immutable').Record,m=c('immutable').List,n={backgroundColor:'FFFFFFFF',elementPayload:null,elements:m([]),forceEditPublished:false,id:'',isPublished:false,propertyList:m([]),source:c('CanvasSource').OTHER,sourceTemplateID:null,swipeToOpenEnabled:true,title:h._("Untitled Canvas").toString(),tags:m([])};i=babelHelpers.inherits(o,l(n));j=i&&i.prototype;o.fromAPI=function(p){var q=p.body_elements?m(p.body_elements.map(function(s){return {id:s.id,elementType:s.element_type}})):m([]),r=p.style_list?p.style_list.includes('ENABLE_SWIPE_TO_OPEN'):false;return new o({backgroundColor:p.background_color,elements:q,id:p.id,isPublished:p.is_published,propertyList:m(p.property_list),sourceTemplateID:p.source_template?p.source_template.id:null,swipeToOpenEnabled:r,title:p.name,tags:m(p.tags)})};o.createNewDocument=function(p){return new o({id:c('AdsCanvasDefaultNewDocumentID'),source:p})};o.prototype.toAPI=function(){return {background_color:this.getBackgroundColor(),body_element_ids:this.getElements().toArray().map(function(p){return p.id}),elements:this.get('elementPayload'),enable_swipe_to_open:this.getSwipeToOpenEnbaled(),force_edit_published:this.getForceEditPublished(),name:this.getTitle(),property_list:this.getPropertyList(),source_template_id:this.getSourceTemplateID(),tags:this.getTags()}};o.prototype.toOldAPI=function(){return {background_color:this.getBackgroundColor(),body_elements:this.getElements().toArray().map(function(p){return {element_type:p.elementType,id:p.id}}),id:this.getID(),is_published:this.getIsPublished(),last_editor:{name:c('CurrentUser').getName()},property_list:this.getPropertyList(),style_list:this.getSwipeToOpenEnbaled()?['ENABLE_SWIPE_TO_OPEN']:[],source_template_id:this.getSourceTemplateID(),name:this.getTitle(),tags:this.getTags(),update_time:Date.now()/1000}};o.prototype.addNewElements=function(p,q){var r=this.getElements().toArray(),s=this.getBottomOffset(),t=p.map(function(x){return x.elementType}).indexOf(k.HEADER);if(t!==-1){var u=p.get(t);p=p['delete'](t);r.unshift(u)}var v=p.map(function(x){return x.elementType}).indexOf(k.STORE_LOCATOR);if(v!==-1){var w=p.get(v);p=p.remove(v).push(w)}q=q!=null?q:r.length;p.map(function(x,y){r.splice(q+y-s,0,x)});return this.set('elements',m(r))};o.prototype.getBackgroundColor=function(){return this.get('backgroundColor')};o.prototype.getTitle=function(){return this.get('title')};o.prototype.getIsPublished=function(){return this.get('isPublished')};o.prototype.getID=function(){return this.get('id')};o.prototype.getElements=function(){return this.get('elements')};o.prototype.getElementIDs=function(){return this.get('elements').map(function(p){return p.id})};o.prototype.getForceEditPublished=function(){return this.get('forceEditPublished')};o.prototype.getPropertyList=function(){return this.get('propertyList').toArray()};o.prototype.getSource=function(){return this.get('source')};o.prototype.getSourceTemplateID=function(){return this.get('sourceTemplateID')};o.prototype.getTags=function(){return this.get('tags').toArray()};o.prototype.getHasFooterElement=function(){var p=this.getElements();if(p.count()===0)return false;return p.last().elementType===k.FOOTER};o.prototype.getHasHeaderElement=function(){var p=this.getElements();if(p.count()===0)return false;return p.first().elementType===k.HEADER};o.prototype.getHasStoreLocatorElement=function(){var p=this.getElements();if(this.getHasFooterElement()&&p.count()>1)return p.get(p.count()-2).elementType===k.STORE_LOCATOR;return p.count()>0&&p.last().elementType===k.STORE_LOCATOR};o.prototype.getBottomOffset=function(){var p=0;if(this.getHasFooterElement())p++;if(this.getHasStoreLocatorElement())p++;return p};o.prototype.getSwipeToOpenEnbaled=function(){return this.get('swipeToOpenEnabled')};o.prototype.reorderElements=function(p,q){var r=this.getElements().toArray();if(p<q)q--;if(q===0&&this.getHasHeaderElement()){q=1}else if(q>=r.length-this.getBottomOffset())q=r.length-this.getBottomOffset()-1;r.splice(q,0,r.splice(p,1)[0]);return this.set('elements',m(r))};o.prototype.setBackgroundColor=function(p){return this.set('backgroundColor',p)};o.prototype.setTitle=function(p){return this.set('title',p)};o.prototype.setElements=function(p){return this.set('elements',p)};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('AdsCanvasDocumentCreateErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentCreateError',actionType:'DOCUMENT.CREATE_ERROR'};f.exports=h}),null);
__d('AdsCanvasDocumentCreateErrorDataAction',['AdsCanvasDocumentCreateErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentCreateErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentCreateSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentCreateSuccess',actionType:'DOCUMENT.CREATE_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasDocumentCreateSuccessDataAction',['AdsCanvasDocumentCreateSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentCreateSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentDuplicateErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentDuplicateError',actionType:'DOCUMENT.DUPLICATE_ERROR'};f.exports=h}),null);
__d('AdsCanvasDocumentDuplicateErrorDataAction',['AdsCanvasDocumentDuplicateErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentDuplicateErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentDuplicateSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentDuplicateSuccess',actionType:'DOCUMENT.DUPLICATE_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasDocumentDuplicateSuccessDataAction',['AdsCanvasDocumentDuplicateSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentDuplicateSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentLoadError',actionType:'DOCUMENT.LOAD_ERROR'};f.exports=h}),null);
__d('AdsCanvasDocumentLoadErrorDataAction',['AdsCanvasDocumentLoadErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentLoadSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentLoadSuccess',actionType:'DOCUMENT.LOAD_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasDocumentLoadSuccessDataAction',['AdsCanvasDocumentLoadSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentLoadSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentSaveErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentSaveError',actionType:'DOCUMENT.SAVE_ERROR'};f.exports=h}),null);
__d('AdsCanvasDocumentSaveErrorDataAction',['AdsCanvasDocumentSaveErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentSaveErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocumentSaveSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocumentSaveSuccess',actionType:'DOCUMENT.SAVE_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasDocumentSaveSuccessDataAction',['AdsCanvasDocumentSaveSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocumentSaveSuccessDataActionPlugin'));f.exports=h}),null);
__d('RichMediaEditorConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={EDITOR_HEIGHT:666,EDITOR_ELEMENT_ID_PREFIX:'editor_element',EDITOR_ELEMENT_CONTAINER_ID:'editor_element_container',EDITOR_FONT_FAMILIES:['sans-serif','serif','HelveticaNeue-Regular','HelveticaNeue-Light','HelveticaNeue-Medium','HelveticaNeue-UltraLight','HelveticaNeue-CondensedBold','Georgia'],EDITOR_LINE_HEIGHT:['0.8','1.0','1.1','1.2','1.3','1.4','1.5','1.6','1.7','1.8','1.9','2.0'],EDITOR_DEFAULT_LINE_HEIGHT:'1.2',EDITOR_PADDING:['0','4','8','12','16','20','24','28','32','48','96','192'],EDITOR_DEFAULT_PADDING:'0',EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL:'48',EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL:'20',EDITOR_PADDING_PREVIEW_SCALE:1.2,INLINE_EDITOR_HEIGHT:768,INLINE_PREVIEW_WIDTH:428,MAX_LENGTH_SCRUBBABLE_GIF_SEC:30,MIN_LENGTH_SCRUBBABLE_GIF_SEC:1,TEXT_LIMIT:40}}),null);
__d('AdsCanvasElementBase',['immutable','RichMediaEditorConstants','abstractMethod'],(function a(b,c,d,e,f,g){'use strict';var h=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,i=c('immutable').Record,j={advancedExpanded:false,background_color:'#FFFFFF',elementType:'',expanded:true,id:'',index:-1,type:0,name:'',padding:{paddingBottom:h,paddingTop:h}};function k(n){var o={elementType:n.element_type,id:n.id,name:n.name,padding:{paddingBottom:n.bottom_padding,paddingTop:n.top_padding}};Object.keys(o).map(function(p){if(!o[p])delete o[p];});return o}function l(n){return {name:n.get('name'),bottom_padding:n.getPadding().paddingBottom,top_padding:n.getPadding().paddingTop}}var m=function(n){return function(){var o,p;o=babelHelpers.inherits(q,i(n));p=o&&o.prototype;q.fromAPI=function(r){'use strict';return c('abstractMethod')('AdsCanvasElement','fromAPI')};q.createNewElement=function(r,s){'use strict';return c('abstractMethod')('AdsCanvasElement','createNewElement')};q.validate=function(r,s){'use strict';return c('abstractMethod')('AdsCanvasElement','validate')};q.prototype.toAPI=function(){'use strict';return c('abstractMethod')('AdsCanvasElement','toAPI')};q.prototype.getAdvancedExpanded=function(){'use strict';return this.get('advancedExpanded')};q.prototype.getExpanded=function(){'use strict';return this.get('expanded')};q.prototype.getElementType=function(){'use strict';return this.get('elementType')};q.prototype.getID=function(){'use strict';return this.get('id')};q.prototype.getName=function(){'use strict';return this.get('title')};q.prototype.getPadding=function(){'use strict';return this.get('padding')};q.prototype.isSwipeToOpenEligible=function(){'use strict';return false};function q(){'use strict';o.apply(this,arguments)}return q}()}.bind(this);f.exports={AdsCanvasElementRecord:m,AdsCanvasElementDefault:j,getSharedAPIFields:k,setSharedAPIFields:l}}),null);
__d('AdsCanvasBuilderAPIUtils',['AdsCanvasAdUtils','AdsCanvasEditorEnums','convertFromRawToDraftState'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCanvasEditorEnums').LinkDestinationEnum;function i(o){if(o.blocks[0])return {plain_text:o.blocks[0].text,inline_styles:o.blocks[0].inlineStyleRanges.map(function(p){return {style:k(String(p.style)),offset:p.offset,length:p.length}}),entity_ranges:o.blocks[0].entityRanges};return {plain_text:'',inline_styles:[],entity_ranges:[]}}function j(o){return c('convertFromRawToDraftState')({blocks:[{key:null,type:'unstyled',text:o.plain_text?o.plain_text:'',depth:0,inlineStyleRanges:o.inline_styles?o.inline_styles.map(function(p){return {style:p.style,offset:p.offset,length:p.length}}):[],entityRanges:o.entity_ranges?o.entity_ranges:[]}],entityMap:{}})}function k(o){switch(o){case '1':return 'BOLD';case '2':return 'ITALIC';case '4':return 'UNDERLINE';default:return 'NONE';}}function l(o){switch(o){case 'FIT_TO_WIDTH':return 'fit_to_width';case 'FIT_TO_WIDTH_EXPANDABLE':return 'expandable';case 'FIT_TO_HEIGHT':return 'fit_to_height';default:return 'fit_to_width';}}function m(o){switch(o){case 'fit_to_width':return 'FIT_TO_WIDTH';case 'expandable':return 'FIT_TO_WIDTH_EXPANDABLE';case 'fit_to_height':return 'FIT_TO_HEIGHT';default:return 'FIT_TO_WIDTH';}}function n(o,p){if(p)return h.NATIVE;if(c('AdsCanvasAdUtils').isCanvasLink(o))return h.CANVAS;return h.WEBSITE}f.exports={convertDestinationFromAPI:n,convertLayoutFromAPI:l,convertLayoutToAPI:m,convertRichTextFromAPI:j,convertRichTextToAPI:i}}),null);
__d('AdsCanvasElementDestination',['AdsCanvasBuilderAPIUtils','AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCanvasEditorEnums').LinkDestinationEnum,i={deeplink:null,destination:h.WEBSITE,link:''};function j(l,m){var n={deeplink:m,destination:c('AdsCanvasBuilderAPIUtils').convertDestinationFromAPI(l),link:l};Object.keys(n).map(function(o){if(!n[o])delete n[o];});return n}function k(l){return {open_url_action:l?{url:l}:null}}f.exports={AdsCanvasElementDestinationDefault:i,getDestinationFields:j,setDestinationFields:k}}),null);
__d('RichMediaRichFormatText',['ContentState','immutable','decodeBlocks','encodeBlocks','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIES,l=c('RichMediaEditorConstants').EDITOR_LINE_HEIGHT,m=c('RichMediaEditorConstants').EDITOR_DEFAULT_LINE_HEIGHT,n={id:'',composedText:{entityMap:{},blocks:[]},textAlignment:'center',textColor:'#000',fontSize:15,fontFamily:k[0],lineHeight:m},o=j(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.create=function(q,r,s,t,u,v){return new p({composedText:c('encodeBlocks')(q),textAlignment:r,textColor:s,fontSize:t,fontFamily:u,lineHeight:v})};p.createDefault=function(){return p.create(c('ContentState').createFromText(''),'center','#777',15,k[0],m)};p.createFromObject=function(q){var r=q.fontFamily;if(k.indexOf(r)===-1)r=k[0];var s=q.lineHeight;if(l.indexOf(s)===-1)s=m;return new p({composedText:q.composedText,textAlignment:q.textAlignment,textColor:q.textColor,fontSize:q.fontSize,fontFamily:r,lineHeight:s})};p.createFromAdAsset=function(q){return p.create(c('ContentState').createFromText(q),'center','#000',15,k[0],m)};p.createFromBundle=function(q,r){var s=r==='item_headline'?'#90949c':'#000';return p.create(c('ContentState').createFromText(q),'center',s,16,k[0],m)};p.getPlainTextFromComposedText=function(q){var r=c('decodeBlocks')(q.blocks,q.entityMap);return r.getPlainText()};function p(){h.apply(this,arguments)}f.exports=p}),null);
__d('AdsCanvasElementRichText',['AdsCanvasBuilderAPIUtils','RichMediaRichFormatText'],(function a(b,c,d,e,f,g){'use strict';var h={richFormatText:c('RichMediaRichFormatText').createDefault()};function i(k){var l=k.rich_text,m=k.text_alignment,n=k.text_color,o=k.font_size,p=k.font_family,q=k.line_height;if(!l||!m||!n||!o||!p||!q)return h;return {richFormatText:c('RichMediaRichFormatText').create(c('AdsCanvasBuilderAPIUtils').convertRichTextFromAPI(l),m.toLowerCase(),'#'+n.substring(2),Number(o),p,q)}}function j(k){return {font_family:k.fontFamily,font_size:k.fontSize,line_height:k.lineHeight,rich_text:c('AdsCanvasBuilderAPIUtils').convertRichTextToAPI(k.composedText),text_alignment:k.textAlignment.toUpperCase(),text_color:k.textColor}}f.exports={AdsCanvasElementRichTextDefault:h,getRichTextFields:i,setRichTextFields:j}}),null);
__d("InstantShoppingDocumentElementType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({RICH_TEXT:1,PHOTO:2,BUTTON:3,SLIDESHOW:4,DIVIDER:5,EXPANDABLE_SECTION:6,STATEFUL:7,VIDEO:8,COLOR_SELECTOR:9,TOGGLE_BUTTON:10,HEADER:11,COMPOSITE_BLOCK:12,FOOTER:13,ELEMENT_GROUP:14,TITLE_AND_DATE:15,STORE_LOCATOR:16,SCRUBBABLE_GIF:17,LOCAL_IMAGE:18,OFFER:19,WEBVIEW:20,BUNDLE:21,UFI:22,FBT_BUTTON:23,PRODUCT_LIST:24,CULTURAL_MOMENT_POPULAR_MEDIA:900,DAILY_DIALOGUE_FB_TIPS:901})}),null);
__d('RichMediaEditorUtil',['ads-lib-urllib'],(function a(b,c,d,e,f,g){'use strict';var h={isValidURL:function i(j){return c('ads-lib-urllib').isUrl(j)},normalizeURL:function i(j){return c('ads-lib-urllib').normalize(j)},isValidDeeplink:function i(j){return true},getURLDomain:function i(j){return c('ads-lib-urllib').getDomain(j)}};f.exports=h}),null);
__d('RichMediaElementValidationUtil',['AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCanvasEditorEnums').LinkDestinationEnum,i={validateForAppstoreDestination:function j(k,l){var m=Array.isArray(l)?l.length:l.count();for(var n=0;n<m;n++){var o=Array.isArray(l)?l[n]:l.get(n);if(o===k)break;if(o.destination===h.NATIVE&&o.link&&k.destination===h.NATIVE&&k.link&&o.link!==k.link)return {errorMsg:'App store URLs should be same',isValid:false};}return {errorMsg:'',isValid:true}}};f.exports=i}),null);
__d('validateDeepLink',['AppAdsConfig','URIRFC3986','trim'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppAdsConfig').deepLinkBlacklist.map(function(j){return new RegExp(c('trim')(j,'/'))});function i(j){j=j.toLowerCase();var k=j.indexOf('://');if(k===-1)return false;var l=j.slice(0,k);if(l&&l.includes('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(l))return false;}else{var m=c('URIRFC3986').parse(j);if(m==null||!m.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(j))return false;}if(['http','https'].includes(l))return true;var n=h.some(function(o){return o.test(j)});return !n}f.exports=i}),null);
__d('AdsCanvasButtonElement',['fbt','AdsCanvasEditorEnums','AdsCanvasElementBase','AdsCanvasElementDestination','AdsCanvasElementRichText','AdsCanvasFooterElement','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaEditorUtil','RichMediaElementTypeConstant','RichMediaElementValidationUtil','RichMediaRichFormatText','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('AdsCanvasEditorEnums').LinkDestinationEnum,m=c('RichMediaEditorConstants').TEXT_LIMIT,n=c('AdsCanvasElementBase').AdsCanvasElementRecord,o=c('AdsCanvasElementBase').AdsCanvasElementDefault,p=c('AdsCanvasElementBase').getSharedAPIFields,q=c('AdsCanvasElementBase').setSharedAPIFields,r=c('AdsCanvasElementDestination').AdsCanvasElementDestinationDefault,s=c('AdsCanvasElementDestination').getDestinationFields,t=c('AdsCanvasElementDestination').setDestinationFields,u=c('AdsCanvasElementRichText').AdsCanvasElementRichTextDefault,v=c('AdsCanvasElementRichText').getRichTextFields,w=c('AdsCanvasElementRichText').setRichTextFields,x=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,y=c('RichMediaElementTypeConstant').RichMediaElementTypes,z=babelHelpers['extends']({},o,r,u,{backgroundColor:'#FFFFFF',buttonColor:'#000000',elementType:y.BUTTON,isFilled:false,isFixedToBottom:false,name:h._("Button").toString(),padding:{paddingTop:x,paddingBottom:x},type:c('InstantShoppingDocumentElementType').BUTTON});i=babelHelpers.inherits(aa,n(z));j=i&&i.prototype;aa.fromAPI=function(ba){return new aa(babelHelpers['extends']({},p(ba),s(ba.action?ba.action.url:null,ba.deep_link),v({font_family:ba.font_family,font_size:ba.font_size,line_height:ba.line_height,rich_text:ba.rich_text,text_alignment:ba.text_alignment,text_color:ba.text_color}),{isFilled:ba.button_style==='BUTTON_FILLED',buttonColor:'#'+ba.button_color.substring(2),backgroundColor:ba.background_color?'#'+ba.background_color.substring(2):'#FFFFFF'}))};aa.createNewElement=function(ba){return new aa({id:ba})};aa.validate=function(ba,ca){if(!ba.link)return {errorMsg:h._("Empty Link URL"),isValid:false};if(!c('RichMediaEditorUtil').isValidURL(ba.link))if(ba.destination===l.NATIVE){return {errorMsg:h._("Invalid Store URL"),isValid:false}}else return {errorMsg:h._("Invalid Website URL"),isValid:false};var da=c('RichMediaElementValidationUtil').validateForAppstoreDestination(ba,ca);if(!da.isValid)return da;if(ba.deeplink)if(!c('validateDeepLink')(ba.deeplink))return {errorMsg:h._("Invalid Deeplink"),isValid:false};var ea=c('RichMediaRichFormatText').getPlainTextFromComposedText(ba.richFormatText.composedText);if(ea.length<=0)return {isValid:false,errorMsg:h._("Button text not provided")};if(ea.length>m)return {errorMsg:h._({"*":"Button text exceeds {number} characters"},[h.param('number',m,[0])]),isValid:false};return {errorMsg:'',isValid:true}};aa.prototype.toFooterElement=function(){return new (c('AdsCanvasFooterElement'))(babelHelpers['extends']({},this.toJS(),{childElements:k([this]),elementType:y.FOOTER,id:'LOCAL_ELEMENT_'+String(Date.now()),richFormatText:this.get('richFormatText')}))};aa.prototype.toAPI=function(){return babelHelpers['extends']({},q(this),t(this.get('link'),this.get('deeplink')),w(this.get('richFormatText')),{background_color:this.get('backgroundColor'),button_color:this.get('buttonColor'),button_style:this.get('isFilled')?'BUTTON_FILLED':'BUTTON_OUTLINE'})};aa.prototype.isSwipeToOpenEligible=function(){return !!this.link&&this.destination!==l.CANVAS&&c('RichMediaEditorUtil').isValidURL(this.link)};function aa(){i.apply(this,arguments)}f.exports=aa}),null);
__d('AdsCanvasFooterElement',['fbt','invariant','AdsCanvasButtonElement','AdsCanvasEditorEnums','AdsCanvasElementBase','AdsCanvasElementDestination','AdsCanvasElementRichText','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaEditorUtil','RichMediaElementTypeConstant','RichMediaElementValidationUtil','RichMediaRichFormatText','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsCanvasEditorEnums').LinkDestinationEnum,m=c('immutable').List,n=c('RichMediaEditorConstants').TEXT_LIMIT,o=c('AdsCanvasElementBase').AdsCanvasElementRecord,p=c('AdsCanvasElementBase').AdsCanvasElementDefault,q=c('AdsCanvasElementBase').getSharedAPIFields,r=c('AdsCanvasElementDestination').AdsCanvasElementDestinationDefault,s=c('AdsCanvasElementDestination').getDestinationFields,t=c('AdsCanvasElementRichText').AdsCanvasElementRichTextDefault,u=c('AdsCanvasElementRichText').getRichTextFields,v=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,w=c('RichMediaElementTypeConstant').RichMediaElementTypes,x=babelHelpers['extends']({},p,r,t,{backgroundColor:'#FFFFFF',buttonColor:'#FFFFFF',childElements:m([]),elementType:w.FOOTER,isFilled:false,isFixedToBottom:true,name:h._("Footer").toString(),padding:{paddingTop:v,paddingBottom:v},type:c('InstantShoppingDocumentElementType').BUTTON});j=babelHelpers.inherits(y,o(x));k=j&&j.prototype;y.fromAPI=function(z){z.child_elements.length>0||i(0);var aa=z.child_elements[0];return new y(babelHelpers['extends']({},q(z),s(c('getByPath')(aa,['action','url']),aa.deep_link),u({font_family:aa.font_family,font_size:aa.font_size,line_height:aa.line_height,rich_text:aa.rich_text,text_alignment:aa.text_alignment,text_color:aa.text_color}),{backgroundColor:'#'+z.background_color.substring(2),buttonColor:'#'+aa.button_color.substring(2),childElements:m(z.child_elements.map(function(ba){return c('AdsCanvasButtonElement').fromAPI(ba)})),isFilled:aa.button_style==='BUTTON_FILLED'}))};y.createNewElement=function(z){return new y({id:z})};y.validate=function(z,aa){if(!z.link)return {errorMsg:h._("Empty Link URL"),isValid:false};if(!c('RichMediaEditorUtil').isValidURL(z.link))if(z.destination===l.NATIVE){return {errorMsg:h._("Invalid Store URL"),isValid:false}}else return {errorMsg:h._("Invalid Website URL"),isValid:false};var ba=c('RichMediaElementValidationUtil').validateForAppstoreDestination(z,aa);if(!ba.isValid)return ba;if(z.deeplink)if(!c('validateDeepLink')(z.deeplink))return {errorMsg:h._("Invalid Deeplink"),isValid:false};var ca=c('RichMediaRichFormatText').getPlainTextFromComposedText(z.richFormatText.composedText);if(ca.length<=0)return {isValid:false,errorMsg:h._("Button text not provided")};if(ca.length>n)return {errorMsg:h._({"*":"Button text exceeds {number} characters"},[h.param('number',n,[0])]),isValid:false};return {errorMsg:'',isValid:true}};y.prototype.getChildElements=function(){return [this.toButtonElement()]};y.prototype.toButtonElement=function(){var z=this.get('childElements').count()===0?'PLACEHOLDER_FOOTER_CHILD_ID':this.get('childElements').first().get('id');return new (c('AdsCanvasButtonElement'))(babelHelpers['extends']({},this.toJS(),{id:z,elementType:w.BUTTON,richFormatText:this.get('richFormatText')}))};y.prototype.toAPI=function(){return {background_color:this.get('backgroundColor'),child_elements:this.get('childElements').map(function(z){return z.getID()}).toArray(),name:this.get('name')}};y.prototype.isSwipeToOpenEligible=function(){return !!this.link&&this.destination!==l.CANVAS&&c('RichMediaEditorUtil').isValidURL(this.link)};function y(){j.apply(this,arguments)}f.exports=y}),null);
__d('AdsCanvasElementStyle',['AdsCanvasBuilderAPIUtils'],(function a(b,c,d,e,f,g){'use strict';var h={layout:'fit_to_width'};function i(k){return {layout:c('AdsCanvasBuilderAPIUtils').convertLayoutFromAPI(k)}}function j(k){return {style:c('AdsCanvasBuilderAPIUtils').convertLayoutToAPI(k)}}f.exports={AdsCanvasElementStyleDefault:h,getStyleFields:i,setStyleFields:j}}),null);
__d('AdsCanvasProductTagRecord',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record({catalogID:undefined,coordinates:undefined,productID:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasProductTag',['AdsCanvasProductTagRecord','immutable','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Map;h=babelHelpers.inherits(k,c('AdsCanvasProductTagRecord'));i=h&&h.prototype;k.fromAPI=function(l){return new k({catalogID:c('nullthrows')(l.catalog_id),coordinates:!l.coordinates?null:j({x:l.coordinates[0],y:l.coordinates[1]}),productID:l.product_id})};k.prototype.toAPI=function(){var l=this.coordinates;return {coordinates:l?[l.get('x'),l.get('y')]:null,product_id:this.productID}};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasPhotoElement',['fbt','AdsCanvasEditorEnums','AdsCanvasElementBase','AdsCanvasElementDestination','AdsCanvasElementStyle','AdsCanvasLookBookTemplateDefaultProducts','AdsCanvasProductTag','immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaElementTypeConstant','RichMediaElementValidationUtil','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('AdsCanvasEditorEnums').LinkDestinationEnum,m=c('AdsCanvasElementBase').AdsCanvasElementRecord,n=c('AdsCanvasElementBase').AdsCanvasElementDefault,o=c('AdsCanvasElementBase').getSharedAPIFields,p=c('AdsCanvasElementBase').setSharedAPIFields,q=c('AdsCanvasElementDestination').AdsCanvasElementDestinationDefault,r=c('AdsCanvasElementDestination').getDestinationFields,s=c('AdsCanvasElementDestination').setDestinationFields,t=c('AdsCanvasElementStyle').AdsCanvasElementStyleDefault,u=c('AdsCanvasElementStyle').getStyleFields,v=c('AdsCanvasElementStyle').setStyleFields,w=c('RichMediaElementTypeConstant').RichMediaElementTypes,x=babelHelpers['extends']({},n,q,t,{catalogID:null,culturalMomentAnnotationImage:null,currentItemIndex:0,description:null,elementGroupKey:null,elementType:w.PHOTO,hideProductPrices:false,name:h._("Photo").toString(),photo:null,productTags:null,type:c('InstantShoppingDocumentElementType').PHOTO,uploadStatus:null}),y=function aa(ba){if(ba==null||ba.length===0)return null;var ca=ba[ba.length-1];if(c('AdsCanvasLookBookTemplateDefaultProducts').productIDs.includes(ca.product_id)){return null}else return ca.catalog_id;};i=babelHelpers.inherits(z,m(x));j=i&&i.prototype;z.fromAPI=function(aa){return new z(babelHelpers['extends']({},o(aa),r(aa.action?aa.action.url:null,aa.deep_link),u(aa.style),{elementGroupKey:aa.element_group_key,hideProductPrices:aa.hide_product_prices,photo:!aa.photo?null:{height:aa.photo.height,id:aa.photo.id,src:aa.photo.source,width:aa.photo.width},catalogID:y(aa.product_tags),productTags:aa.product_tags==null?null:k(aa.product_tags.map(function(ba){return c('AdsCanvasProductTag').fromAPI(ba)}))}))};z.createNewElement=function(aa,ba){return new z({id:aa,productTags:ba?k([]):null})};z.validate=function(aa,ba){if(!aa.photo)return {isValid:false,errorMsg:h._("Missing photo")};if(aa.link&&!c('RichMediaEditorUtil').isValidURL(aa.link))if(aa.destination===l.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};var ca=c('RichMediaElementValidationUtil').validateForAppstoreDestination(aa,ba);if(!ca.isValid)return ca;if(aa.deeplink)if(!c('validateDeepLink')(aa.deeplink))return {isValid:false,errorMsg:h._("Invalid Deeplink")};if(aa.uploadStatus&&aa.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};if(aa.productTags){var da=aa.productTags;if(da.count()===0)return {isValid:false,errorMsg:h._("Must tag at least 1 product")};if(da.some(function(ea){return c('AdsCanvasLookBookTemplateDefaultProducts').productIDs.includes(ea.productID)}))return {isValid:false,errorMsg:h._("Cannot use default products")};}return {isValid:true,errorMsg:''}};z.prototype.toAPI=function(){var aa=this.layout,ba=this.link,ca=this.photo;return babelHelpers['extends']({},p(this),s(aa==='fit_to_width'?ba:null),v(aa),{element_group_key:this.get('elementGroupKey'),hide_product_prices:this.hideProductPrices,photo_id:ca?ca.id:null,product_tags:!this.productTags?null:this.productTags.map(function(da){return da.toAPI()}).toArray()})};z.prototype.isSwipeToOpenEligible=function(){return this.layout==='fit_to_width'&&!!this.link&&this.destination!==l.CANVAS&&c('RichMediaEditorUtil').isValidURL(this.link)};function z(){i.apply(this,arguments)}f.exports=z}),null);
__d("XCanvasPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/canvas\/upload\/photo\/",{photo_url:{type:"String"}})}),null);
__d('RichMediaEditorUploader',['ActorURI','AsyncUploadRequest','XCanvasPhotoUploadController'],(function a(b,c,d,e,f,g){'use strict';var h={upload:function i(j,k,l){var m=c('ActorURI').create(c('XCanvasPhotoUploadController').getURIBuilder().getURI(),j),n=new (c('AsyncUploadRequest'))(m).setAllowCrossOrigin(false).setFiles({file:k}),o=[];o.push(n.subscribe('progress',function(p,q){var event=q.getProgressEvent();if(event.lengthComputable)l.onProgress(q.getFile(),event.loaded/event.total*100);}));o.push(n.subscribe('success',function(p,q){l.onSuccess(q.getFile(),q.getResponse())}));o.push(n.subscribe('error',function(p,q){l.onError(q.getFile())}));o.push(n.subscribe('complete',function(p,q){while(o.length)o.pop().unsubscribe();}));n.send();return n}};f.exports=h}),null);
__d('AdsCanvasCarouselElement',['fbt','AdsCanvasEditorEnums','AdsCanvasElementBase','AdsCanvasElementStyle','AdsCanvasPhotoElement','immutable','InstantShoppingDocumentElementType','RichMediaEditorUploader','RichMediaEditorUtil','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('immutable').List,m=c('AdsCanvasElementBase').AdsCanvasElementRecord,n=c('AdsCanvasElementBase').AdsCanvasElementDefault,o=c('AdsCanvasElementBase').getSharedAPIFields,p=c('AdsCanvasElementBase').setSharedAPIFields,q=c('AdsCanvasElementStyle').AdsCanvasElementStyleDefault,r=c('AdsCanvasElementStyle').getStyleFields,s=c('AdsCanvasElementStyle').setStyleFields,t=c('RichMediaElementTypeConstant').RichMediaElementTypes,u=babelHelpers['extends']({},n,q,{elementType:t.CAROUSEL,items:l([]),name:h._("Carousel").toString(),selectedItemIndex:0,type:c('InstantShoppingDocumentElementType').SLIDESHOW});i=babelHelpers.inherits(v,m(u));j=i&&i.prototype;v.fromAPI=function(w){return new v(babelHelpers['extends']({},o(w),r(w.style),{items:l(w.child_elements.map(function(x){return c('AdsCanvasPhotoElement').fromAPI(x)}))}))};v.createNewElement=function(w){return new v({id:w,items:l([c('AdsCanvasPhotoElement').createNewElement(w+'_1'),c('AdsCanvasPhotoElement').createNewElement(w+'_2')])})};v.validate=function(w,x){if(w.items.count()<=1)return {errorMsg:h._("Upload at least 2 images to create a carousel"),isValid:false};for(var y=0;y<w.items.count();++y){var z=w.items.get(y),aa=c('AdsCanvasPhotoElement').validate(z,x);if(!aa.isValid)return {errorMsg:h._({"*":"Item {carousel_item_number}"},[h.param('carousel_item_number',y+1,[0])]),isValid:false};}return {errorMsg:'',isValid:true}};v.prototype.toAPI=function(){return babelHelpers['extends']({},p(this),s(this.get('layout')),{child_elements:this.get('items').map(function(w){return w.getID()}).toArray()})};v.prototype.findChidlElementIndexByID=function(w){return this.items.findIndex(function(x){return x.id==w})};v.prototype.getChildElements=function(){return this.get('items').toArray()};v.addItems=function(w,x,y,z,aa,ba,ca){var da,ea=w.get('items'),fa=function ha(ia){var ja=y[ia],ka=c('AdsCanvasPhotoElement').createNewElement('LOCAL_ELEMENT_'+String(Date.now())+ia).set('layout',z);c('RichMediaEditorUploader').upload(x,[ja],{onProgress:function la(ma,na){return aa(ka.id,na)},onSuccess:function la(ma,na){return ba(ka.id,na)},onError:function la(ma){return ca(ka.id)}});ea=ea.push(ka)};for(var ga=0;ga<y.length;ga++)fa(ga);return w.set('selectedItemIndex',w.items.count()).set('items',ea)};v.replaceItem=function(w,x,y,z,aa,ba,ca){var da=w.items.get(x).id;c('RichMediaEditorUploader').upload(y,[z],{onProgress:function ea(fa,ga){return aa(da,ga)},onSuccess:function ea(fa,ga){return ba(da,ga)},onError:function ea(fa){return ca(da)}})};v.prototype.isSwipeToOpenEligible=function(){return this.layout==='fit_to_width'&&this.items.some(function(w){return w.link&&w.destination!==k.CANVAS&&c('RichMediaEditorUtil').isValidURL(w.link)})};function v(){i.apply(this,arguments)}f.exports=v}),null);
__d('AdsCanvasElementCreateErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementCreateError',actionType:'ELEMENT.CREATE_ERROR'};f.exports=h}),null);
__d('AdsCanvasElementCreateErrorDataAction',['AdsCanvasElementCreateErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasElementCreateErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementCreateSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementCreateSuccess',actionType:'ELEMENT.CREATE_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasElementCreateSuccessDataAction',['AdsCanvasElementCreateSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasElementCreateSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementDataLoader',['Promise','AdsGraphAPI','CanvasDataUtils','immutable','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('RichMediaElementTypeConstant').RichMediaElementTypes;j.prototype.getButtonElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_button',k).get({fields:c('CanvasDataUtils').getFieldsForButtonElement(),summary:true})};j.prototype.getCarouselElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_carousel',k).get({fields:c('CanvasDataUtils').getFieldsForCarouselElement(),summary:true})};j.prototype.getElementType=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_element',k).get({fields:c('CanvasDataUtils').getFieldsForElementType(),summary:true})};j.prototype.getFooterElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_footer',k).get({fields:c('CanvasDataUtils').getFieldsForFooterElement(),summary:true})};j.prototype.getHeaderElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_header',k).get({fields:c('CanvasDataUtils').getFieldsForHeaderElement(),summary:true})};j.prototype.getPhotoElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_photo',k).get({fields:c('CanvasDataUtils').getFieldsForPhotoElement(),summary:true})};j.prototype.getProductListElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_product_list',k).get({fields:c('CanvasDataUtils').getFieldsForProductListElement(),summary:true})};j.prototype.getProductSetElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_product_set',k).get({fields:c('CanvasDataUtils').getFieldsForProductSetElement(),summary:true})};j.prototype.getStoreLocatorElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_store_locator',k).get({fields:c('CanvasDataUtils').getFieldsForStoreLocatorElement(),summary:true})};j.prototype.getTextElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_text',k).get({fields:c('CanvasDataUtils').getFieldsForTextElement(),summary:true})};j.prototype.getVideoElement=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_video',k).get({fields:c('CanvasDataUtils').getFieldsForVideoElement(),summary:true})};j.prototype.createElement=function(k,l){switch(k.getElementType()){case i.BUTTON:return this.$AdsCanvasElementDataLoader1(k,l);case i.CAROUSEL:return this.$AdsCanvasElementDataLoader2(k,l);case i.ELEMENT_GROUP:return this.$AdsCanvasElementDataLoader3(k,l);case i.FOOTER:return this.$AdsCanvasElementDataLoader4(k,l);case i.HEADER:return this.$AdsCanvasElementDataLoader5(k,l);case i.PHOTO:return this.$AdsCanvasElementDataLoader6(k,l);case i.PRODUCT_LIST:return this.$AdsCanvasElementDataLoader7(k,l);case i.RICH_TEXT:return this.$AdsCanvasElementDataLoader8(k,l);case i.STORE_LOCATOR:return this.$AdsCanvasElementDataLoader9(k,l);case i.VIDEO:return this.$AdsCanvasElementDataLoader10(k,l);default:throw new Error('Element type '+k.getType()+' not supported.');}};j.prototype.$AdsCanvasElementDataLoader1=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_button:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader2=function(k,l){return c('Promise').all(k.getChildElements().map(function(m){return this.createElement(m,l)}.bind(this))).then(function(m){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_carousel:babelHelpers['extends']({},k.toAPI(),{child_elements:m.map(function(n){return n.id})})})})};j.prototype.$AdsCanvasElementDataLoader4=function(k,l){return c('Promise').all(k.getChildElements().map(function(m){return c('CanvasDataUtils').isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_footer:babelHelpers['extends']({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].getID()}))})})})};j.prototype.$AdsCanvasElementDataLoader5=function(k,l){return c('Promise').all(k.getChildElements().map(function(m){return this.createElement(m,l)}.bind(this))).then(function(m){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_header:babelHelpers['extends']({},k.toAPI(),{child_elements:h(m.map(function(n){return n.id}))})})})};j.prototype.$AdsCanvasElementDataLoader6=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_photo:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader7=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_product_list:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader3=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_product_set:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader9=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_store_locator:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader8=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_text:k.toAPI()})};j.prototype.$AdsCanvasElementDataLoader10=function(k,l){return c('AdsGraphAPI').get(f.id).object('page',l).edge('canvas_elements').post({canvas_video:k.toAPI()})};j.prototype.updateElement=function(k,l){switch(k.getElementType()){case i.BUTTON:return this.$AdsCanvasElementDataLoader11(k);case i.CAROUSEL:return this.$AdsCanvasElementDataLoader12(k,l);case i.ELEMENT_GROUP:return this.$AdsCanvasElementDataLoader13(k);case i.FOOTER:return this.$AdsCanvasElementDataLoader14(k,l);case i.HEADER:return this.$AdsCanvasElementDataLoader15(k,l);case i.PHOTO:return this.$AdsCanvasElementDataLoader16(k);case i.PRODUCT_LIST:return this.$AdsCanvasElementDataLoader17(k);case i.STORE_LOCATOR:return this.$AdsCanvasElementDataLoader18(k);case i.RICH_TEXT:return this.$AdsCanvasElementDataLoader19(k);case i.VIDEO:return this.$AdsCanvasElementDataLoader20(k);default:throw new Error('Element type '+k.getElementType()+' not supported.');}};j.prototype.$AdsCanvasElementDataLoader11=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_button',k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader12=function(k,l){return c('Promise').all(k.getChildElements().map(function(m){return c('CanvasDataUtils').isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c('AdsGraphAPI').get(f.id).object('canvas_carousel',k.getID()).post(babelHelpers['extends']({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].get('id')}))}))})};j.prototype.$AdsCanvasElementDataLoader14=function(k,l){return c('Promise').all(k.getChildElements().map(function(m){return c('CanvasDataUtils').isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c('AdsGraphAPI').get(f.id).object('canvas_footer',k.getID()).post(babelHelpers['extends']({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].getID()}))}))})};j.prototype.$AdsCanvasElementDataLoader15=function(k,l){return c('Promise').all(k.getChildElements().map(function(m){return c('CanvasDataUtils').isNewElement(m)?this.createElement(m,l):this.updateElement(m,l)}.bind(this))).then(function(m){return c('AdsGraphAPI').get(f.id).object('canvas_header',k.getID()).post(babelHelpers['extends']({},k.toAPI(),{child_elements:h(m.map(function(n,o){return n.id?n.id:k.getChildElements()[o].getID()}))}))})};j.prototype.$AdsCanvasElementDataLoader16=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_photo',k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader17=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_product_list',k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader13=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_product_set',k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader18=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_store_locator',k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader19=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_text',k.getID()).post(k.toAPI())};j.prototype.$AdsCanvasElementDataLoader20=function(k){return c('AdsGraphAPI').get(f.id).object('canvas_video',k.getID()).post(k.toAPI())};function j(){}f.exports=new j()}),null);
__d('AdsCanvasElementLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementLoadError',actionType:'ELEMENT.LOAD_ERROR'};f.exports=h}),null);
__d('AdsCanvasElementLoadErrorDataAction',['AdsCanvasElementLoadErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasElementLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementLoadSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementLoadSuccess',actionType:'ELEMENT.LOAD_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasElementLoadSuccessDataAction',['AdsCanvasElementLoadSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasElementLoadSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementSaveErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementSaveError',actionType:'ELEMENT.SAVE_ERROR'};f.exports=h}),null);
__d('AdsCanvasElementSaveErrorDataAction',['AdsCanvasElementSaveErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasElementSaveErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasElementSaveSuccessDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasElementSaveSuccess',actionType:'ELEMENT.SAVE_SUCCESS'};f.exports=h}),null);
__d('AdsCanvasElementSaveSuccessDataAction',['AdsCanvasElementSaveSuccessDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasElementSaveSuccessDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasTextElement',['fbt','AdsCanvasElementBase','AdsCanvasElementRichText','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaElementTypeConstant','RichMediaRichFormatText'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasElementBase').AdsCanvasElementRecord,l=c('AdsCanvasElementBase').AdsCanvasElementDefault,m=c('AdsCanvasElementBase').getSharedAPIFields,n=c('AdsCanvasElementBase').setSharedAPIFields,o=c('AdsCanvasElementRichText').AdsCanvasElementRichTextDefault,p=c('AdsCanvasElementRichText').getRichTextFields,q=c('AdsCanvasElementRichText').setRichTextFields,r=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,s=c('RichMediaElementTypeConstant').RichMediaElementTypes,t=babelHelpers['extends']({},l,o,{backgroundColor:'#FFFFFF',elementType:s.RICH_TEXT,name:h._("Text").toString(),padding:{paddingTop:r,paddingBottom:r},type:c('InstantShoppingDocumentElementType').RICH_TEXT,elementGroupKey:null});i=babelHelpers.inherits(u,k(t));j=i&&i.prototype;u.fromAPI=function(v){return new u(babelHelpers['extends']({},m(v),p({font_family:v.font_family,font_size:v.font_size,line_height:v.line_height,rich_text:v.rich_text,text_alignment:v.text_alignment,text_color:v.text_color}),{backgroundColor:'#'+v.background_color.substring(2),elementGroupKey:v.element_group_key}))};u.createNewElement=function(v){return new u({id:v})};u.validate=function(v){var w=c('RichMediaRichFormatText').getPlainTextFromComposedText(v.richFormatText.composedText);if(w.length===0)return {errorMsg:h._("Empty text block is not allowed"),isValid:false};return {isValid:true,errorMsg:''}};u.prototype.toAPI=function(){return babelHelpers['extends']({},n(this),q(this.get('richFormatText')),{background_color:this.get('backgroundColor'),element_group_key:this.get('elementGroupKey')})};function u(){i.apply(this,arguments)}f.exports=u}),null);
__d('CanvasColorUtils',['Assert','colr'],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=Math.floor(k*255/100).toString(16);if(l.length===1)l='0'+l;return l}function i(k){c('Assert').isTrue(k.length<=2,'invalid hex string: '+k);return Math.ceil(parseInt(k,16)/255*100)}function j(k){return c('colr').fromHex(k).toGrayscale()/255}f.exports={convertColorWithOpacityToARGB:function k(l){var m=l.color;c('Assert').isTrue(6===m.length,'unexpected length string: '+m);var n=h(l.opacity)+m;c('Assert').isTrue(n.length===8,'generated invalid argb: '+n);return n},convertARGBToColorWithOpacity:function k(l){c('Assert').isTrue(l.length===8,'Got argb: '+l);return {color:l.slice(2),opacity:i(l.slice(0,2))}},convertRGBtoCSSColorWithOpacity:function k(l,m){c('Assert').isTrue(6===l.length,'unexpected length string: '+l);return 'rgba('+parseInt(l.slice(0,2),16)+','+parseInt(l.slice(2,4),16)+','+parseInt(l.slice(4,6),16)+','+m+')'},luminosityOfColor:j,colorContrastingWith:function k(l){return j(l)>.5?'#000':'#FFF'}}}),null);
__d('AdsCanvasHeaderElement',['fbt','AdsCanvasElementBase','AdsCanvasPhotoElement','AdsCanvasTextElement','CanvasColorUtils','immutable','InstantShoppingDocumentElementType','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasElementBase').AdsCanvasElementRecord,l=c('AdsCanvasElementBase').AdsCanvasElementDefault,m=c('AdsCanvasElementBase').getSharedAPIFields,n=c('immutable').List,o=c('RichMediaElementTypeConstant').RichMediaElementTypes,p=babelHelpers['extends']({},l,{backgroundColor:'FFFFFFFF',richFormatText:null,isCulturalMomentHeader:false,childElements:n([]),elementType:o.HEADER,name:h._("Header").toString(),photo:null,type:c('InstantShoppingDocumentElementType').HEADER,uploadStatus:null});i=babelHelpers.inherits(q,k(p));j=i&&i.prototype;q.fromAPI=function(r){var s=r.child_elements.length===0?null:r.child_elements[0],t=null,u=null;if(s&&s.element_type===o.PHOTO){t=s.photo?{height:s.photo.height,id:s.photo.id,src:s.photo.source,width:s.photo.width}:null}else if(s&&s.element_type===o.RICH_TEXT){var v=c('AdsCanvasTextElement').fromAPI(s);u=v.get('richFormatText')}return new q(babelHelpers['extends']({},m(r),{backgroundColor:r.background_color?r.background_color:p.backgroundColor,childElements:n(r.child_elements.map(function(w){switch(w.element_type){case o.PHOTO:return c('AdsCanvasPhotoElement').fromAPI(w);case o.RICH_TEXT:return c('AdsCanvasTextElement').fromAPI(w);default:throw new Error('Header element should only have text or photo child');}})),photo:t,richFormatText:u}))};q.createNewElement=function(r){return new q({id:r})};q.validate=function(r){if(!r.photo)return {errorMsg:h._("Missing photo"),isValid:false};if(!r.backgroundColor)return {errorMsg:h._("Missing background color"),isValid:false};if(r.uploadStatus&&r.uploadStatus.isUploading!==false)return {errorMsg:'',isValid:false};return {errorMsg:'',isValid:true}};q.prototype.toPhotoElement=function(){return new (c('AdsCanvasPhotoElement'))({id:this.$AdsCanvasHeaderElement1(),photo:this.get('photo')})};q.prototype.toTextElement=function(){return new (c('AdsCanvasTextElement'))({id:this.$AdsCanvasHeaderElement1(),richFormatText:this.get('richFormatText')})};q.prototype.$AdsCanvasHeaderElement1=function(){return this.get('childElements').count()===0?'PLACEHOLDER_HEADER_CHILD_ID':this.get('childElements').first().get('id')};q.prototype.getChildElements=function(){if(this.get('richFormatText'))return [this.toTextElement()];return [this.toPhotoElement()]};q.prototype.toAPI=function(){return {name:this.get('name'),background_color:this.get('backgroundColor'),child_elements:this.get('childElements').map(function(r){return r.getID()}).toArray()}};q.prototype.isOpaque=function(){var r=c('CanvasColorUtils').convertARGBToColorWithOpacity(this.get('backgroundColor'));if(r.opacity===100)return true;return false};function q(){i.apply(this,arguments)}f.exports=q}),null);
__d('AdsCanvasProductListElement',['fbt','AdsCanvasElementBase','immutable','InstantShoppingDocumentElementType','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('AdsCanvasElementBase').AdsCanvasElementRecord,m=c('AdsCanvasElementBase').AdsCanvasElementDefault,n=c('AdsCanvasElementBase').getSharedAPIFields,o=c('AdsCanvasElementBase').setSharedAPIFields,p=c('RichMediaElementTypeConstant').RichMediaElementTypes,q=babelHelpers['extends']({},m,{catalogID:null,currentItemIndex:0,description:null,elementType:p.PRODUCT_LIST,name:h._("Product List").toString(),productIDList:k(),itemHeadlineTemplate:null,itemDescriptionTemplate:null,type:c('InstantShoppingDocumentElementType').PRODUCT_LIST});i=babelHelpers.inherits(r,l(q));j=i&&i.prototype;r.fromAPI=function(s){var t=s.productList;return new r(babelHelpers['extends']({},n(s),{productList:t?{catalogID:t.product_catalog_id,productIDList:k(t.product_id_list),itemHeadlineTemplate:t.item_headline,itemDescriptionTemplate:t.item_description}:null}))};r.createNewElement=function(s){return new r({id:s})};r.validate=function(s,t){if(!s.productIDList||s.productIDList.length<4)return {isValid:false,errorMsg:h._("Please add more products, the minimum products count is 4")};return {isValid:true,errorMsg:''}};r.prototype.toAPI=function(){return babelHelpers['extends']({},o(this),{product_id_list:this.productIDList.toArray(),item_headline:this.itemHeadlineTemplate,item_description:this.itemDescriptionTemplate})};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d('AdsCanvasProductSetElement',['fbt','AdsCanvasElementBase','AdsCollectionsConstants','InstantShoppingDocumentElementType','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasElementBase').AdsCanvasElementRecord,l=c('AdsCanvasElementBase').AdsCanvasElementDefault,m=c('AdsCanvasElementBase').getSharedAPIFields,n=c('AdsCanvasElementBase').setSharedAPIFields,o=c('RichMediaElementTypeConstant').RichMediaElementTypes,p=babelHelpers['extends']({},l,{catalogID:null,elementType:o.ELEMENT_GROUP,itemDescriptionTemplate:null,itemHeadlineTemplate:null,limit:c('AdsCollectionsConstants').COLLECTION_PRODUCT_MAX_COUNT,name:h._("Product Set").toString(),retailerItemIDs:c('AdsCollectionsConstants').EMPTY_COLLECTIONS_RETAIL_ID,setID:null,type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP});i=babelHelpers.inherits(q,k(p));j=i&&i.prototype;q.fromAPI=function(r){return new q(babelHelpers['extends']({},m(r),{catalogID:r.product_catalog_id,itemDescriptionTemplate:r.item_description,itemHeadlineTemplate:r.item_headline,limit:r.max_products,setID:r.product_set_id}))};q.createNewElement=function(r){return new q({id:r})};q.validate=function(r,s){if(r.catalogID==null)return {errorMsg:h._("Missing catalog ID"),isValid:false};if(r.setID==null)return {errorMsg:h._("Please choose or create a Product Set from your Product Catalog"),isValid:false};if(r.limit<=0)return {errorMsg:h._("Invalid maximum products count"),isValid:false};if(s&&r.itemHeadlineTemplate&&!this.$AdsCanvasProductSetElement1(s,r.itemHeadlineTemplate))return {errorMsg:h._("The template field you chose is not valid."),isValid:false};if(s&&r.itemDescriptionTemplate&&!this.$AdsCanvasProductSetElement1(s,r.itemDescriptionTemplate))return {errorMsg:h._("The template field you chose is not valid."),isValid:false};return {errorMsg:'',isValid:true}};q.$AdsCanvasProductSetElement1=function(r,s){var t=s.match(/(\{\{[a-z]+\.[a-z]+\}\})/g);return t?t.every(function(u){if(u===c('AdsCollectionsConstants').POST_CLICK_FIELD_HIDE)return true;var v=r.getFieldConfig().fields.findIndex(function(w){return '{{'+w.property+'}}'===u});return v!==-1}):true};q.prototype.toAPI=function(){return babelHelpers['extends']({},n(this),{item_description:this.get('itemDescriptionTemplate'),item_headline:this.get('itemHeadlineTemplate'),max_items:this.get('limit'),product_set_id:this.get('setID'),retailer_item_ids:this.get('retailerItemIDs')})};function q(){i.apply(this,arguments)}f.exports=q}),null);
__d('AdsCanvasDailyDialogueSVGElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').DAILY_DIALOGUE_FB_TIPS,index:0,expanded:false,advancedExpanded:false,CMSIDs:[],CMSIDsAndroid:[],TitleCMSIDs:[],TitleCMSIDsAndroid:[],SubtitleCMSIDs:[],SubtitleCMSIDsAndroid:[],width:0,height:0,frameNumber:1,frameNumberAndroid:1,previewFetchedTime:0,backgroundColor:'FFFFFFFF',SVGSource:'',permalinks:null},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').DAILY_DIALOGUE_FB_TIPS,expanded:p,advancedExpanded:q,CMSIDs:r,CMSIDsAndroid:s,TitleCMSIDs:t,TitleCMSIDsAndroid:u,SubtitleCMSIDs:v,SubtitleCMSIDsAndroid:w,width:x,height:y,frameNumber:z,frameNumberAndroid:aa,backgroundColor:ba,SVGSource:ca,permalinks:da})};m.createDefault=function(n){return m.create(n,'SVG',true,false,[],[],[],[],[],[],0,0,1,1,'','',null)};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded,n.CMSIDs,n.CMSIDsAndroid,n.TitleCMSIDs,n.TitleCMSIDsAndroid,n.SubtitleCMSIDs,n.SubtitleCMSIDsAndroid,n.width,n.height,n.frameNumber,n.frameNumberAndroid,n.backgroundColor,n.SVGSource,n.permalinks)};m.validate=function(n){if(n.CMSIDs==null||n.CMSIDs.length===0||n.CMSIDsAndroid==null||n.CMSIDsAndroid.length===0||n.TitleCMSIDs==null||n.TitleCMSIDs.length===0||n.SubtitleCMSIDs==null||n.SubtitleCMSIDs.length===0||n.frameNumber===0||n.frameNumberAndroid===0||n.height===0||n.width===0)return {isValid:false,errorMsg:'SVG should be set up'};return {isValid:true,errorMsg:''}};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d('AdsCanvasVideoElement',['fbt','AdsCanvasElementBase','AdsCanvasElementStyle','InstantShoppingDocumentElementType','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasElementBase').AdsCanvasElementRecord,l=c('AdsCanvasElementBase').AdsCanvasElementDefault,m=c('AdsCanvasElementBase').getSharedAPIFields,n=c('AdsCanvasElementBase').setSharedAPIFields,o=c('AdsCanvasElementStyle').AdsCanvasElementStyleDefault,p=c('AdsCanvasElementStyle').getStyleFields,q=c('AdsCanvasElementStyle').setStyleFields,r=c('RichMediaElementTypeConstant').RichMediaElementTypes,s=babelHelpers['extends']({},l,o,{culturalMomentAnnotationImage:null,elementType:r.VIDEO,name:h._("Video").toString(),video:null,type:c('InstantShoppingDocumentElementType').VIDEO,uploadStatus:null});i=babelHelpers.inherits(t,k(s));j=i&&i.prototype;t.fromAPI=function(u){var v=u.video,w=v?v.thumbnails.data.filter(function(x){return x.is_preferred})[0]:null;return new t(babelHelpers['extends']({},m(u),p(u.style),{video:v&&w?{height:w.height,id:v.id,preferredThumbnail:w,spherical:!!v.spherical,width:w.width}:null}))};t.createNewElement=function(u){return new t({id:u})};t.validate=function(u){if(!u.video)return {errorMsg:h._("Missing video"),isValid:false};if(u.uploadStatus&&(u.uploadStatus.isUploading!==false||u.uploadStatus.isEncoding!==false))return {errorMsg:'',isValid:false};return {errorMsg:'',isValid:true}};t.prototype.toAPI=function(){var u=this.get('video');return babelHelpers['extends']({},n(this),q(this.get('layout')),{video_id:u?u.id:null})};function t(){i.apply(this,arguments)}f.exports=t}),null);
__d('RichMediaBundleItem',['fbt','AdsCanvasEditorEnums','immutable','RichMediaEditorUtil','RichMediaElementValidationUtil','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('immutable').Record,m={id:'',index:0,photo:null,name:'',itemHeadline:null,itemDescription:null,description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,uploadStatus:null,uploadRequest:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z,aa,ba){return new o({id:p,index:q,photo:r,name:s,itemHeadline:t,itemDescription:u,description:v,link:w,deeplink:x,linkedCanvasName:y,destination:z,uploadStatus:aa,uploadRequest:ba})};o.createDefault=function(p,q,r){return o.create(p,q,null,'',null,null,null,null,null,null,k.WEBSITE,null,r)};o.createFromObject=function(p){return o.create(p.id||p.name+'_'+Date.now(),p.index,p.photo,p.name,p.itemHeadline,p.itemDescription,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.createFromPayloadAndElementField=function(p,q){if(q)p.photo.src=c('getByPath')(q,['element','photo','source']);return o.create(p.id||p.name+'_'+Date.now(),p.index,p.photo,p.name,p.itemHeadline,p.itemDescription,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.validate=function(p,q){if(!p.photo)return {isValid:false,errorMsg:h._("Missing photo")};if(!p.link)return {isValid:false,errorMsg:h._("Missing destination URL")};if(p.link&&!c('RichMediaEditorUtil').isValidURL(p.link))if(p.destination===k.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};if(!p.itemHeadline)return {isValid:false,errorMsg:h._("Missing Product Headline")};if(!p.itemDescription)return {isValid:false,errorMsg:h._("Missing Product Description")};var r=c('RichMediaElementValidationUtil').validateForAppstoreDestination(p,q);if(!r.isValid)return r;if(p.deeplink)if(!c('validateDeepLink')(p.deeplink))return {isValid:false,errorMsg:h._("Invalid Deeplink")};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''}};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaBundleElement',['fbt','immutable','InstantShoppingDocumentElementType','RichMediaBundleItem','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').BUNDLE,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},layout:'fit_to_width',items:[],selectedItemIndex:0,addFile:function p(){return null},onFileProgress:function p(){return o.createDefault(0)},onFileSuccess:function p(){return o.createDefault(0)},onFileError:function p(){return o.createDefault(0)}},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w){return new o({index:p,name:q,type:c('InstantShoppingDocumentElementType').BUNDLE,expanded:r,advancedExpanded:s,padding:t,layout:u,items:v,selectedItemIndex:w})};o.createDefault=function(p){return o.create(p,h._("Bundle").toString(),true,false,{paddingTop:k,paddingBottom:k},'fit_to_width',[0,1,2,3].map(function(q){return c('RichMediaBundleItem').createDefault('bundle_item_'+q,q,null)}),0)};o.createFromObject=function(p){var q=[],r=0;p.items.forEach(function(t){if(t){var u=c('RichMediaBundleItem').createFromObject(t);q.push(u.set('index',r));r++}});var s=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;s=Math.min(Math.max(0,s),q.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,p.layout,q,s)};o.createFromPayloadAndElementField=function(p,q){var r=[],s=c('getByPath')(q,['element','child_elements','length'],0);for(var t=0;t<p.items.length;t++){var u=p.items[t],v=t<s&&q.element&&q.element.child_elements?q.element.child_elements[t]:null;if(u){var w=c('RichMediaBundleItem').createFromPayloadAndElementField(u,v);r.push(w.set('index',t))}}var x=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;x=Math.min(Math.max(0,x),r.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,p.layout,r,x)};o.validate=function(p,q){if(p.items.length<4)return {isValid:false,errorMsg:h._("Upload at least 4 images to create a bundle").toString()};for(var r=0;r<p.items.length;++r){var s=p.items[r],t=c('RichMediaBundleItem').validate(s,q);if(!t.isValid)return {isValid:false,errorMsg:h._({"*":"Item {bundle_item_number}"},[h.param('bundle_item_number',r+1,[0])]).toString()+' '+t.errorMsg};}return {isValid:true,errorMsg:''}};o.equals=function(p,q){if(p.padding&&(p.padding.paddingTop!==q.padding.paddingTop||p.padding.paddingBottom!==q.padding.paddingBottom)||p.layout!==q.layout||p.selectedItemIndex!==q.selectedItemIndex||p.items.length!==q.items.length||p.items.some(function(r,s){if(!r.photo||!q.items[s].photo)return true;return r.photo.src!==q.items[s].photo.src||r.itemHeadline!==q.items[s].itemHeadline||r.itemDescription!==q.items[s].itemDescription}))return false;return true};o.prototype.addFile=function(p,q){this.items.push(c('RichMediaBundleItem').createDefault(p,this.items.length,q));return this};o.prototype.reorderItem=function(p,q){var r=this.items[p];this.items.splice(p,1);this.items.splice(q,0,r);return this};o.prototype.replaceFile=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});if(r<0)return this;this.items[r]=this.items[r].set('uploadStatus',{isUploading:true,percentage:0});return this};o.prototype.onFileProgress=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set('uploadStatus',{isUploading:true,percentage:q});return this};o.prototype.onFileSuccess=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set('uploadStatus',{isUploading:false}).set('photo',q.payload.photo);return this};o.prototype.onFileError=function(p){var q=this.items.findIndex(function(r){return r.id===p});this.items[q]=this.items[q].set('uploadStatus',{isUploading:false});return this};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaButtonElement',['fbt','immutable','InstantShoppingDocumentElementType','RichMediaEditorUtil','RichMediaElementValidationUtil','RichMediaRichFormatText','RichMediaEditorConstants','AdsCanvasEditorEnums','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,l=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,m=c('AdsCanvasEditorEnums').LinkDestinationEnum,n=c('immutable').Record,o=40,p={id:'',name:'',type:c('InstantShoppingDocumentElementType').BUTTON,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},backgroundColor:'#FFFFFF',buttonColor:'#000',isFilled:false,isFixedToBottom:false,link:'',deeplink:null,linkedCanvasName:null,destination:m.WEBSITE,richFormatText:c('RichMediaRichFormatText').createDefault()},q=n(p);i=babelHelpers.inherits(r,q);j=i&&i.prototype;r.create=function(s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){return new r({index:s,name:t,type:c('InstantShoppingDocumentElementType').BUTTON,expanded:u,advancedExpanded:v,padding:w,buttonColor:x,backgroundColor:y,isFilled:z,isFixedToBottom:aa,link:ba,deeplink:ca,linkedCanvasName:da,destination:ea,richFormatText:fa})};r.createDefault=function(s){return r.create(s,h._("Button").toString(),true,false,{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},'#000','#FFFFFF',false,false,'',null,null,m.WEBSITE,c('RichMediaRichFormatText').createDefault())};r.createFromObject=function(s){return r.create(s.index,s.name,s.expanded,s.advancedExpanded,{paddingTop:s.padding&&s.padding.paddingTop?s.padding.paddingTop:k,paddingBottom:s.padding&&s.padding.paddingBottom?s.padding.paddingBottom:k,paddingLeft:s.padding&&s.padding.paddingLeft?s.padding.paddingLeft:l,paddingRight:s.padding&&s.padding.paddingRight?s.padding.paddingRight:l},s.buttonColor,s.backgroundColor?s.backgroundColor:'#FFFFFF',s.isFilled,s.isFixedToBottom,s.link,s.deeplink,s.linkedCanvasName,s.destination,c('RichMediaRichFormatText').createFromObject(s.richFormatText))};r.createFromAdAsset=function(s,t,u){return r.create(s,'Button',true,false,{paddingTop:k,paddingBottom:k,paddingLeft:l,paddingRight:l},'#000','#FFFFFF',false,t,'',null,null,m.WEBSITE,c('RichMediaRichFormatText').createFromAdAsset(u))};r.validate=function(s,t){if(!s.link)return {isValid:false,errorMsg:h._("Empty Link URL")};if(!c('RichMediaEditorUtil').isValidURL(s.link))if(s.destination===m.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};var u=c('RichMediaElementValidationUtil').validateForAppstoreDestination(s,t);if(!u.isValid)return u;if(s.deeplink)if(!c('validateDeepLink')(s.deeplink))return {isValid:false,errorMsg:h._("Invalid Deeplink")};var v=c('RichMediaRichFormatText').getPlainTextFromComposedText(s.richFormatText.composedText);if(v.length<=0)return {isValid:false,errorMsg:h._("Button text not provided")};if(v.length>o)return {isValid:false,errorMsg:h._({"*":"Button text exceeds {number} characters"},[h.param('number',o,[0])])};return {isValid:true,errorMsg:''}};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d('RichMediaCarouselItem',['fbt','AdsCanvasEditorEnums','immutable','RichMediaEditorUtil','RichMediaElementValidationUtil','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('immutable').Record,m={id:'',index:0,photo:null,name:'',description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,uploadStatus:null,uploadRequest:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z){return new o({id:p,index:q,photo:r,name:s,description:t,link:u,deeplink:v,linkedCanvasName:w,destination:x,uploadStatus:y,uploadRequest:z})};o.createDefault=function(p,q,r){return o.create(p,q,null,'',null,null,null,null,k.WEBSITE,null,r)};o.createFromObject=function(p){return o.create(p.id||p.name+'_'+Date.now(),p.index,p.photo,p.name,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.createFromPayloadAndElementField=function(p,q){if(q)p.photo.src=c('getByPath')(q,['element','photo','source']);return o.create(p.id||p.name+'_'+Date.now(),p.index,p.photo,p.name,p.description,p.link,p.deeplink,p.linkedCanvasName,p.destination,null,p.uploadRequest)};o.validate=function(p,q){if(!p.photo)return {isValid:false,errorMsg:h._("Missing photo")};if(p.link&&!c('RichMediaEditorUtil').isValidURL(p.link))if(p.destination===k.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};var r=c('RichMediaElementValidationUtil').validateForAppstoreDestination(p,q);if(!r.isValid)return r;if(p.deeplink)if(!c('validateDeepLink')(p.deeplink))return {isValid:false,errorMsg:h._("Invalid Deeplink")};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''}};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaCarouselElement',['fbt','immutable','InstantShoppingDocumentElementType','RichMediaCarouselItem','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').SLIDESHOW,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},layout:'fit_to_width',items:[],selectedItemIndex:0,addFile:function p(){return null},onFileProgress:function p(){return o.createDefault(0)},onFileSuccess:function p(){return o.createDefault(0)},onFileError:function p(){return o.createDefault(0)}},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w){return new o({index:p,name:q,type:c('InstantShoppingDocumentElementType').SLIDESHOW,expanded:r,advancedExpanded:s,padding:t,layout:u,items:v,selectedItemIndex:w})};o.createDefault=function(p){return o.create(p,h._("Carousel").toString(),true,false,{paddingTop:k,paddingBottom:k},'fit_to_width',[0,1].map(function(q){return c('RichMediaCarouselItem').createDefault(q+'_'+Math.round(Math.random()*10000)+'_'+Date.now(),q,null)}),0)};o.createFromObject=function(p,q){var r=[],s=0;p.items.forEach(function(u){if(u){var v=c('RichMediaCarouselItem').createFromObject(u);r.push(v.set('index',s));s++}});var t=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;t=Math.min(Math.max(0,t),r.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,q?'fit_to_width':p.layout,r,t)};o.createFromPayloadAndElementField=function(p,q){var r=[],s=c('getByPath')(q,['element','child_elements','length'],0);for(var t=0;t<p.items.length;t++){var u=p.items[t],v=t<s&&q.element&&q.element.child_elements?q.element.child_elements[t]:null;if(u){var w=c('RichMediaCarouselItem').createFromPayloadAndElementField(u,v);r.push(w.set('index',t))}}var x=p.selectedItemIndex||p.selectedItemIndex===0?p.selectedItemIndex:0;x=Math.min(Math.max(0,x),r.length-1);return o.create(p.index,p.name,p.expanded,p.advancedExpanded,p.padding,p.layout,r,x)};o.validate=function(p,q){if(p.items.length<=1)return {isValid:false,errorMsg:h._("Upload at least 2 images to create a carousel").toString()};for(var r=0;r<p.items.length;++r){var s=p.items[r],t=c('RichMediaCarouselItem').validate(s,q);if(!t.isValid)return {isValid:false,errorMsg:h._({"*":"Item {carousel_item_number}"},[h.param('carousel_item_number',r+1,[0])]).toString()+t.errorMsg};}return {isValid:true,errorMsg:''}};o.equals=function(p,q){if(p.padding&&(p.padding.paddingTop!==q.padding.paddingTop||p.padding.paddingBottom!==q.padding.paddingBottom)||p.layout!==q.layout||p.selectedItemIndex!==q.selectedItemIndex||p.items.length!==q.items.length||p.items.some(function(r,s){if(!r.photo||!q.items[s].photo)return true;return r.photo.src!==q.items[s].photo.src}))return false;return true};o.prototype.addFile=function(p,q){this.items.push(c('RichMediaCarouselItem').createDefault(p,this.items.length,q));return this};o.prototype.reorderItem=function(p,q){var r=this.items[p];this.items.splice(p,1);this.items.splice(q,0,r);return this};o.prototype.replaceFile=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});if(r<0)return this;this.items[r]=this.items[r].set('uploadStatus',{isUploading:true,percentage:0});return this};o.prototype.onFileProgress=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set('uploadStatus',{isUploading:true,percentage:q});return this};o.prototype.onFileSuccess=function(p,q){var r=this.items.findIndex(function(s){return s.id===p});this.items[r]=this.items[r].set('uploadStatus',{isUploading:false}).set('photo',q.payload.photo);return this};o.prototype.onFileError=function(p){var q=this.items.findIndex(function(r){return r.id===p});this.items[q]=this.items[q].set('uploadStatus',{isUploading:false});return this};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaHeaderElement',['fbt','CanvasColorUtils','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').HEADER,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},fixToTop:true,photo:null,backgroundColor:null,isCulturalMomentHeader:null,uploadStatus:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x){return new o({name:p,type:c('InstantShoppingDocumentElementType').HEADER,expanded:r,advancedExpanded:s,padding:t,index:q,fixToTop:true,photo:u,backgroundColor:v,isCulturalMomentHeader:w,uploadStatus:x})};o.createDefault=function(p){return o.create(h._("Header").toString(),p,true,false,{paddingTop:k,paddingBottom:k},null,'FFFFFFFF',null,null)};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.photo,p.backgroundColor,p.isCulturalMomentHeader)};o.createFromPayloadAndElementField=function(p,q){if(p.photo)p.photo.src=c('getByPath')(q,['element','child_elements','0','element','photo','source']);return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.photo,p.backgroundColor,p.isCulturalMomentHeader)};o.validate=function(p){if(!p.photo)return {isValid:false,errorMsg:h._("Missing photo")};if(!p.backgroundColor)return {isValid:false,errorMsg:h._("Missing background color")};if(p.uploadStatus&&p.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''}};o.prototype.isOpaque=function(){if(!this.backgroundColor)return true;var p=c('CanvasColorUtils').convertARGBToColorWithOpacity(this.backgroundColor);if(p.opacity===100)return true;return false};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaCulturalMomentHeaderElement',['InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaHeaderElement'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING;h=babelHelpers.inherits(k,c('RichMediaHeaderElement'));i=h&&h.prototype;k.create=function(l,m,n,o,p,q,r,s,t){return new k({name:l,type:c('InstantShoppingDocumentElementType').HEADER,expanded:n,advancedExpanded:o,padding:p,index:m,fixToTop:true,photo:q,backgroundColor:r,isCulturalMomentHeader:s,uploadStatus:t})};k.createDefault=function(l){return k.create('Header',l,true,false,{paddingTop:j,paddingBottom:j},null,'FF000000',true,null)};k.createFromObject=function(l){return k.create(l.name,l.index,l.expanded,l.advancedExpanded,l.padding,l.photo,l.backgroundColor,l.isCulturalMomentHeader)};k.createFromPayloadAndElementField=function(l,m){return k.create(l.name,l.index,l.expanded,l.advancedExpanded,l.padding,l.photo,l.backgroundColor,l.isCulturalMomentHeader)};k.validate=function(l){if(!l.backgroundColor)return {isValid:false,errorMsg:'Missing background color'};return {isValid:true,errorMsg:''}};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('RichMediaCultureMomentPopularMediaElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').CULTURAL_MOMENT_POPULAR_MEDIA,index:0,previewOnly:true,expanded:false,advancedExpanded:false,keyword:'',previewPhotos:null,previewFetchedTime:0,handPickedPhotos:['','','','',''],useKeywordSearch:false,title:'',actionTitle:'',uriForSeeAll:'',permalinks:null},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q,r,s,t,u,v,w,x,y,z){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').CULTURAL_MOMENT_POPULAR_MEDIA,previewOnly:p,expanded:q,advancedExpanded:r,keyword:s,previewPhotos:t,handPickedPhotos:u,useKeywordSearch:v,title:w,actionTitle:x,uriForSeeAll:y,permalinks:z})};m.createDefault=function(n){return m.create(n,'Culture Moment Popular Media Image',true,true,false,'',null,['','','','',''],false,'','','',null)};m.createFromObject=function(n){return m.create(n.index,n.name,n.previewOnly,n.expanded,n.advancedExpanded,n.keyword,n.previewPhotos,n.handPickedPhotos,n.useKeywordSearch,n.title,n.actionTitle,n.uriForSeeAll,n.permalinks)};m.validate=function(n){if(n.keyword==null||n.keyword.length===0)return {isValid:false,errorMsg:'Keyword should be set up'};return {isValid:true,errorMsg:''}};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d('RichMediaPhotoElement',['fbt','AdsCanvasEditorEnums','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaEditorUtil','RichMediaElementValidationUtil','getByPath','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,m=c('immutable').Record,n={id:'',name:'',type:c('InstantShoppingDocumentElementType').PHOTO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:l,paddingBottom:l},layout:'fit_to_width',description:null,link:null,deeplink:null,linkedCanvasName:null,destination:k.WEBSITE,photo:null,culturalMomentAnnotationImage:null,uploadStatus:null,crops:null,elementGroupKey:null},o=m(n);i=babelHelpers.inherits(p,o);j=i&&i.prototype;p.create=function(q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){return new p({name:q,type:c('InstantShoppingDocumentElementType').PHOTO,index:r,expanded:s,advancedExpanded:t,padding:u,layout:v,description:w,link:x,deeplink:y,linkedCanvasName:z,destination:aa,photo:ba,culturalMomentAnnotationImage:ca,uploadStatus:da,crops:ea,elementGroupKey:fa})};p.createFromBundle=function(q,r,s){return p.create('item_photo',r,true,false,{paddingBottom:'0',paddingTop:'0'},'fit_to_width',null,q.link,null,null,k.WEBSITE,q.photo,null,null,null,s)};p.createDefault=function(q){return p.create('Photo',q,true,false,{paddingTop:l,paddingBottom:l},'fit_to_width',null,null,null,null,k.WEBSITE,null,null,null,null)};p.createFromObject=function(q,r){return p.create(q.name,q.index,q.expanded,q.advancedExpanded,q.padding,r?'fit_to_width':q.layout,q.description,q.link,q.deeplink,q.linkedCanvasName,q.destination,q.photo,q.culturalMomentAnnotationImage,null,q.crops,q.elementGroupKey)};p.createFromPayloadAndElementField=function(q,r){if(q.photo)q.photo.src=c('getByPath')(r,['element','photo','images','0','source']);return p.create(q.name,q.index,q.expanded,q.advancedExpanded,q.padding,q.layout,q.description,q.link,q.deeplink,q.linkedCanvasName,q.destination,q.photo,q.culturalMomentAnnotationImage,null,q.crops,q.elementGroupKey)};p.createFromAdAsset=function(q,r,s){return p.create(h._("Photo").toString(),q,true,false,{paddingTop:l,paddingBottom:l},'fit_to_width',null,r.link,null,null,k.WEBSITE,r,null,null,s,null)};p.validate=function(q,r){if(!q.photo)return {isValid:false,errorMsg:h._("Missing photo")};if(q.link&&!c('RichMediaEditorUtil').isValidURL(q.link))if(q.destination===k.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};var s=c('RichMediaElementValidationUtil').validateForAppstoreDestination(q,r);if(!s.isValid)return s;if(q.deeplink)if(!c('validateDeepLink')(q.deeplink))return {isValid:false,errorMsg:h._("Invalid Deeplink")};if(q.uploadStatus&&q.uploadStatus.isUploading!==false)return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''}};function p(){i.apply(this,arguments)}f.exports=p}),null);
__d('RichMediaProductSetElement',['fbt','AdsCollectionsConstants','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},catalogID:null,setID:null,limit:0,retailerItemIDs:null,itemHeadlineTemplate:null,itemDescriptionTemplate:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x,y,z){return new o({name:p,index:q,type:c('InstantShoppingDocumentElementType').ELEMENT_GROUP,expanded:r,advancedExpanded:s,padding:t,catalogID:u,setID:v,limit:w,retailerItemIDs:x,itemHeadlineTemplate:y,itemDescriptionTemplate:z})};o.createDefault=function(p){return o.create('Product',p,true,false,{paddingTop:k,paddingBottom:k},null,null,c('AdsCollectionsConstants').COLLECTION_PRODUCT_MAX_COUNT,null,null,null)};o.createFromObject=function(p){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,p.catalogID,p.setID,p.limit,p.retailerItemIDs,p.itemHeadlineTemplate,p.itemDescriptionTemplate)};o.createFromAdAsset=function(p,q,r,s,t,u){return o.create(h._("Product").toString(),p,true,false,{paddingTop:k,paddingBottom:k},q,r,c('AdsCollectionsConstants').COLLECTION_PRODUCT_MAX_COUNT,s,t,u)};o.validate=function(p,q){if(p.catalogID==null)return {isValid:false,errorMsg:h._("Missing catalog ID")};if(p.setID==null)return {isValid:false,errorMsg:h._("Please choose or create a Product Set from your Product Catalog")};if(p.limit<=0)return {isValid:false,errorMsg:h._("Invalid maximum products count")};if(q&&p.itemHeadlineTemplate&&!o.$RichMediaProductSetElement1(q,p.itemHeadlineTemplate))return {isValid:false,errorMsg:h._("The template field you chose is not valid.")};if(q&&p.itemDescriptionTemplate&&!o.$RichMediaProductSetElement1(q,p.itemDescriptionTemplate))return {isValid:false,errorMsg:h._("The template field you chose is not valid.")};return {isValid:true,errorMsg:''}};o.$RichMediaProductSetElement1=function(p,q){var r=q.match(/(\{\{[a-z]+\.[a-z]+\}\})/g);return r?r.every(function(s){if(s===c('AdsCollectionsConstants').POST_CLICK_FIELD_HIDE)return true;var t=p.getFieldConfig().fields.findIndex(function(u){return '{{'+u.property+'}}'===s});return t!==-1}):true};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaTextElement',['fbt','AdsCanvasEditorEnums','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaEditorUtil','RichMediaRichFormatText','validateDeepLink'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('RichMediaEditorConstants').EDITOR_DEFAULT_LINE_HEIGHT,m=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_VERTICAL,n=c('RichMediaEditorConstants').EDITOR_DEFAULT_TEXT_BUTTON_PADDING_HORIZONTAL,o=c('immutable').Record,p={id:'',name:'',type:c('InstantShoppingDocumentElementType').RICH_TEXT,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:m,paddingBottom:m,paddingLeft:n,paddingRight:n},richFormatText:{composedText:{entityMap:{},blocks:[]},textAlignment:'center',textColor:'#000',fontSize:12,fontFamily:'sans-serif',lineHeight:l},backgroundColor:'#FFFFFF',link:null,deeplink:null,destination:k.WEBSITE,elementGroupKey:null},q=o(p);i=babelHelpers.inherits(r,q);j=i&&i.prototype;r.create=function(s,t,u,v,w,x,y,z,aa,ba,ca){return new r({index:s,name:t,type:c('InstantShoppingDocumentElementType').RICH_TEXT,expanded:u,advancedExpanded:v,padding:w,richFormatText:x,backgroundColor:y,link:z,deeplink:aa,destination:ba,elementGroupKey:ca})};r.createDefault=function(s){return r.create(s,h._("Text").toString(),true,false,{paddingTop:m,paddingBottom:m,paddingLeft:n,paddingRight:n},c('RichMediaRichFormatText').createDefault(),'#FFFFFF',null,null,k.WEBSITE,null)};r.createFromBundle=function(s,t,u,v,w){var x=w==='item_headline'?'20':'4',y=w==='item_headline'?'0':'32';return r.create(u,w,true,false,{paddingTop:x,paddingBottom:y,paddingLeft:n,paddingRight:n},c('RichMediaRichFormatText').createFromBundle(s,w),'#FFFFFF',t,null,k.WEBSITE,v)};r.createFromObject=function(s){return r.create(s.index,s.name,s.expanded,s.advancedExpanded,{paddingTop:s.padding&&s.padding.paddingTop?s.padding.paddingTop:m,paddingBottom:s.padding&&s.padding.paddingBottom?s.padding.paddingBottom:m,paddingLeft:s.padding&&s.padding.paddingLeft?s.padding.paddingLeft:n,paddingRight:s.padding&&s.padding.paddingRight?s.padding.paddingRight:n},c('RichMediaRichFormatText').createFromObject(s.richFormatText),s.backgroundColor,s.link,s.deeplink,s.destination?s.destination:k.WEBSITE,s.elementGroupKey)};r.createFromAdAsset=function(s,t){return r.create(s,h._("Text").toString(),true,false,{paddingTop:m,paddingBottom:m,paddingLeft:n,paddingRight:n},c('RichMediaRichFormatText').createFromAdAsset(t),'#FFFFFF',null,null,k.WEBSITE,null)};r.validate=function(s){var t=c('RichMediaRichFormatText').getPlainTextFromComposedText(s.richFormatText.composedText);if(t.length==0)return {isValid:false,errorMsg:h._("Empty text block is not allowed")};if(s.link&&!c('RichMediaEditorUtil').isValidURL(s.link))if(s.destination===k.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};if(s.deeplink)if(!c('validateDeepLink')(s.deeplink))return {isValid:false,errorMsg:h._("Invalid Deeplink")};return {isValid:true,errorMsg:''}};function r(){i.apply(this,arguments)}f.exports=r}),null);
__d('RichMediaVideoElement',['fbt','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,l=c('immutable').Record,m={id:'',name:'',type:c('InstantShoppingDocumentElementType').VIDEO,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:k,paddingBottom:k},layout:'fit_to_width',video:null,culturalMomentAnnotationImage:null,uploadStatus:null},n=l(m);i=babelHelpers.inherits(o,n);j=i&&i.prototype;o.create=function(p,q,r,s,t,u,v,w,x){return new o({name:p,type:c('InstantShoppingDocumentElementType').VIDEO,index:q,expanded:r,advancedExpanded:s,padding:t,layout:u?u:'fit_to_width',video:v,culturalMomentAnnotationImage:w,uploadStatus:x})};o.createDefault=function(p){return o.create(h._("Video").toString(),p,true,false,{paddingTop:k,paddingBottom:k},'fit_to_width',null,null,null)};o.createFromObject=function(p,q){return o.create(p.name,p.index,p.expanded,p.advancedExpanded,p.padding,q?'fit_to_width':p.layout,p.video,p.culturalMomentAnnotationImage)};o.createFromAdAsset=function(p,q){return o.create('Video',p,true,false,{paddingTop:k,paddingBottom:k},'fit_to_width',q,null,null)};o.validate=function(p){if(!p.video)return {isValid:false,errorMsg:h._("Missing video")};if(p.uploadStatus&&(p.uploadStatus.isUploading||p.uploadStatus.isEncoding))return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''}};function o(){i.apply(this,arguments)}f.exports=o}),null);
__d('RichMediaElementUtil',['fbt','AdsAppUtils','AdsCanvasAdUtils','AdsCanvasButtonElement','AdsCanvasCarouselElement','AdsCanvasDailyDialogueSVGElement','AdsCanvasFooterElement','AdsCanvasHeaderElement','AdsCanvasPhotoElement','AdsCanvasProductSetElement','AdsCanvasStoreLocatorElement','AdsCanvasTextElement','AdsCanvasVideoElement','InstantShoppingDocumentElementType','RichMediaBundleElement','RichMediaButtonElement','RichMediaCarouselElement','RichMediaCulturalMomentHeaderElement','RichMediaCultureMomentPopularMediaElement','RichMediaEditorActions','RichMediaElementTypeConstant','RichMediaHeaderElement','RichMediaPhotoElement','RichMediaProductSetElement','RichMediaRichFormatText','RichMediaTextElement','RichMediaVideoElement','UnicodeBidi'],(function a(b,c,d,e,f,g,h){'use strict';var i,j=c('RichMediaElementTypeConstant').RichMediaElementTypes,k={_elementTypeNameMap:(i={},i[c('InstantShoppingDocumentElementType').BUTTON]=h._("Button").toString(),i[c('InstantShoppingDocumentElementType').RICH_TEXT]=h._("Rich Text").toString(),i[c('InstantShoppingDocumentElementType').PHOTO]=h._("Photo").toString(),i[c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF]=h._("Scrubbable GIF").toString(),i[c('InstantShoppingDocumentElementType').VIDEO]=h._("Video").toString(),i[c('InstantShoppingDocumentElementType').SLIDESHOW]=h._("Carousel").toString(),i[c('InstantShoppingDocumentElementType').ELEMENT_GROUP]=h._("Product").toString(),i[c('InstantShoppingDocumentElementType').HEADER]=h._("Header").toString(),i[c('InstantShoppingDocumentElementType').STORE_LOCATOR]=h._("Button").toString(),i),getDefaultElementName:function l(m){if(this._elementTypeNameMap[m])return this._elementTypeNameMap[m];return h._("Untitled").toString()},validateElements:function l(m,n){var o=true,p=[];m.map(function(q){var r=this.validateElement(q,m,n);if(!r.isValid){o=false;var s=this._elementTypeNameMap[q.type];p.push({element:s,errorMsg:r.errorMsg})}}.bind(this));return {isValid:o,errorMsg:JSON.stringify(p)}},setNonEmptyElementNames:function l(m){for(var n=0;n<m.length;++n)c('RichMediaEditorActions').setNonEmptyElementName(m[n]);},validateElement:function l(m,n,o){if(Array.isArray(n)){switch(m.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:return c('RichMediaTextElement').validate(m);case c('InstantShoppingDocumentElementType').PHOTO:return c('RichMediaPhotoElement').validate(m,n);case c('InstantShoppingDocumentElementType').VIDEO:return c('RichMediaVideoElement').validate(m);case c('InstantShoppingDocumentElementType').BUTTON:return c('RichMediaButtonElement').validate(m,n);case c('InstantShoppingDocumentElementType').SLIDESHOW:return c('RichMediaCarouselElement').validate(m,n);case c('InstantShoppingDocumentElementType').HEADER:if(m.isCulturalMomentHeader){return c('RichMediaCulturalMomentHeaderElement').validate(m)}else return c('RichMediaHeaderElement').validate(m);case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:return c('RichMediaProductSetElement').validate(m,o);case c('InstantShoppingDocumentElementType').CULTURAL_MOMENT_POPULAR_MEDIA:return c('RichMediaCultureMomentPopularMediaElement').validate(m);case c('InstantShoppingDocumentElementType').DAILY_DIALOGUE_FB_TIPS:return c('AdsCanvasDailyDialogueSVGElement').validate(m);case c('InstantShoppingDocumentElementType').BUNDLE:return c('RichMediaBundleElement').validate(m,n);}}else switch(m.elementType){case j.BUTTON:return c('AdsCanvasButtonElement').validate(m,n);case j.CAROUSEL:return c('AdsCanvasCarouselElement').validate(m,n);case j.ELEMENT_GROUP:return c('AdsCanvasProductSetElement').validate(m,o);case j.FOOTER:return c('AdsCanvasFooterElement').validate(m,n);case j.HEADER:return c('AdsCanvasHeaderElement').validate(m);case j.PHOTO:return c('AdsCanvasPhotoElement').validate(m,n);case j.RICH_TEXT:return c('AdsCanvasTextElement').validate(m);case j.STORE_LOCATOR:return c('AdsCanvasStoreLocatorElement').validate(m);case j.VIDEO:return c('AdsCanvasVideoElement').validate(m);}return {isValid:true,errorMsg:''}},validateElementsForInstagramPreview:function l(m){return m.every(function(n){return k.validateElementForInstagram(n).isValid})},validateElementForInstagram:function l(m){var n=this.validateElementComponentLevelErrorForInstagram(m);if(!n.isValid)return n;if(m.type===c('InstantShoppingDocumentElementType').BUTTON){var o=this.validateButtonForInstagram(m);if(!o.isValid)return o;}return {isValid:true,errorMsg:''}},validateElementComponentLevelErrorForInstagram:function l(m){var n=[c('InstantShoppingDocumentElementType').STORE_LOCATOR,c('InstantShoppingDocumentElementType').OFFER,c('InstantShoppingDocumentElementType').ELEMENT_GROUP];if(n.indexOf(m.type)!==-1){var o=h._("Canvas ads on Instagram does not support {unsupported component type}",[h.param('unsupported component type',m.name)]);return {isValid:false,errorMsg:o.toString()}}if(m.type===c('InstantShoppingDocumentElementType').RICH_TEXT){var p=this.validateRTLForInstagram(m);if(!p.isvalid)return p;}else if(m.type===c('InstantShoppingDocumentElementType').VIDEO){var q=this.validate360VideoForInstagram(m);if(!q.isValid)return q;}return {isValid:true,errorMsg:''}},validateRTLForInstagram:function l(m){var n=c('RichMediaRichFormatText').getPlainTextFromComposedText(m.richFormatText.composedText);if(c('UnicodeBidi').isDirectionRTL(n)){var o=h._("Canvas ads on Instagram don't support languages that appear right-to-left.");return {isValid:false,errorMsg:o.toString()}}return {isValid:true,errorMsg:''}},validate360VideoForInstagram:function l(m){if(m.video){var n=m.video.spherical;if(n){var o=h._("Canvas ads on Instagram don't support 360 videos");return {isValid:false,errorMsg:o.toString()}}}return {isValid:true,errorMsg:''}},validateButtonForInstagram:function l(m){var n=m.link;if(c('AdsAppUtils').getMobileAppStoreNameFromUrl(n)){return {isValid:false,errorMsg:h._("Canvas ads on Instagram don't support mobile app installation").toString()}}else if(c('AdsCanvasAdUtils').isCanvasLink(n))return {isValid:false,errorMsg:h._("Instagram Canvas does not support link to canvas in buttons").toString()};return {isValid:true,errorMsg:''}},getFixToBottomButtonElement:function l(m){if(m.length===0)return null;if(m[m.length-1].type===c('InstantShoppingDocumentElementType').BUTTON&&m[m.length-1].isFixedToBottom)return m[m.length-1];return null},getHeaderElement:function l(m){if(m.length===0)return null;if(m[0].type===c('InstantShoppingDocumentElementType').HEADER)return c('RichMediaHeaderElement').createFromObject(m[0]);return null},hasFixToTopHeaderElement:function l(m){if(m.length===0)return false;if(m[0].type===c('InstantShoppingDocumentElementType').HEADER)return m[0].isOpaque();return false},isContentUploadingInElement:function l(m){if(m.uploadStatus){switch(m.type){case c('InstantShoppingDocumentElementType').PHOTO:if(m.uploadStatus.isUploading)return true;break;case c('InstantShoppingDocumentElementType').VIDEO:if(m.uploadStatus.isUploading||m.uploadStatus.isEncoding)return true;break;default:break;}}else if(m.type===c('InstantShoppingDocumentElementType').SLIDESHOW)return m.items.some(function(n){return n.uploadStatus&&n.uploadStatus.isUploading});return false},getLinks:function l(m){var n=[];for(var o=0;o<m.length;o++){var p=m[o];switch(p.type){case c('InstantShoppingDocumentElementType').PHOTO:n.push(p.link);break;case c('InstantShoppingDocumentElementType').BUTTON:n.push(p.link);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:for(var q=0;q<p.items.length;q++)n.push(p.items[q].link);break;}}return n.filter(function(r){return !!r})},isValidColor:function l(m){return /^[A-Fa-f0-9]{8}$/.test(m)||/^#[A-Fa-f0-9]{6}$/.test(m)}};f.exports=k}),null);
__d("RichMediaStoreLocatorElementTheme",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIGHT:"Light",DARK:"Dark",CUSTOM:"Custom"})}),null);
__d('RichMediaStoreLocatorThemes',['fbt','RichMediaStoreLocatorElementTheme'],(function a(b,c,d,e,f,g,h){'use strict';var i;f.exports={STORE_LOCATOR_THEMES:c('RichMediaStoreLocatorElementTheme'),STORE_LOCATOR_THEMES_LABELS:(i={},i[c('RichMediaStoreLocatorElementTheme').LIGHT]=h._("Light"),i[c('RichMediaStoreLocatorElementTheme').DARK]=h._("Dark"),i[c('RichMediaStoreLocatorElementTheme').CUSTOM]=h._("Custom"),i),STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR:'#FFFFFF',STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR:'#000000',STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR:'#4267b2',STORE_LOCATOR_DEFAULT_TYPEFACE:'HelveticaNeue-Light'}}),null);
__d('AdsCanvasStoreLocatorElement',['fbt','AdsCanvasElementBase','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaElementTypeConstant','RichMediaElementUtil','RichMediaStoreLocatorThemes'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasElementBase').AdsCanvasElementRecord,l=c('AdsCanvasElementBase').AdsCanvasElementDefault,m=c('AdsCanvasElementBase').getSharedAPIFields,n=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIES,o=c('RichMediaElementTypeConstant').RichMediaElementTypes,p=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR,q=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR,r=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_TYPEFACE,s=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR,t=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_THEMES,u=babelHelpers['extends']({},l,{customHeaderBackgroundColor:q,elementType:o.STORE_LOCATOR,hidden:false,locationSourceID:'',name:h._("Store Locator").toString(),theme:t.LIGHT,type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,typeface:r});i=babelHelpers.inherits(v,k(u));j=i&&i.prototype;v.fromAPI=function(w){return new v(babelHelpers['extends']({},m(w),{customHeaderBackgroundColor:'#'+w.header_background_color.substring(2),locationSourceID:w.location_source_id?w.location_source_id:'',theme:w.theme,typeface:w.typeface}))};v.createNewElement=function(w,x){var y=new v({id:w,locationSourceID:x});return y};v.validate=function(w){if(!c('RichMediaElementUtil').isValidColor(w.customHeaderBackgroundColor))return {errorMsg:h._("The custom header background color {background_color} is not a valid hex color.",[h.param('background_color',w.customHeaderBackgroundColor)]),isValid:false};return {isValid:true,errorMsg:''}};v.prototype.toAPI=function(){return {header_background_color:this.get('customHeaderBackgroundColor'),location_source_id:this.get('locationSourceID'),name:this.get('name'),page_set_id:this.get('locationSourceID'),theme:this.get('theme'),typeface:this.get('typeface')}};v.prototype.headerBackgroundColor=function(){switch(this.theme){case t.LIGHT:return s;case t.DARK:return p;case t.CUSTOM:return this.get('customHeaderBackgroundColor');default:throw new Error('Theme not supported.');}};function v(){i.apply(this,arguments)}f.exports=v}),null);
__d('AdsCanvasElementDataDispatcher',['AdsCanvasButtonElement','AdsCanvasCarouselElement','AdsCanvasElementCreateErrorDataAction','AdsCanvasElementCreateSuccessDataAction','AdsCanvasElementDataLoader','AdsCanvasElementLoadErrorDataAction','AdsCanvasElementLoadSuccessDataAction','AdsCanvasElementSaveErrorDataAction','AdsCanvasElementSaveSuccessDataAction','AdsCanvasFooterElement','AdsCanvasHeaderElement','AdsCanvasPhotoElement','AdsCanvasProductListElement','AdsCanvasProductSetElement','AdsCanvasStoreLocatorElement','AdsCanvasTextElement','AdsCanvasVideoElement','CanvasDataUtils','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g){'use strict';var h=c('RichMediaElementTypeConstant').RichMediaElementTypes;i.prototype.getButtonElement=function(j){c('AdsCanvasElementDataLoader').getButtonElement(j).done(function(k){var l=c('AdsCanvasButtonElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getCarouselElement=function(j){c('AdsCanvasElementDataLoader').getCarouselElement(j).done(function(k){var l=c('AdsCanvasCarouselElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getElement=function(j){c('AdsCanvasElementDataLoader').getElementType(j).done(function(k){switch(k.element_type){case h.BUTTON:this.getButtonElement(j);break;case h.CAROUSEL:this.getCarouselElement(j);break;case h.ELEMENT_GROUP:this.getProductSetElement(j);break;case h.FOOTER:this.getFooterElement(j);break;case h.HEADER:this.getHeaderElement(j);break;case h.PHOTO:this.getPhotoElement(j);break;case h.PRODUCT_LIST:this.getProductListElement(j);break;case h.RICH_TEXT:this.getTextElement(j);break;case h.STORE_LOCATOR:this.getStoreLocatorElement(j);break;case h.VIDEO:this.getVideoElement(j);break;default:break;}}.bind(this),function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getFooterElement=function(j){c('AdsCanvasElementDataLoader').getFooterElement(j).done(function(k){var l=c('AdsCanvasFooterElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getHeaderElement=function(j){c('AdsCanvasElementDataLoader').getHeaderElement(j).done(function(k){var l=c('AdsCanvasHeaderElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getPhotoElement=function(j){c('AdsCanvasElementDataLoader').getPhotoElement(j).done(function(k){var l=c('AdsCanvasPhotoElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getProductListElement=function(j){c('AdsCanvasElementDataLoader').getProductListElement(j).done(function(k){var l=c('AdsCanvasProductListElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getProductSetElement=function(j){c('AdsCanvasElementDataLoader').getProductSetElement(j).done(function(k){var l=c('AdsCanvasProductSetElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getStoreLocatorElement=function(j){c('AdsCanvasElementDataLoader').getStoreLocatorElement(j).done(function(k){var l=c('AdsCanvasStoreLocatorElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getTextElement=function(j){c('AdsCanvasElementDataLoader').getTextElement(j).done(function(k){var l=c('AdsCanvasTextElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.getVideoElement=function(j){c('AdsCanvasElementDataLoader').getVideoElement(j).done(function(k){var l=c('AdsCanvasVideoElement').fromAPI(k);c('AdsCanvasElementLoadSuccessDataAction').dispatch({elementID:j,canvasElement:l})},function(k){c('AdsCanvasElementLoadErrorDataAction').dispatch({elementID:j,error:k})})};i.prototype.saveElement=function(j,k){return c('CanvasDataUtils').isNewElement(j)?this.createElement(j,k):this.updateElement(j,k)};i.prototype.createElement=function(j,k){return c('AdsCanvasElementDataLoader').createElement(j,k).then(function(l){j=j.set('id',l.id);c('AdsCanvasElementCreateSuccessDataAction').dispatch({elementID:l.id,canvasElement:j});return {id:l.id,elementType:j.getElementType()}})['catch'](function(l){c('AdsCanvasElementCreateErrorDataAction').dispatch({elementID:j.getID(),error:l});return {id:j.getID(),elementType:j.getElementType()}})};i.prototype.updateElement=function(j,k){return c('AdsCanvasElementDataLoader').updateElement(j,k).then(function(l){c('AdsCanvasElementSaveSuccessDataAction').dispatch({elementID:j.getID(),canvasElement:j});return {id:j.getID(),elementType:j.getElementType()}})['catch'](function(l){c('AdsCanvasElementSaveErrorDataAction').dispatch({elementID:j.getID(),error:l});return {id:j.getID(),elementType:j.getElementType()}})};function i(){}f.exports=new i()}),null);
__d('AdsCanvasElementStore',['invariant','AdsCanvasButtonElement','AdsCanvasCarouselElement','AdsCanvasConstants','AdsCanvasElementDataDispatcher','AdsCanvasFooterElement','AdsCanvasHeaderElement','AdsCanvasPhotoElement','AdsCanvasProductSetElement','AdsCanvasStoreLocatorElement','AdsCanvasTextElement','AdsCanvasVideoElement','AdsDataActionTypes','AdsDispatcher','CanvasDataUtils','FluxLoadObjectStore','immutable','Map','RichMediaElementTypeConstant','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasConstants').CANVAS_COPY_SUFFIX,l=c('immutable').List,m=c('RichMediaElementTypeConstant').RichMediaElementTypes;i=babelHelpers.inherits(n,c('FluxLoadObjectStore'));j=i&&i.prototype;n.prototype.reduce=function(o,p){var q=p.action,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0;switch(q.type){case c('AdsDataActionTypes').canvasDocumentAddNewElements:v=q.elements;u=new (c('Map'))();v.map(function(x){switch(x.elementType){case m.BUTTON:u.set(x.id,c('AdsCanvasButtonElement').createNewElement(x.id));break;case m.CAROUSEL:u.set(x.id,c('AdsCanvasCarouselElement').createNewElement(x.id));break;case m.ELEMENT_GROUP:u.set(x.id,c('AdsCanvasProductSetElement').createNewElement(x.id));break;case m.FOOTER:u.set(x.id,c('AdsCanvasFooterElement').createNewElement(x.id));break;case m.HEADER:u.set(x.id,c('AdsCanvasHeaderElement').createNewElement(x.id));break;case m.PHOTO:u.set(x.id,c('AdsCanvasPhotoElement').createNewElement(x.id,!!q.options.addProductTags));break;case m.RICH_TEXT:u.set(x.id,c('AdsCanvasTextElement').createNewElement(x.id));break;case m.STORE_LOCATOR:u.set(x.id,c('AdsCanvasStoreLocatorElement').createNewElement(x.id,c('nullthrows')(q.options.locationSourceID)));break;case m.VIDEO:u.set(x.id,c('AdsCanvasVideoElement').createNewElement(x.id));break;default:break;}});return this.__handleMap(o,u);case c('AdsDataActionTypes').canvasElementLoadSuccess:case c('AdsDataActionTypes').canvasElementCreateSuccess:case c('AdsDataActionTypes').canvasElementSaveSuccess:s=q.elementID;r=q.canvasElement;o=this.__handleOne(o,s,r);return this.__handleOne(o,s+k,r);case c('AdsDataActionTypes').canvasElementLoadError:s=q.elementID;w=q.error;return this.__handleOne(o,s,w);case c('AdsDataActionTypes').canvasDocumentRefresh:t=q.elementIDs;o=this.__setEmptyAndLoading(o,t);t.some(function(x){return c('AdsCanvasElementDataDispatcher').getElement(x)});return o;case c('AdsDataActionTypes').canvasElementUpdate:s=q.elementID;r=q.canvasElement;this.get(s)!=null&&this.get(s).hasValue()||h(0);return this.__handleOne(o,s,r);case c('AdsDataActionTypes').canvasInlineBuilderSetProductTaggingCoordinates:return this.$AdsCanvasElementStore1(o,q);case c('AdsDataActionTypes').canvasInlineBuilderShowProductTaggingOverlay:return this.$AdsCanvasElementStore2(o,q);case c('AdsDataActionTypes').canvasElementSwitchButtonPosition:case c('AdsDataActionTypes').canvasElementSwitchMediaElementType:s=q.elementID;r=q.canvasElement;return this.__handleOne(o,s,r);case c('AdsDataActionTypes').canvasElementDelete:s=q.elementID;return this.__setEmpty(o,l([s]));case c('AdsDataActionTypes').uEditorAdgroupSetCanvasDocument:t=q.elementIDs;if(t){o=this.__setEmptyAndLoading(o,t);this.__loadAll(t)}return o;case c('AdsDataActionTypes').canvasBuilderSelectTemplate:case c('AdsDataActionTypes').canvasInlineTransformCanvas:v=q.elements;v.map(function(x){o=this.__handleOne(o,x.id,x)}.bind(this));return o;case c('AdsDataActionTypes').canvasResetCanvas:t=q.elementIDs;t.map(function(x){if(!c('CanvasDataUtils').isNewElementID(x)){var y=this.get(x+k).getValueEnforcing();o=this.__handleOne(o,x,y)}}.bind(this));return o;default:return o;}};n.prototype.getElementList=function(o){return o.map(function(p){return this.get(p)}.bind(this))};n.prototype.__load=function(o){c('AdsCanvasElementDataDispatcher').getElement(o)};n.prototype.$AdsCanvasElementStore1=function(o,p){var q=p.photoElementID,r=p.productID,s=p.coordinates,t=this.get(q);t!=null&&t.hasValue()||h(0);var u=t.getValueEnforcing(),v=u.get('productTags'),w=c('nullthrows')(v).findIndex(function(y){return y.productID===r});w!==-1||h(0);v=v.updateIn([w],function(y){return y.set('coordinates',s)});var x=u.set('productTags',v);return this.__handleOne(o,q,x)};n.prototype.$AdsCanvasElementStore2=function(o,p){var q=p.photoElementID,r=p.productID,s=this.get(q);s!=null&&s.hasValue()||h(0);var t=s.getValueEnforcing(),u=t.get('productTags'),v=c('nullthrows')(u).findIndex(function(x){return x.productID===r});v!==-1||h(0);var w=t.set('currentItemIndex',v);return this.__handleOne(o,q,w)};function n(){i.apply(this,arguments)}f.exports=new n(c('AdsDispatcher'))}),null);
__d('AdsCanvasBundleItemRecord',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record({elementGroupKey:'',elementIDs:[],link:'',itemDescription:'',itemHeadline:'',photo:null,uploadStatus:null});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d('AdsCanvasBundleItem',['fbt','AdsCanvasBundleItemRecord','AdsCanvasEditorEnums','AdsCanvasPhotoElement','AdsCanvasTextElement','immutable','RichMediaEditorUtil','RichMediaRichFormatText'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasEditorEnums').LinkDestinationEnum,l=c('immutable').List;i=babelHelpers.inherits(m,c('AdsCanvasBundleItemRecord'));j=i&&i.prototype;m.createItem=function(n,o,p,q){return new m({elementGroupKey:q,elementIDs:[n.id,o.id,p.id],photo:n.photo,itemDescription:c('RichMediaRichFormatText').getPlainTextFromComposedText(o.richFormatText.composedText),itemHeadline:c('RichMediaRichFormatText').getPlainTextFromComposedText(p.richFormatText.composedText)})};m.prototype.flatten=function(){return l([new (c('AdsCanvasPhotoElement'))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[2],photo:this.photo}),new (c('AdsCanvasTextElement'))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[0],richFormatText:c('RichMediaRichFormatText').createFromBundle(this.itemHeadline,'item_headline')}),new (c('AdsCanvasTextElement'))({elementGroupKey:this.elementGroupKey,id:this.elementIDs[1],richFormatText:c('RichMediaRichFormatText').createFromBundle(this.itemDescription,'item_description')})])};m.validate=function(n){if(!n.photo)return {isValid:false,errorMsg:h._("Missing photo")};if(!n.link)return {isValid:false,errorMsg:h._("Missing destination URL")};if(n.link&&!c('RichMediaEditorUtil').isValidURL(n.link))if(n.destination===k.NATIVE){return {isValid:false,errorMsg:h._("Invalid Store URL")}}else return {isValid:false,errorMsg:h._("Invalid Website URL")};if(!n.itemHeadline)return {isValid:false,errorMsg:h._("Missing Product Headline")};if(!n.itemDescription)return {isValid:false,errorMsg:h._("Missing Product Description")};return {isValid:true,errorMsg:''}};function m(){i.apply(this,arguments)}f.exports=m}),null);
__d('AdsCanvasBundleElement',['fbt','AdsCanvasBundleItem','AdsCanvasElementBase','immutable','InstantShoppingDocumentElementType','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasElementBase').AdsCanvasElementDefault,l=c('AdsCanvasElementBase').AdsCanvasElementRecord,m=c('immutable').List,n=c('RichMediaElementTypeConstant').RichMediaElementTypes,o=babelHelpers['extends']({},k,{items:m([]),elementType:n.BUNDLE,name:h._("Bundle").toString(),selectedItemIndex:0,type:c('InstantShoppingDocumentElementType').BUNDLE});i=babelHelpers.inherits(p,l(o));j=i&&i.prototype;p.createBundle=function(q,r){return new p({id:q,items:r})};p.validate=function(q,r){if(q.items.count()<4)return {isValid:false,errorMsg:h._("Upload at least 4 images to create a bundle").toString()};for(var s=0;s<q.items.count();++s){var t=q.items.get(s),u=c('AdsCanvasBundleItem').validate(t);if(!u.isValid)return {isValid:false,errorMsg:h._({"*":"Item {bundle_item_number}"},[h.param('bundle_item_number',s+1,[0])]).toString()+' '+u.errorMsg.toString()};}return {isValid:true,errorMsg:''}};p.prototype.flatten=function(){return this.items.reduce(function(q,r){return q.concat(r.flatten())},m([]))};function p(){i.apply(this,arguments)}f.exports=p}),null);
__d('AdsCanvasInlineTransformCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasInlineTransformCanvas',actionType:'ADS.CANVAS.INLINE.TRANSFORM_CANVAS'};f.exports=h}),null);
__d('AdsCanvasInlineTransformCanvasDataAction',['AdsCanvasInlineTransformCanvasDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasInlineTransformCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasInlineBuilderUtils',['invariant','AdsCanvasBundleElement','AdsCanvasBundleItem','AdsCanvasDefaultNewDocumentID','AdsCanvasInlineTransformCanvasDataAction','AdsCanvasPhotoElement','AdsCanvasProductSetElement','AdsCanvasTextElement','DateTime','immutable','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').List,j=c('RichMediaElementTypeConstant').RichMediaElementTypes;function k(t,u,v,w){if(t.get('isPublished')){t=t.set('isPublished',false).set('id',c('AdsCanvasDefaultNewDocumentID'));u=u.map(function(x,y){return n(o(x,y),w)})}if(!t.get('sourceTemplateID')){t=t.set('sourceTemplateID',v);u=m(u)}u=p(u);t=t.set('elements',u.map(function(x){return {id:x.id,elementType:x.elementType}}));c('AdsCanvasInlineTransformCanvasDataAction').dispatch({canvasDocument:t,elements:u})}function l(t,u){return u.some(function(v){return !!v.elementGroupKey})||t.get('isPublished')}function m(t){return t.map(function(u,v){if(u instanceof c('AdsCanvasProductSetElement'))u=u.set('catalogID',null).set('setID',null);return u})}function n(t,u){if(t.get('link'))t=t.set('link',u);if(t.getElementType()===j.CAROUSEL)t=t.set('items',t.items.map(function(v,w){return n(v,u)}));return t}function o(t,u){var v='LOCAL_ELEMENT_'+String(Date.now())+u;if(t.childElements)t=t.set('childElements',t.childElements.map(function(w,x){return w.set('id',v+'_'+x)}));if(t.items)t=t.set('items',t.items.map(function(w,x){return w.set('id',v+'_'+x)}));return t.set('id',v)}function p(t){var u=i([]),v=i([]),w=null;t.map(function(x){if(w&&w!==x.elementGroupKey&&u.count()>0){u.count()%3===0||h(0);var y=i([]);for(var z=0;z<u.count();z+=3){var aa=u.get(z),ba=u.get(z+1),ca=u.get(z+2);aa instanceof c('AdsCanvasPhotoElement')||h(0);ba instanceof c('AdsCanvasTextElement')||h(0);ca instanceof c('AdsCanvasTextElement')||h(0);y=y.push(c('AdsCanvasBundleItem').createItem(aa,ba,ca,w))}v=v.push(c('AdsCanvasBundleElement').createBundle(w,y));u=i([]);w=null}if(x.elementGroupKey){u=u.push(x);w=x.elementGroupKey;return}else v=v.push(x);});return v}function q(t,u){var v=u.findIndex(function(w){return w.getElementType()===j.STORE_LOCATOR&&w.get('hidden')});if(v!==-1)u=u['delete'](v);t=t.set('title',r(t));return s(t,u.toArray())}function r(t){if(t.id!==c('AdsCanvasDefaultNewDocumentID'))return t.title;var u=c('DateTime').localNow().format('m/d/Y g:ia'),v=t.title.split(' - ');return v[0]+' - '+u}function s(t,u){var v=t.elements.toArray();while(v.some(function(z){return z.elementType===j.BUNDLE})){var w=v.findIndex(function(z){return z.elementType===j.BUNDLE}),x=u[w];x instanceof c('AdsCanvasBundleElement')||h(0);var y=x.flatten().toArray();v.splice.apply(v,[w,1].concat(y.map(function(z){return {id:z.id,elementType:z.elementType}})));u.splice.apply(u,[w,1].concat(y))}return {canvas:t.set('elements',v),elements:i(u)}}f.exports={scrapIDFromElement:o,scrapDefaultURLFromTemplateElement:n,scrapTemplateFields:m,shouldTransformInlineCanvas:l,transformInlineCanvasForLoad:k,transformInlineCanvasForSave:q}}),null);
__d('AdsCanvasDocumentDataDispatcher',['Promise','AdsCanvasDefaultNewDocumentID','AdsCanvasDocument','AdsCanvasDocumentCreateErrorDataAction','AdsCanvasDocumentCreateSuccessDataAction','AdsCanvasDocumentDataLoader','AdsCanvasDocumentDuplicateErrorDataAction','AdsCanvasDocumentDuplicateSuccessDataAction','AdsCanvasDocumentLoadErrorDataAction','AdsCanvasDocumentLoadSuccessDataAction','AdsCanvasDocumentSaveErrorDataAction','AdsCanvasDocumentSaveSuccessDataAction','AdsCanvasElementDataDispatcher','AdsCanvasElementStore','AdsCanvasInlineBuilderUtils','CanvasDataUtils','immutable','RichMediaElementTypeConstant'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('RichMediaElementTypeConstant').RichMediaElementTypes;j.prototype.getDocument=function(k){c('AdsCanvasDocumentDataLoader').getDocument(k).done(function(l){var m=c('AdsCanvasDocument').fromAPI(l);c('AdsCanvasDocumentLoadSuccessDataAction').dispatch({canvasDocument:m,canvasID:k})},function(l){c('AdsCanvasDocumentLoadErrorDataAction').dispatch({canvasID:k,error:l})})};j.prototype.saveDocument=function(k,l,m,n){c('Promise').all(l.map(function(o){return c('AdsCanvasElementDataDispatcher').saveElement(o,m)}).toArray()).done(function(o){var p=function q(r){n(r.toOldAPI())};k=k.setElements(h(o));if(c('CanvasDataUtils').isNewDocument(k)){this.createDocument(k,m).done(p)}else this.updateDocument(k,false).done(p);}.bind(this))};j.prototype.saveInlineDocument=function(k,l,m,n,o,p,q,r){c('Promise').all(l.map(function(s){return c('AdsCanvasElementDataDispatcher').saveElement(s,n)}).toArray()).done(function(s){var t=function v(w){var x=w.elements.map(function(y){return y.id}).toArray();o(w.id,m,x)},u=function v(w){return p(w)};k=k.setElements(h(s));if(c('CanvasDataUtils').isNewDocument(k)){this.createDocument(k,n).done(t,u)}else this.updateDocument(k,false,q,r).done(t,u);}.bind(this))};j.prototype.publishDocument=function(k,l,m){k=k.set('isPublished',true);c('AdsCanvasDocumentDataLoader').getLinkedCanvases(k.id).done(function(n){var o=n.linked_documents.filter(function(q){return !q.is_published}),p=function q(r){m(r.toOldAPI(),o)};this.updateDocument(k,true).done(p)}.bind(this))};j.prototype.createDocument=function(k,l){return c('AdsCanvasDocumentDataLoader').createDocument(k,l).then(function(m){k=k.set('id',m.id);c('AdsCanvasDocumentCreateSuccessDataAction').dispatch({canvasDocument:k,canvasID:m.id});return k},function(m){c('AdsCanvasDocumentCreateErrorDataAction').dispatch({canvasID:k.getID(),error:m});return k})};j.prototype.updateDocument=function(k,l,m,n){return c('AdsCanvasDocumentDataLoader').updateDocument(k,l).then(function(o){c('AdsCanvasDocumentSaveSuccessDataAction').dispatch({canvasDocument:k,canvasID:k.getID(),adgroupIDs:m,hostID:n});return k},function(o){c('AdsCanvasDocumentSaveErrorDataAction').dispatch({canvasID:k.getID(),error:o});return k})};j.prototype.duplicateDocument=function(k,l,m,n){var o=k.id;k=k.set('id',c('AdsCanvasDefaultNewDocumentID')).set('isPublished',false);l=l.map(function(p,q){return c('AdsCanvasInlineBuilderUtils').scrapIDFromElement(p,q)});c('Promise').all(l.map(function(p){return c('AdsCanvasElementDataDispatcher').saveElement(p,m)}).toArray()).done(function(p){k=k.setElements(h(p));c('AdsCanvasDocumentDataLoader').createDocument(k,m).done(function(q){var r=q.id;k=k.set('id',r);c('AdsCanvasDocumentDuplicateSuccessDataAction').dispatch({canvasDocument:k,canvasID:q.id,parentCanvasID:o});var s=p.find(function(u){return u.elementType===i.ELEMENT_GROUP}),t=s?c('AdsCanvasElementStore').get(s.id).getValue():null;n(k.toOldAPI(),t)},function(q){c('AdsCanvasDocumentDuplicateErrorDataAction').dispatch({canvasID:k.getID(),error:q})})})};function j(){}f.exports=new j()}),null);
__d('AdsCanvasInlineUtils',['InstantShoppingDocumentElementType','RichMediaPhotoElement','RichMediaTextElement','RichMediaEditorConstants','AdsCanvasEditorEnums'],(function a(b,c,d,e,f,g){'use strict';var h=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,i=c('AdsCanvasEditorEnums').LinkDestinationEnum,j={parseBundleElementFromElements:function k(l){var m=[],n=null,o=[],p=null;for(var q=0;q<l.length;++q){var r=l[q];if(!r.elementGroupKey){if(p){o.push(p);p=null}if(o.length!==0){n=this.createBundle(o,m.length);m.push(n);o=[]}r.index=m.length;m.push(r)}else if(r.type===c('InstantShoppingDocumentElementType').PHOTO){if(p)o.push(p);p={photo:r.photo,link:r.link}}else if(r.type===c('InstantShoppingDocumentElementType').RICH_TEXT)if(r.name==='item_headline'){p=babelHelpers['extends']({},p,{itemHeadline:this.getRawText(r)})}else if(r.name==='item_description')p=babelHelpers['extends']({},p,{itemDescription:this.getRawText(r)});}if(p){o.push(p);p=null}if(o.length!==0){n=this.createBundle(o,m.length);m.push(n);o=[]}return m},parseLWIComponentsToPayload:function k(l){l=l.filter(function(t){return t.type!==c('InstantShoppingDocumentElementType').STORE_LOCATOR||!t.hidden});var m=[],n=0;for(var o=0;o<l.length;++o){var p=l[o];switch(p.type){case c('InstantShoppingDocumentElementType').PHOTO:if(p.video)p=p.set('type',c('InstantShoppingDocumentElementType').VIDEO);p=p.set('index',m.length);m.push(p);break;case c('InstantShoppingDocumentElementType').VIDEO:if(p.photo)p=p.set('type',c('InstantShoppingDocumentElementType').PHOTO);p=p.set('index',m.length);m.push(p);break;case c('InstantShoppingDocumentElementType').BUNDLE:var q=p.items;for(var r=0;r<q.length;r++){var s=q[r];m.push(c('RichMediaPhotoElement').createFromBundle(s,m.length,'element_group_'+n));m.push(c('RichMediaTextElement').createFromBundle(s.itemHeadline,s.link,m.length,'element_group_'+n,'item_headline'));m.push(c('RichMediaTextElement').createFromBundle(s.itemDescription,s.link,m.length,'element_group_'+n,'item_description'))}n++;break;default:p=p.set('index',m.length);m.push(p);break;}}return JSON.stringify(m)},createBundle:function k(l,m){var n=l.map(function(o,p){return {id:'bundle_item_'+p,index:p,photo:o.photo,name:'bundle_item',itemHeadline:o.itemHeadline,itemDescription:o.itemDescription,description:null,link:o.link,deeplink:null,linkedCanvasName:null,destination:i.WEBSITE,uploadStatus:null,uploadRequest:null}});return {index:m,name:'Bundle',type:c('InstantShoppingDocumentElementType').BUNDLE,expanded:true,advancedExpanded:false,padding:{paddingTop:h,paddingBottom:h},layout:'fit_to_width',items:n,selectedItemIndex:0}},getRawText:function k(l){if(l&&l.richFormatText&&l.richFormatText.composedText&&l.richFormatText.composedText.blocks&&l.richFormatText.composedText.blocks.length>0)return l.richFormatText.composedText.blocks[0].text;return null},getAddNewComponentIndex:function k(l){var m=Array.isArray(l)?l.length:l.count(),n=m-1;while(n>=0){var o=Array.isArray(l)?l[n]:l.get(n);if(o.type===c('InstantShoppingDocumentElementType').BUTTON||o.type===c('InstantShoppingDocumentElementType').STORE_LOCATOR){n--}else break;}return n+1}};f.exports=j}),null);
__d("CanvasProperty",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({AUTO_CONVERT_PHOTO:"auto_convert_photo",COLLECTION:"collection",TUTORIAL:"tutorial",TEMPLATE:"template",WEBSITE_PARSING:"website_parsing"})}),null);
__d('RichMediaDocumentThemeConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={WHITE:'FFFFFFFF',BLACK:'FF000000'}}),null);
__d('RichMediaEditorTemplateLayouts',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';f.exports={LAYOUT_CONFIGS:[{title:h._("Get New Customers"),subtitle:h._("Drive conversions with a mobile landing page that encourages action."),value:'get_new_customers'},{title:h._("Showcase Your Business"),subtitle:h._("Give people an engaging way to explore your brand, product or service."),value:'showcase_your_business'},{title:h._("Sell Products"),subtitle:h._("Create an experience that lets people shop for your products or services right from their mobile device."),value:'sell_manual_products'}]}}),null);
__d('RichMediaLocalImageElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').LOCAL_IMAGE,index:0,expanded:false,advancedExpanded:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').LOCAL_IMAGE,expanded:p,advancedExpanded:q})};m.createDefault=function(n){return m.create(n,'Local Footer Image',true,false)};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded)};m.validate=function(n){return {isValid:true,errorMsg:''}};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d('RichMediaScrubbableGIFElement',['immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('RichMediaEditorConstants').EDITOR_DEFAULT_PADDING,k=c('immutable').Record,l={id:'',name:'',type:c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF,index:0,expanded:false,advancedExpanded:false,padding:{paddingTop:j,paddingBottom:j},layout:'fit_to_width',video:null,uploadStatus:null},m=k(l);h=babelHelpers.inherits(n,m);i=h&&h.prototype;n.create=function(o,p,q,r,s,t,u,v){return new n({name:o,type:c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF,index:p,expanded:q,advancedExpanded:r,padding:s,layout:t?t:'fit_to_width',video:u,uploadStatus:v})};n.createDefault=function(o){return n.create('Scrubbable GIF',o,true,false,{paddingTop:j,paddingBottom:j},'fit_to_width',null,null)};n.createFromObject=function(o){return n.create(o.name,o.index,o.expanded,o.advancedExpanded,o.padding,o.layout,o.video)};n.validate=function(o){if(!o.video)return {isValid:false,errorMsg:'Missing video'};if(o.uploadStatus&&(o.uploadStatus.isUploading!==false||o.uploadStatus.isEncoding!==false))return {isValid:false,errorMsg:''};return {isValid:true,errorMsg:''}};function n(){h.apply(this,arguments)}f.exports=n}),null);
__d('RichMediaStoreLocatorElement',['fbt','immutable','InstantShoppingDocumentElementType','RichMediaEditorConstants','RichMediaStoreLocatorThemes'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DARK_HEADER_BACKGROUND_COLOR,l=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_CUSTOM_HEADER_BACKGROUND_COLOR,m=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_DEFAULT_TYPEFACE,n=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_LIGHT_HEADER_BACKGROUND_COLOR,o=c('RichMediaStoreLocatorThemes').STORE_LOCATOR_THEMES,p=c('immutable').Record,q=c('RichMediaEditorConstants').EDITOR_FONT_FAMILIES,r={advancedExpanded:false,customHeaderBackgroundColor:l,expanded:false,id:'',index:0,locationSourceID:'',name:'',hidden:false,theme:o.LIGHT,type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,typeface:m},s=p(r);i=babelHelpers.inherits(t,s);j=i&&i.prototype;t.create=function(u,v,w,x,y,z,aa,ba){return new t({index:u,name:v,type:c('InstantShoppingDocumentElementType').STORE_LOCATOR,expanded:w,advancedExpanded:x,locationSourceID:y,typeface:z,theme:aa,customHeaderBackgroundColor:ba})};t.createDefault=function(u){return t.create(u,h._("Store Locator").toString(),true,false,r.locationSourceID,r.typeface,r.theme,r.customHeaderBackgroundColor)};t.createFromObject=function(u){return t.create(u.index,u.name,u.expanded,u.advancedExpanded,u.locationSourceID?u.locationSourceID:u.pageID,u.typeface,u.theme,u.customHeaderBackgroundColor)};t.isValidColor=function(u){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(u)};t.isValidTheme=function(u){return u in o};t.isValidTypeface=function(u){return q.indexOf(u)!=-1};t.validate=function(u){var v='',w=true;if(!t.isValidTheme(u.theme)){w=false;v+=h._("The theme {theme} is not valid.",[h.param('theme',u.theme)]).toString()}if(!t.isValidTypeface(u.typeface)){w=false;v+=h._("The typeface {typeface} is not valid.",[h.param('typeface',u.typeface)]).toString()}if(!t.isValidColor(u.customHeaderBackgroundColor)){w=false;v+=h._("The custom header background color {background_color} is not a valid hex color.",[h.param('background_color',u.customHeaderBackgroundColor)]).toString()}return {isValid:w,errorMsg:v}};t.prototype.headerBackgroundColor=function(){switch(this.theme){case o.LIGHT:return n;case o.DARK:return k;case o.CUSTOM:return this.customHeaderBackgroundColor;default:throw new Error('Theme not supported.');}};function t(){i.apply(this,arguments)}f.exports=t}),null);
__d('RichMediaTitleAndDateElement',['immutable','InstantShoppingDocumentElementType'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record,k={id:'',name:'',type:c('InstantShoppingDocumentElementType').TITLE_AND_DATE,index:0,expanded:false,advancedExpanded:false,title:'',startTime:Date.now()/1000,endTime:Date.now()/1000,isLocalTime:true},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.create=function(n,o,p,q,r,s,t,u){return new m({index:n,name:o,type:c('InstantShoppingDocumentElementType').TITLE_AND_DATE,expanded:p,advancedExpanded:q,title:r,startTime:s,endTime:t,isLocalTime:u})};m.createDefault=function(n){return m.create(n,'Title And Date',true,false,'Title',Date.now()/1000,Date.now()/1000,true)};m.createFromObject=function(n){return m.create(n.index,n.name,n.expanded,n.advancedExpanded,n.title,n.startTime,n.endTime,n.isLocalTime)};m.validate=function(n){if(n.title.length==0)return {isValid:false,errorMsg:'Empty title is not allowed'};if(n.startTime>n.endTime)return {isValid:false,errorMsg:'Start date must be less than the end date'};return {isValid:true,errorMsg:''}};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d('RichMediaEditorStore',['fbt','invariant','AdsCanvasDailyDialogueSVGElement','AdsCanvasEditorEnums','AdsCanvasEditorFeature','AdsCanvasInlineUtils','AdsDataActionTypes','AdsDispatcher','CanvasProperty','CanvasSource','FluxStore','InstantShoppingDocumentElementType','Map','RichMediaBundleElement','RichMediaButtonElement','RichMediaCarouselElement','RichMediaCulturalMomentHeaderElement','RichMediaCultureMomentPopularMediaElement','RichMediaDocumentThemeConstants','RichMediaEditorActions','RichMediaEditorTemplateLayouts','RichMediaEditorUploader','RichMediaEditorUtil','RichMediaElementTypeConstant','RichMediaElementUtil','RichMediaHeaderElement','RichMediaLocalImageElement','RichMediaPhotoElement','RichMediaProductSetElement','RichMediaScrubbableGIFElement','RichMediaStoreLocatorElement','RichMediaTextElement','RichMediaTitleAndDateElement','RichMediaVideoElement','SimpleNUXMessage','SimpleNUXMessageTypes','adsCreateStoreSelector'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsCanvasEditorEnums').DocumentThemeEnum,m=c('AdsCanvasEditorEnums').ErrorTypeEnum,n=c('AdsCanvasEditorEnums').LinkDestinationEnum,o=c('AdsCanvasEditorEnums').PreviewEnum,p=c('AdsCanvasEditorEnums').SaveStateEnum,q=c('RichMediaDocumentThemeConstants').WHITE,r=c('RichMediaDocumentThemeConstants').BLACK,s=c('RichMediaEditorTemplateLayouts').LAYOUT_CONFIGS,t=c('RichMediaElementTypeConstant').TYPE_NAMES;j=babelHelpers.inherits(u,c('FluxStore'));k=j&&j.prototype;function u(v){k.constructor.call(this,v);this.getShowCloseUnsavedCanvasDialog=c('adsCreateStoreSelector')([this],function(){return this.$RichMediaEditorStore30}.bind(this));this.$RichMediaEditorStore1=[];this.$RichMediaEditorStore2=null;this.$RichMediaEditorStore17=false;this.$RichMediaEditorStore3='';this.$RichMediaEditorStore4=q;this.$RichMediaEditorStore5=l.WHITE;this.$RichMediaEditorStore6=[];this.$RichMediaEditorStore7=p.SAVED;this.$RichMediaEditorStore8='';this.$RichMediaEditorStore9=m.NONE;this.$RichMediaEditorStore20=false;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore12=false;this.$RichMediaEditorStore13=false;this.$RichMediaEditorStore14=false;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore18=-1;this.$RichMediaEditorStore19={};this.$RichMediaEditorStore21=false;this.$RichMediaEditorStore23=r;this.$RichMediaEditorStore24=0;this.$RichMediaEditorStore25=false;this.$RichMediaEditorStore26=false;this.$RichMediaEditorStore27=false;this.$RichMediaEditorStore28=null;this.$RichMediaEditorStore29=false;this.$RichMediaEditorStore30=false;this.$RichMediaEditorStore22=false;this.$RichMediaEditorStore31=null;this.$RichMediaEditorStore32=c('CanvasSource').OTHER;this.$RichMediaEditorStore33='';this.$RichMediaEditorStore34=false;this.$RichMediaEditorStore35=true;this.$RichMediaEditorStore36=false;this.$RichMediaEditorStore37=[];this.$RichMediaEditorStore38=o.FACEBOOK;this.$RichMediaEditorStore39=null}u.prototype.__onDispatch=function(v){var w=v.action,x=void 0,y=void 0;switch(w.type){case c('AdsDataActionTypes').richMediaEditorSetDocumentName:this.$RichMediaEditorStore3=w.name;this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore18=-1;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorCreateCanvasSuccess:this.$RichMediaEditorStore8=w.id;this.$RichMediaEditorStore7=p.SAVED;this.$RichMediaEditorStore17=true;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetNonemptyElementName:ba=this.$RichMediaEditorStore6;ma=w.element.index;if(ba[ma].name.trim().length==0){var z=c('RichMediaElementUtil').getDefaultElementName(w.element.type),aa=ba[ma].set('name',z);ba[ma]=aa;this.__emitChange()}break;case c('AdsDataActionTypes').richMediaEditorSetDocumentTheme:this.$RichMediaEditorStore4=w.theme;this.$RichMediaEditorStore5=w.themeType;if(w.themeType===l.CUSTOM)this.$RichMediaEditorStore23=w.theme;this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore18=-1;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetDocumentEditState:this.$RichMediaEditorStore7=w.editState;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetForceEditPublished:this.$RichMediaEditorStore20=w.forceEditPublished;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorAddDocumentElement:var ba=this.$RichMediaEditorStore6;this.$RichMediaEditorStore9=m.NONE;if(w.element.type===c('InstantShoppingDocumentElementType').HEADER){this.$RichMediaEditorStore40(w.element,0)}else if(w.element.type===c('InstantShoppingDocumentElementType').BUTTON&&w.element.isFixedToBottom){this.$RichMediaEditorStore6.push(w.element)}else if(this.getHasStoreLocatorElement()||this.getHasFixedToBottomElement()){var ca=this.getHasStoreLocatorElement()&&this.getHasFixedToBottomElement()?2:1;this.$RichMediaEditorStore40(w.element,this.$RichMediaEditorStore6.length-ca)}else this.$RichMediaEditorStore6.push(w.element);this.$RichMediaEditorStore18=w.element.index;this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorAddFilesToDocumentElement:x=this.$RichMediaEditorStore41(w.files,w.pageID,this.getDocumentElement(w.element.id));this.$RichMediaEditorStore6[x.index]=x;this.$RichMediaEditorStore18=x.index;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorReplaceFileInDocument:x=this.getDocumentElement(w.element.id);x.type===c('InstantShoppingDocumentElementType').SLIDESHOW||x.type===c('InstantShoppingDocumentElementType').BUNDLE||i(0);var da=new (c('Map'))();da[w.files[0].name]=w.itemID;var ea=c('RichMediaEditorUploader').upload(w.pageID,[w.files[0]],this.$RichMediaEditorStore42(x.id,da));this.$RichMediaEditorStore1.push(ea);x=x.replaceFile(w.itemID,ea);this.$RichMediaEditorStore6[x.index]=x;this.$RichMediaEditorStore18=x.index;this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorEditDocumentElement:this.$RichMediaEditorStore10=false;ba=this.$RichMediaEditorStore6;var fa=this.$RichMediaEditorStore6[w.element.index];if(fa&&fa!=w.element&&fa.expanded===w.element.expanded&&w.element.previewOnly!==true)this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore6[w.element.index]=w.element;var ga=w.element.uploadStatus&&(w.element.uploadStatus.isEncoding||w.element.uploadStatus.isUploading);if(!ga)this.$RichMediaEditorStore18=w.element.index;if(w.element.type===c('InstantShoppingDocumentElementType').BUTTON)if(w.element.isFixedToBottom){ba.splice(w.element.index,1);ba.push(w.element);for(var ha=w.element.index;ha<ba.length;ha++)ba[ha]=ba[ha].set('index',ha);this.$RichMediaEditorStore18=ba.length-1}else if(fa.isFixedToBottom&&this.getHasStoreLocatorElement()&&w.element.index===ba.length-1&&!w.element.isFixedToBottom){var ia=ba[ba.length-2].set('index',ba.length-1),ja=ba[ba.length-1].set('index',ba.length-2);ba[ba.length-2]=ja;ba[ba.length-1]=ia;this.$RichMediaEditorStore18=ba.length-2}var ka=c('RichMediaElementUtil').validateElements(ba,w.templatePlugin);if(ka.isValid)this.$RichMediaEditorStore9=m.WARNING;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorMoveElementUp:if(w.element.index>0&&w.element.index-w.distance>=0){ba=this.$RichMediaEditorStore6;var la=0;for(la=0;la<w.distance;la++){var ma=w.element.index-la,na=ba[ma].set('index',ma-1),oa=ba[ma-1].set('index',ma);if(oa.type!==c('InstantShoppingDocumentElementType').HEADER){ba[ma]=oa;ba[ma-1]=na}else break;this.$RichMediaEditorStore18=ma-la}this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange()}break;case c('AdsDataActionTypes').richMediaEditorMoveElementDown:var pa=this.$RichMediaEditorStore6.length;if(this.getHasStoreLocatorElement())pa--;if(this.getHasFixedToBottomElement())pa--;if(w.element.index<pa-w.distance&&w.element.type!==c('InstantShoppingDocumentElementType').HEADER){ba=this.$RichMediaEditorStore6;var qa=0;for(qa=0;qa<w.distance;qa++){ma=w.element.index+qa;na=ba[ma];var ra=ba[ma+1];ba[ma]=ra.set('index',ma);ba[ma+1]=na.set('index',ma+1);this.$RichMediaEditorStore18=ma+1}this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange()}break;case c('AdsDataActionTypes').richMediaEditorDeleteElement:ba=this.$RichMediaEditorStore6;ma=w.element.index;ba.splice(ma,1);for(var sa=ma;sa<ba.length;++sa)ba[sa]=ba[sa].set('index',sa);this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore18=ma>0?ma-1:0;if(ba.length==0||c('RichMediaElementUtil').validateElements(ba).isValid)this.$RichMediaEditorStore9=m.WARNING;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorCreateDefaultDocument:this.$RichMediaEditorStore43();this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorCreateDocumentFromMedia:this.$RichMediaEditorStore44();this.$RichMediaEditorStore45(w.title,w.images);this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetPreviewFailed:this.$RichMediaEditorStore12=w.previewFailed;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetPreviewType:this.$RichMediaEditorStore38=w.previewType;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetSendingPreview:this.$RichMediaEditorStore14=w.sendingPreview;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSaveIncompleteElements:y=c('RichMediaElementUtil').validateElements(this.$RichMediaEditorStore6);this.$RichMediaEditorStore9=m.WARNING;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentSaveError:this.$RichMediaEditorStore13=true;this.$RichMediaEditorStore9=m.ERROR;this.$RichMediaEditorStore39=w.error;this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetSaveFailed:y=c('RichMediaElementUtil').validateElements(this.$RichMediaEditorStore6);if(y.isValid)this.$RichMediaEditorStore13=w.saveFailed;if(w.saveFailed){this.$RichMediaEditorStore9=m.ERROR}else this.$RichMediaEditorStore39=null;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetValidationFailed:if(!w.elementValidation.isValid)this.$RichMediaEditorStore9=m.ERROR;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorLoadDocument:this.$RichMediaEditorStore17=false;this.$RichMediaEditorStore2=w.propertyList;this.$RichMediaEditorStore37=w.tags;this.$RichMediaEditorStore27=false;this.$RichMediaEditorStore9=m.NONE;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore31=w.sourceTemplateID;this.$RichMediaEditorStore11=w.isPublished;this.$RichMediaEditorStore34=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').AD_CANVAS_EDITOR_TOOLBAR_NUX);this.$RichMediaEditorStore39=null;this.$RichMediaEditorStore7=p.SAVED;if(w.elementsPayload){var ta=JSON.parse(w.elementsPayload);ta.forEach(function(ya,za){if(ya.index!==za)this.$RichMediaEditorStore7=p.UNSAVED;ya.index=za}.bind(this));w.elementsPayload=JSON.stringify(ta)}if(w.documentName)this.$RichMediaEditorStore3=w.documentName;if(w.documentID)this.$RichMediaEditorStore8=w.documentID;if(w.documentTheme){this.$RichMediaEditorStore4=w.documentTheme;if(w.documentTheme===q){this.$RichMediaEditorStore5=l.WHITE}else if(w.documentTheme===r){this.$RichMediaEditorStore5=l.BLACK}else{this.$RichMediaEditorStore5=l.CUSTOM;this.$RichMediaEditorStore23=w.documentTheme}}if(w.elementsPayload&&w.elements){this.$RichMediaEditorStore46(w.elementsPayload,w.elements)}else if(w.elementsPayload)this.$RichMediaEditorStore47(w.elementsPayload);this.$RichMediaEditorStore35=!!(w.styleList&&w.styleList.includes('ENABLE_SWIPE_TO_OPEN'));this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore26=false;this.$RichMediaEditorStore25=false;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetDocumentUrlDialogShown:this.$RichMediaEditorStore16=w.dialogShown;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorToggleDocumentDebugPaneShown:this.$RichMediaEditorStore15=!this.$RichMediaEditorStore15;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorToggleWelcomePaneShown:this.$RichMediaEditorStore26=w.shown;if(w.shown){this.$RichMediaEditorStore28=null;this.$RichMediaEditorStore8='';this.$RichMediaEditorStore6=[];this.$RichMediaEditorStore24=0}this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorTriggerNuxTour:this.$RichMediaEditorStore25=w.shown;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorCollapseExpandedElements:if(!c('AdsCanvasEditorFeature').ads_canvas_editor_publish_redesign)break;ba=this.$RichMediaEditorStore6;for(var ua=0;ua<ba.length;++ua)ba[ua]=ba[ua].set('expanded',false);this.$RichMediaEditorStore27=true;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSelectElementToAdd:var va=w.elementTypeName;if(va in this.$RichMediaEditorStore19){this.$RichMediaEditorStore19[va]++}else this.$RichMediaEditorStore19[va]=1;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorDeselectElementToAdd:va=w.elementTypeName;if(va in this.$RichMediaEditorStore19){this.$RichMediaEditorStore19[va]--;if(this.$RichMediaEditorStore19[va]<=0)delete this.$RichMediaEditorStore19[va];}this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetAddComponentDialogShown:this.$RichMediaEditorStore21=w.dialogShown;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentAddNewElements:this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore21=false;this.$RichMediaEditorStore26=false;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorAddElementsSelected:this.$RichMediaEditorStore9=m.NONE;for(var wa in t){va=t[wa];if(va in this.$RichMediaEditorStore19&&this.$RichMediaEditorStore19[va]>0){this.$RichMediaEditorStore48(va);this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore10=false}}if(this.$RichMediaEditorStore19[t.HEADER]>0){this.$RichMediaEditorStore18=0}else if(!this.$RichMediaEditorStore19[t.STORE_LOCATOR]&&this.getHasStoreLocatorElement()){this.$RichMediaEditorStore18=this.$RichMediaEditorStore6.length-2}else this.$RichMediaEditorStore18=this.$RichMediaEditorStore6.length-1;if(this.getHasFixedToBottomElement()&&this.$RichMediaEditorStore18>0)this.$RichMediaEditorStore18-=1;this.$RichMediaEditorStore19={};this.$RichMediaEditorStore21=false;this.$RichMediaEditorStore26=false;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetShowTemplates:this.$RichMediaEditorStore22=w.showTemplates;this.__emitChange();break;case c('AdsDataActionTypes').canvasBuilderLoadTemplate:case c('AdsDataActionTypes').richMediaEditorLoadCanvasTemplate:this.$RichMediaEditorStore28=w.selectedTemplate;if(w.selectedTemplate)this.$RichMediaEditorStore49(w.selectedTemplate,w.elementsPayload,w.elements);this.$RichMediaEditorStore35=false;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorCanvasTemplateSelected:this.$RichMediaEditorStore28=w.selectedTemplate;this.$RichMediaEditorStore26=false;if(w.selectedTemplate==='blank'){this.$RichMediaEditorStore21=true;this.$RichMediaEditorStore6=[]}if(w.selectedTemplate==='tour'){this.$RichMediaEditorStore25=true;this.$RichMediaEditorStore6=[]}var xa=s.findIndex(function(ya){return ya.value===w.selectedTemplate});if(xa!==-1)this.$RichMediaEditorStore3=s[xa].title.toString();this.$RichMediaEditorStore35=true;this.__emitChange();break;case c('AdsDataActionTypes').canvasBuilderOpenBlankCanvas:this.$RichMediaEditorStore26=false;this.$RichMediaEditorStore21=true;this.$RichMediaEditorStore35=true;this.__emitChange();break;case c('AdsDataActionTypes').canvasBuilderOpenNUXTour:this.$RichMediaEditorStore26=false;this.$RichMediaEditorStore25=true;this.$RichMediaEditorStore35=true;this.__emitChange();break;case c('AdsDataActionTypes').canvasBuilderSelectTemplate:this.$RichMediaEditorStore26=false;this.$RichMediaEditorStore35=true;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorBackToMenu:this.$RichMediaEditorStore2=null;this.$RichMediaEditorStore10=true;this.$RichMediaEditorStore26=true;this.$RichMediaEditorStore28=null;this.$RichMediaEditorStore35=true;this.$RichMediaEditorStore9=m.NONE;this.$RichMediaEditorStore3=h._("Untitled Canvas").toString();this.$RichMediaEditorStore4=q;this.$RichMediaEditorStore5=l.WHITE;this.$RichMediaEditorStore23=r;this.$RichMediaEditorStore6=[];this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore25=false;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetCanvasSource:this.$RichMediaEditorStore32=w.source;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetCanvasPageid:this.$RichMediaEditorStore33=w.pageId;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetSwipeToOpenEnabled:this.$RichMediaEditorStore35=w.value;this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange();break;case c('AdsDataActionTypes').richMediaEditorSetSupportInstagramEnabled:this.$RichMediaEditorStore36=w.value;this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore38=o.FACEBOOK;this.__emitChange();break;case c('AdsDataActionTypes').canvasInlineBuilderSaveCanvas:this.$RichMediaEditorStore7=p.SAVING;this.__emitChange();break;case c('AdsDataActionTypes').canvasInlineBuilderShowInlineModal:if(!w.showInlineModal){this.$RichMediaEditorStore8='';this.$RichMediaEditorStore17=false}break;case c('AdsDataActionTypes').canvasInlineBuilderPreviewCanvas:this.$RichMediaEditorStore14=false;this.__emitChange();break;case c('AdsDataActionTypes').uEditorAdgroupSetCanvasDocument:this.$RichMediaEditorStore7=p.SAVED;this.$RichMediaEditorStore8='';this.$RichMediaEditorStore17=false;this.__emitChange();break;case c('AdsDataActionTypes').canvasInit:this.$RichMediaEditorStore5=l.WHITE;this.$RichMediaEditorStore23=r;this.$RichMediaEditorStore7=w.canvasID?p.SAVED:p.UNSAVED;this.$RichMediaEditorStore39=null;if(this.$RichMediaEditorStore9!==m.WARNING)this.$RichMediaEditorStore9=m.NONE;this.$RichMediaEditorStore20=false;this.$RichMediaEditorStore12=false;this.$RichMediaEditorStore13=false;this.$RichMediaEditorStore14=false;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore16=false;this.$RichMediaEditorStore18=-1;this.$RichMediaEditorStore21=false;this.$RichMediaEditorStore25=false;this.$RichMediaEditorStore27=false;this.$RichMediaEditorStore28=null;this.$RichMediaEditorStore29=false;this.$RichMediaEditorStore38=o.FACEBOOK;this.$RichMediaEditorStore34=false;this.$RichMediaEditorStore36=false;this.$RichMediaEditorStore10=!w.canvasID;this.$RichMediaEditorStore26=!w.canvasID;if(!w.canvasID)this.$RichMediaEditorStore35=true;this.$RichMediaEditorStore33=w.pageID;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentLoadSuccess:this.$RichMediaEditorStore35=w.canvasDocument.swipeToOpenEnabled;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentInitSave:this.$RichMediaEditorStore9=w.hasErrors?m.WARNING:m.NONE;this.$RichMediaEditorStore7=p.SAVING;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentInitPublish:case c('AdsDataActionTypes').canvasDocumentInitDuplicate:this.$RichMediaEditorStore7=p.SAVING;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentCreateSuccess:case c('AdsDataActionTypes').canvasDocumentDuplicateSuccess:case c('AdsDataActionTypes').canvasDocumentSaveSuccess:this.$RichMediaEditorStore7=p.SAVED;this.$RichMediaEditorStore35=w.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore13=false;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentCreateError:case c('AdsDataActionTypes').canvasDocumentDuplicateError:case c('AdsDataActionTypes').canvasElementCreateError:case c('AdsDataActionTypes').canvasElementSaveError:this.$RichMediaEditorStore7=p.SAVED;this.$RichMediaEditorStore13=true;this.__emitChange();break;case c('AdsDataActionTypes').canvasElementUpdate:case c('AdsDataActionTypes').canvasElementSwitchButtonPosition:case c('AdsDataActionTypes').canvasElementSwitchMediaElementType:if(w.index!==undefined){this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore18=w.index;this.$RichMediaEditorStore9=m.NONE}this.__emitChange();break;case c('AdsDataActionTypes').canvasInlineBuilderSetProductTaggingCoordinates:this.$RichMediaEditorStore7=p.UNSAVED;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentReorderElements:this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore18=w.target;this.__emitChange();break;case c('AdsDataActionTypes').canvasDocumentSetTitle:case c('AdsDataActionTypes').canvasElementDelete:this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore10=false;this.__emitChange();break;case c('AdsDataActionTypes').canvasResetCanvas:this.$RichMediaEditorStore30=false;this.__emitChange();break;case c('AdsDataActionTypes').canvasShowCloseUnsavedCanvasDialog:this.$RichMediaEditorStore30=w.showDialog;this.__emitChange();break;}};u.prototype.getCanvasCreated=function(){return this.$RichMediaEditorStore17};u.prototype.getCanvasPageId=function(){return this.$RichMediaEditorStore33};u.prototype.getCanvasPropertyList=function(){return this.$RichMediaEditorStore2};u.prototype.getCanvasSource=function(){return this.$RichMediaEditorStore32};u.prototype.getCanvasTags=function(){return this.$RichMediaEditorStore37};u.prototype.getDocumentName=function(){return this.$RichMediaEditorStore3};u.prototype.getDocumentTheme=function(){return this.$RichMediaEditorStore4};u.prototype.getDocumentThemeType=function(){return this.$RichMediaEditorStore5};u.prototype.getDocumentEditState=function(){return this.$RichMediaEditorStore7};u.prototype.getDocumentElement=function(v){return this.$RichMediaEditorStore6.find(function(w){return w.id===v})};u.prototype.getDocumentID=function(){return this.$RichMediaEditorStore8};u.prototype.getDocumentElements=function(){return this.$RichMediaEditorStore6.slice()};u.prototype.getIsPublished=function(){return this.$RichMediaEditorStore11};u.prototype.getPreviewFailed=function(){return this.$RichMediaEditorStore12};u.prototype.getPreviewType=function(){return this.$RichMediaEditorStore38};u.prototype.getSendingPreview=function(){return this.$RichMediaEditorStore14};u.prototype.getSaveFailed=function(){return this.$RichMediaEditorStore13};u.prototype.getSourceTemplateID=function(){return this.$RichMediaEditorStore31};u.prototype.getDocumentURLDialogShown=function(){return this.$RichMediaEditorStore16};u.prototype.getDocumentDebugPaneShown=function(){return this.$RichMediaEditorStore15};u.prototype.getForceEditPublished=function(){return this.$RichMediaEditorStore20};u.prototype.getCurrentEditingElementIndex=function(){return this.$RichMediaEditorStore18};u.prototype.getSelectedElementsToAdd=function(){return babelHelpers['extends']({},this.$RichMediaEditorStore19)};u.prototype.getShowAddComponentDialog=function(){return this.$RichMediaEditorStore21};u.prototype.getShowBackToMenuUnsavedDialog=function(){return this.$RichMediaEditorStore29};u.prototype.getHasFixedToBottomElement=function(){var v=this.$RichMediaEditorStore6;if(v.length>0&&v[v.length-1].type===c('InstantShoppingDocumentElementType').BUTTON&&v[v.length-1].isFixedToBottom)return true;return false};u.prototype.getHasHeaderElement=function(){var v=this.$RichMediaEditorStore6.filter(function(w){return w.type===c('InstantShoppingDocumentElementType').HEADER});return v.length!==0};u.prototype.getHasStoreLocatorElement=function(){var v=this.$RichMediaEditorStore6.filter(function(w){return w.type===c('InstantShoppingDocumentElementType').STORE_LOCATOR});return v.length!==0};u.prototype.getHasOfferElement=function(){var v=this.$RichMediaEditorStore6.filter(function(w){return w.type===c('InstantShoppingDocumentElementType').OFFER});return v.length!==0};u.prototype.getNumberOfScrubbableGIFs=function(){return this.$RichMediaEditorStore6.filter(function(v){return v.type===c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF}).length};u.prototype.getCustomThemeColor=function(){return this.$RichMediaEditorStore23};u.prototype.getError=function(){return this.$RichMediaEditorStore39};u.prototype.getErrorType=function(){return this.$RichMediaEditorStore9};u.prototype.getSelectedTemplate=function(){return this.$RichMediaEditorStore28};u.prototype.getShowTemplates=function(){return this.$RichMediaEditorStore22};u.prototype.getSwipeToOpenEnabled=function(){return this.$RichMediaEditorStore35};u.prototype.getSupportInstagramEnabled=function(){return this.$RichMediaEditorStore36};u.prototype.isDefaultDocument=function(){return this.$RichMediaEditorStore10};u.prototype.isWelcomePaneShown=function(){return this.$RichMediaEditorStore26};u.prototype.isElementsCollapsed=function(){return this.$RichMediaEditorStore27};u.prototype.showNuxTour=function(){return this.$RichMediaEditorStore25};u.prototype.shouldEnableSwipeToOpenCheckbox=function(){var v=this.$RichMediaEditorStore6[this.$RichMediaEditorStore6.length-1];if(!v)return false;switch(v.type){case c('InstantShoppingDocumentElementType').PHOTO:if(v.layout==='fit_to_height'||v.layout==='expandable'||!v.link||v.destination===n.CANVAS||!c('RichMediaEditorUtil').isValidURL(v.link))return false;return true;case c('InstantShoppingDocumentElementType').BUTTON:if(!v.link||v.destination===n.CANVAS||!c('RichMediaEditorUtil').isValidURL(v.link))return false;return true;case c('InstantShoppingDocumentElementType').SLIDESHOW:if(v.layout==='fit_to_height'||!v.items.some(function(w){return w.link&&w.destination!==n.CANVAS&&c('RichMediaEditorUtil').isValidURL(w.link)}))return false;return true;default:return false;}};u.prototype.isNewUser=function(){return this.$RichMediaEditorStore34};u.prototype.setIsNotNewUser=function(){if(this.$RichMediaEditorStore34){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').AD_CANVAS_EDITOR_TOOLBAR_NUX);this.$RichMediaEditorStore34=false}};u.prototype.$RichMediaEditorStore43=function(){this.$RichMediaEditorStore50();this.$RichMediaEditorStore10=true;this.$RichMediaEditorStore26=true};u.prototype.$RichMediaEditorStore44=function(){this.$RichMediaEditorStore50();this.$RichMediaEditorStore10=false;this.$RichMediaEditorStore26=false};u.prototype.$RichMediaEditorStore50=function(){this.$RichMediaEditorStore2=null;this.$RichMediaEditorStore37=[];this.$RichMediaEditorStore11=false;this.$RichMediaEditorStore28=null;this.$RichMediaEditorStore29=false;this.$RichMediaEditorStore9=m.NONE;this.$RichMediaEditorStore34=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').AD_CANVAS_EDITOR_TOOLBAR_NUX);this.$RichMediaEditorStore3=h._("Untitled Canvas").toString();this.$RichMediaEditorStore4=q;this.$RichMediaEditorStore5=l.WHITE;this.$RichMediaEditorStore23=r;this.$RichMediaEditorStore8='';this.$RichMediaEditorStore6=[];this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore25=false;this.$RichMediaEditorStore35=true};u.prototype.$RichMediaEditorStore40=function(v,w){var x=this.$RichMediaEditorStore6;for(var y=w;y<x.length;++y)x[y]=x[y].set('index',y+1);x.splice(w,0,v.set('index',w))};u.prototype.$RichMediaEditorStore48=function(v){var w=-1;if(v===t.HEADER){w=0}else{w=this.$RichMediaEditorStore6.length;if(this.getHasFixedToBottomElement())w-=1;if(this.getHasStoreLocatorElement())w-=1;}var x=null;switch(v){case t.BUNDLE:x=c('RichMediaBundleElement').createDefault(w);break;case t.BUTTON:x=c('RichMediaButtonElement').createDefault(w);break;case t.CAROUSEL:x=c('RichMediaCarouselElement').createDefault(w);break;case t.CULTURAL_MOMENT_HEADER:x=c('RichMediaCulturalMomentHeaderElement').createDefault(w);break;case t.HEADER:x=c('RichMediaHeaderElement').createDefault(w);break;case t.PHOTO:x=c('RichMediaPhotoElement').createDefault(w);break;case t.TEXT:x=c('RichMediaTextElement').createDefault(w);break;case t.VIDEO:x=c('RichMediaVideoElement').createDefault(w);break;case t.SCRUBBABLE_GIF:x=c('RichMediaScrubbableGIFElement').createDefault(w);break;case t.PRODUCT_SET:x=c('RichMediaProductSetElement').createDefault(w);break;case t.TITLE_AND_DATE:x=c('RichMediaTitleAndDateElement').createDefault(w);break;case t.STORE_LOCATOR:x=c('RichMediaStoreLocatorElement').createDefault(w);break;case t.LOCAL_IMAGE:x=c('RichMediaLocalImageElement').createDefault(w);break;case t.CULTURAL_MOMENT_POPULAR_MEDIA:x=c('RichMediaCultureMomentPopularMediaElement').createDefault(w);break;case t.FB_TIPS:x=c('AdsCanvasDailyDialogueSVGElement').createDefault(w);break;}if(!x)return;x=this.$RichMediaEditorStore51(x);this.$RichMediaEditorStore40(x,w)};u.prototype.$RichMediaEditorStore47=function(v){this.$RichMediaEditorStore6=[];var w=JSON.parse(v).filter(function(z){return !!z.type});w=c('AdsCanvasInlineUtils').parseBundleElementFromElements(w);this.$RichMediaEditorStore24=w.length;for(var x=0;x<w.length;++x){var y=w[x];y.expanded=!!y.expanded;y.advancedExpanded=!!y.advancedExpanded;y.index=x;switch(y.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:y=c('RichMediaTextElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').PHOTO:y=c('RichMediaPhotoElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').VIDEO:y=c('RichMediaVideoElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:y=c('RichMediaScrubbableGIFElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').BUTTON:y=c('RichMediaButtonElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:y.selectedItemIndex=0;y=c('RichMediaCarouselElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').BUNDLE:y.selectedItemIndex=0;y=c('RichMediaBundleElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').HEADER:if(y.isCulturalMomentHeader){y=c('RichMediaCulturalMomentHeaderElement').createFromObject(y)}else y=c('RichMediaHeaderElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:y=c('RichMediaProductSetElement').createFromObject(y);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:y=c('RichMediaStoreLocatorElement').createFromObject(y);break;}this.$RichMediaEditorStore6.push(this.$RichMediaEditorStore51(y))}};u.prototype.$RichMediaEditorStore46=function(v,w){this.$RichMediaEditorStore6=[];var x=JSON.parse(v);for(var y=x.length-1;y>=0;y--)if(!x[y].type){x.splice(y,1);w.splice(y,1)}this.$RichMediaEditorStore24=x.length;var z=x.length;if(z>0&&w[z-1].element_type==='FOOTER'){var aa=-1;for(var ba=0;ba<z;ba++)if(x[ba].type===c('InstantShoppingDocumentElementType').BUTTON&&x[ba].isFixedToBottom===true){aa=ba;break}if(aa!==-1){var ca=x[aa];for(var da=aa;da<z-1;da++){x[da]=x[da+1];x[da].index=da}x[z-1]=ca;x[z-1].index=z-1}}for(var ea=0;ea<z;ea++){var fa=x[ea],ga=w[ea],ha=fa;if(!fa.expanded)ha.expanded=false;if(!fa.advancedExpanded)ha.advancedExpanded=false;ha.index=ea;switch(ha.type){case c('InstantShoppingDocumentElementType').RICH_TEXT:ha=c('RichMediaTextElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').PHOTO:ha=c('RichMediaPhotoElement').createFromPayloadAndElementField(fa,ga);break;case c('InstantShoppingDocumentElementType').VIDEO:ha=c('RichMediaVideoElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').SCRUBBABLE_GIF:ha=c('RichMediaScrubbableGIFElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').BUTTON:ha=c('RichMediaButtonElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').SLIDESHOW:ha.selectedItemIndex=0;ha=c('RichMediaCarouselElement').createFromPayloadAndElementField(fa,ga);break;case c('InstantShoppingDocumentElementType').BUNDLE:ha.selectedItemIndex=0;ha=c('RichMediaBundleElement').createFromPayloadAndElementField(fa,ga);break;case c('InstantShoppingDocumentElementType').HEADER:if(fa.isCulturalMomentHeader){ha=c('RichMediaCulturalMomentHeaderElement').createFromPayloadAndElementField(fa,ga)}else ha=c('RichMediaHeaderElement').createFromPayloadAndElementField(fa,ga);break;case c('InstantShoppingDocumentElementType').ELEMENT_GROUP:ha=c('RichMediaProductSetElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').TITLE_AND_DATE:ha=c('RichMediaTitleAndDateElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').STORE_LOCATOR:ha=c('RichMediaStoreLocatorElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').LOCAL_IMAGE:ha=c('RichMediaLocalImageElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').CULTURAL_MOMENT_POPULAR_MEDIA:ha=c('RichMediaCultureMomentPopularMediaElement').createFromObject(ha);break;case c('InstantShoppingDocumentElementType').DAILY_DIALOGUE_FB_TIPS:ha=c('AdsCanvasDailyDialogueSVGElement').createFromObject(ha);}this.$RichMediaEditorStore6.push(this.$RichMediaEditorStore51(ha))}};u.prototype.$RichMediaEditorStore45=function(v,w){for(var x=w.entries(),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var aa;if(y){if(z>=x.length)break;aa=x[z++]}else{z=x.next();if(z.done)break;aa=z.value}var ba=aa,ca=ba[0],da=ba[1],ea=c('RichMediaPhotoElement').createFromAdAsset(parseInt(ca,0),da,null);this.$RichMediaEditorStore6.push(this.$RichMediaEditorStore51(ea))}this.$RichMediaEditorStore3=v;this.$RichMediaEditorStore2=[c('CanvasProperty').WEBSITE_PARSING]};u.prototype.$RichMediaEditorStore51=function(v){return v.set('id',(++this.$RichMediaEditorStore24).toString())};u.prototype.$RichMediaEditorStore41=function(v,w,x){x.type===c('InstantShoppingDocumentElementType').SLIDESHOW||x.type===c('InstantShoppingDocumentElementType').BUNDLE||i(0);var y=void 0,z=new (c('Map'))();for(var aa=0,ba=v.length;aa<ba;++aa){y=v[aa];z[y.name]=y.name+'_'+Date.now()}var ca=this.$RichMediaEditorStore42(x.id,z);for(aa=0;aa<ba;++aa){y=v[aa];var da=c('RichMediaEditorUploader').upload(w,[y],ca);x=x.addFile(z[y.name],da);this.$RichMediaEditorStore1.push(da)}return x};u.prototype.$RichMediaEditorStore49=function(v,w,x){this.$RichMediaEditorStore10=true;this.$RichMediaEditorStore9=m.NONE;this.$RichMediaEditorStore7=p.UNSAVED;this.$RichMediaEditorStore3=h._("Untitled Canvas").toString();this.$RichMediaEditorStore15=false;this.$RichMediaEditorStore26=true;this.$RichMediaEditorStore25=false;if(w&&x){this.$RichMediaEditorStore46(w,x)}else{this.$RichMediaEditorStore6=[];this.$RichMediaEditorStore24=0}};u.prototype.$RichMediaEditorStore42=function(v,w){return {onProgress:function(x,y){var z=this.getDocumentElement(v);if(z&&z.onFileProgress){z=z.onFileProgress(w[x.name],y);if(z)c('RichMediaEditorActions').editDocumentElement(z);}}.bind(this),onSuccess:function(x,y){var z=this.getDocumentElement(v);if(z&&z.onFileSuccess){z=z.onFileSuccess(w[x.name],y);if(z)c('RichMediaEditorActions').editDocumentElement(z);}}.bind(this),onError:function(x){var y=this.getDocumentElement(v);if(y&&y.onFileError){y=y.onFileError(w[x.name]);if(y)c('RichMediaEditorActions').editDocumentElement(y);}}.bind(this)}};f.exports=new u(c('AdsDispatcher'))}),null);
__d('AdsCanvasCurrentCanvasIDStore',['AdsCanvasDefaultNewDocumentID','AdsDataActionTypes','AdsDispatcher','FluxReduceStore','adsCreateStoreSelector','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.getCurrentDocumentID=c('adsCreateStoreSelector')([this],function(){return this.getStateEnforcing()}.bind(this)),l}j.prototype.getInitialState=function(){return null};j.prototype.getStateEnforcing=function(){return c('nullthrows')(this.getState())};j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsDataActionTypes').canvasInit:if(m.canvasID==null)return c('AdsCanvasDefaultNewDocumentID');return m.canvasID;case c('AdsDataActionTypes').canvasInlineTransformCanvas:return m.canvasDocument.id;case c('AdsDataActionTypes').canvasDocumentCreateSuccess:case c('AdsDataActionTypes').canvasDocumentDuplicateSuccess:case c('AdsDataActionTypes').canvasBuilderLoadTemplate:return m.canvasID;case c('AdsDataActionTypes').canvasBuilderOpenBlankCanvas:case c('AdsDataActionTypes').canvasBuilderOpenNUXTour:case c('AdsDataActionTypes').canvasBuilderSelectTemplate:return c('AdsCanvasDefaultNewDocumentID');default:return k;}};f.exports=new j(c('AdsDispatcher'))}),null);
__d('AdsCanvasDocumentStore',['invariant','AdsCanvasConstants','AdsCanvasDefaultNewDocumentID','AdsCanvasDocument','AdsCanvasDocumentDataDispatcher','AdsDataActionTypes','AdsDispatcher','CanvasDataUtils','FluxLoadObjectStore','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasConstants').CANVAS_COPY_SUFFIX,l=c('immutable').List;i=babelHelpers.inherits(m,c('FluxLoadObjectStore'));j=i&&i.prototype;m.prototype.reduce=function(n,o){var p=o.action,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0,y=void 0,z=void 0,aa=void 0,ba=void 0,ca=void 0,da=void 0,ea=void 0;switch(p.type){case c('AdsDataActionTypes').canvasDocumentAddNewElements:v=p.elements;y=p.id;this.get(y)!==null&&this.get(y).hasValue()||h(0);return this.__handleOne(n,y,this.get(y).getValueEnforcing().addNewElements(v,p.options.offsetIndex));case c('AdsDataActionTypes').canvasBuilderSelectTemplate:r=p.canvasDocument;return this.__handleOne(n,r.id,r);case c('AdsDataActionTypes').canvasDocumentLoadError:s=p.canvasID;w=p.error;return this.__handleOne(n,s,w);case c('AdsDataActionTypes').canvasInit:if(p.canvasID!=null)return n;var fa=c('AdsCanvasDocument').createNewDocument(p.source);return this.__handleOne(n,fa.getID(),fa);case c('AdsDataActionTypes').canvasDocumentInitSave:r=p.canvasDocument;v=p.elements;aa=p.onSuccess;ba=p.pageID;t=this.get(r.getID()).updating();c('AdsCanvasDocumentDataDispatcher').saveDocument(r,v,ba,aa);return n.set(p.canvasID,t);case c('AdsDataActionTypes').canvasDocumentInitPublish:r=p.canvasDocument;aa=p.onSuccess;ba=p.pageID;t=this.get(r.getID()).updating();c('AdsCanvasDocumentDataDispatcher').publishDocument(r,ba,aa);return n.set(p.canvasID,t);case c('AdsDataActionTypes').canvasInlineBuilderSaveCanvas:q=p.adgroupIDs;r=p.canvasDocument;v=p.elements;x=p.hostID;z=p.onError;aa=p.onSuccess;ba=p.pageID;ca=p.productSetID;if(!r)return n;t=this.get(r.getID()).updating();c('AdsCanvasDocumentDataDispatcher').saveInlineDocument(r,v,ca,ba,aa,z,q,x);return n.set(p.canvasID,t);case c('AdsDataActionTypes').canvasDocumentLoadSuccess:case c('AdsDataActionTypes').canvasDocumentCreateSuccess:case c('AdsDataActionTypes').canvasDocumentSaveSuccess:case c('AdsDataActionTypes').canvasDocumentDuplicateSuccess:s=p.canvasID;r=p.canvasDocument;n=this.__handleOne(n,s,r);return this.__handleOne(n,s+k,r);case c('AdsDataActionTypes').canvasDocumentInitDuplicate:r=p.canvasDocument;v=p.elements;ba=p.pageID;c('AdsCanvasDocumentDataDispatcher').duplicateDocument(r,v,ba,p.onSuccess);return n;case c('AdsDataActionTypes').canvasDocumentSetTitle:y=p.id;ea=p.title;this.get(y)!==null&&this.get(y).hasValue()||h(0);return this.__handleOne(n,y,this.get(y).getValueEnforcing().setTitle(ea));case c('AdsDataActionTypes').richMediaEditorSetDocumentTheme:y=p.id;da=p.theme;this.get(y)!==null&&this.get(y).hasValue()||h(0);return this.__handleOne(n,y,this.get(y).getValueEnforcing().setBackgroundColor(da));case c('AdsDataActionTypes').canvasDocumentReorderElements:var ga=void 0,ha=void 0;y=p.id;ga=p.source;ha=p.target;this.get(y)!==null&&this.get(y).hasValue()||h(0);return this.__handleOne(n,y,this.get(y).getValueEnforcing().reorderElements(ga,ha));case c('AdsDataActionTypes').canvasDocumentRefresh:n=this.__setEmptyAndLoading(n,c('immutable').List([p.canvasID]));c('AdsCanvasDocumentDataDispatcher').getDocument(p.canvasID);return n;case c('AdsDataActionTypes').canvasElementDelete:s=p.canvasID;u=p.elementID;this.get(s)!==null&&this.get(s).hasValue()||h(0);r=this.get(s).getValueEnforcing();v=r.getElements();var ia=v.findIndex(function(ka){return ka.id===u});v=v.remove(ia);return this.__handleOne(n,s,r.setElements(v));case c('AdsDataActionTypes').canvasElementSwitchMediaElementType:case c('AdsDataActionTypes').canvasElementSwitchButtonPosition:s=p.canvasID;r=p.canvasDocument;this.get(s)!==null&&this.get(s).hasValue()||h(0);return this.__handleOne(n,s,r);case c('AdsDataActionTypes').uEditorAdgroupSetCanvasDocument:n=this.__setEmptyAndLoading(n,c('immutable').List([p.canvasID]));c('AdsCanvasDocumentDataDispatcher').getDocument(p.canvasID);return n;case c('AdsDataActionTypes').canvasInlineTransformCanvas:r=p.canvasDocument;return this.__handleOne(n,r.id,r);case c('AdsDataActionTypes').canvasBuilderOpenBlankCanvas:case c('AdsDataActionTypes').canvasBuilderOpenNUXTour:r=this.get(c('AdsCanvasDefaultNewDocumentID')).getValueEnforcing();r=r.set('elements',l([]));return this.__handleOne(n,r.id,r);case c('AdsDataActionTypes').canvasResetCanvas:s=p.canvasID;if(!c('CanvasDataUtils').isNewDocumentID(s)){var ja=this.get(s+k).getValueEnforcing();n=this.__handleOne(n,s,ja)}return n;default:return n;}};m.prototype.__load=function(n){c('AdsCanvasDocumentDataDispatcher').getDocument(n)};function m(){i.apply(this,arguments)}f.exports=new m(c('AdsDispatcher'))}),null);
__d('adsCanvasCurrentDocumentSelector',['AdsCanvasCurrentCanvasIDStore','AdsCanvasDocumentStore','LoadObject','adsCreateStoreSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateStoreSelector')([c('AdsCanvasCurrentCanvasIDStore'),c('AdsCanvasDocumentStore')],function(){var i=c('AdsCanvasCurrentCanvasIDStore').getState();return i?c('AdsCanvasDocumentStore').get(i):c('LoadObject').empty()});f.exports=h}),null);
__d('AdsSelectorUtils',['Set'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){var l;return Array.from(new (c('Set'))((l=[]).concat.apply(l,j.map(function(m){return m.getStores(k)}))))}function i(j,k){return h(j,k).map(function(l){return l.getDispatchToken()})}f.exports={getStoreDispatchTokens:i,getStores:h}}),null);
__d('adsCreateSelector',['AdsSelectorNameUtils','AdsSelectorUtils','FluxReduceStore','adsCacheSelector','adsCreateStoreSelector','shallowArrayEqual'],(function a(b,c,d,e,f,g){'use strict';var h=function o(p,q,r){var s=r?q():[],t=c('adsCacheSelector')(p,q,r);if(r){t.getStores=function(){return s}}else t.getStores=q;t.isGetStoresStatic=r;return t},i=function o(p,q){return h(function(r){return q.apply(undefined,p.map(function(s){return s(r)}))},function(r){return c('AdsSelectorUtils').getStores([].concat(p,[q]),r)},p.every(function(r){return r.isGetStoresStatic})&&q.isGetStoresStatic)};function j(o,p){if(o===p)return true;if(Array.isArray(o)&&Array.isArray(p))return c('shallowArrayEqual')(o,p);return false}var k=function o(p,q){var r=null,s=null,t=function u(v){var w=p.map(function(x){return x(v)});if(!s||!s.every(function(x,y){return j(x,w[y])})){r=q.apply(undefined,w);s=w}return r};return h(t,function(u){return c('AdsSelectorUtils').getStores(p,u)},p.every(function(u){return u.isGetStoresStatic}))},l=function o(p){return h(function(){return p()},function(){return []},true)};function m(o){if(o instanceof c('FluxReduceStore')){var p=o.__selector;if(!p){p=c('adsCreateStoreSelector')([o],function(){return o.getState()});o.__selector=p}return p}return o}var n=function o(p,q,r){var s=p.map(function(u){return m(u)}),t=void 0;if(typeof q.getStores==='function'){t=i(s,q)}else if(s.length){t=k(s,q)}else t=l(q);t.rawSelectFn=q;c('AdsSelectorNameUtils').nameSelector(t,r);return t};f.exports=n}),null);
__d('adsCanvasCloseUnsavedCanvasDialogSelector',['RichMediaEditorStore','adsCanvasCurrentDocumentSelector','adsCreateSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('adsCreateSelector')([c('adsCanvasCurrentDocumentSelector'),c('RichMediaEditorStore').getShowCloseUnsavedCanvasDialog],function(i,j){if(!i.hasValue())return {isReady:false};var k=i.getValueEnforcing();return {canvasID:k.id,elementIDs:k.elements.map(function(l){return l.id}),isReady:true,showDialog:j}});f.exports=h}),null);
__d('RichMediaEditorActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('keyMirrorRecursive')({ADD_DOCUMENT_ELEMENT:true,ADD_ELEMENTS_SELECTED:true,ADD_FILES_TO_DOCUMENT_ELEMENT:true,BACK_TO_MENU:true,CANVAS_TEMPLATE_SELECTED:false,COLLAPSE_EXPANDED_ELEMENTS:false,CREATE_CANVAS_SUCCESS:true,CREATE_DEFAULT_DOCUMENT:true,CREATE_DOCUMENT_FROM_MEDIA:true,DELETE_ELEMENT:true,DESELECT_ELEMENT_TO_ADD:true,EDIT_DOCUMENT_ELEMENT:true,FETCH_TEMPLATES:null,LOAD_BLANK_CANVAS:false,LOAD_CANVAS_TEMPLATE:false,LOAD_DOCUMENT:true,LOAD_PAGE_DATA_SUCCESS:false,LOAD_PAGE_DATA_ERROR:false,LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_SUCCESS:false,LOAD_PAGE_CANVAS_DOCS_BASIC_INFO_ERROR:false,LOAD_PAGE_LOCATIONS_ERROR:true,LOAD_PAGE_LOCATIONS_SUCCESS:true,MOVE_ELEMENT_DOWN:true,MOVE_ELEMENT_UP:true,REPLACE_FILE_IN_DOCUMENT:true,RESET_UNPUBLISHED_CANVAS:true,SAVE_INCOMPLETE_ELEMENTS:false,SELECT_ELEMENT_TO_ADD:true,SET_ADD_COMPONENT_DIALOG_SHOWN:true,SET_CANVAS_PAGEID:null,SET_CANVAS_SOURCE:null,SET_CUSTOMIZE_THEME_COLOR:true,SET_DIALOG_CANVAS:true,SET_DIALOG_SHOWN:true,SET_DOCUMENT_EDIT_STATE:true,SET_DOCUMENT_NAME:true,SET_DOCUMENT_THEME:true,SET_DOCUMENT_URL_DIALOG_SHOWN:true,SET_FORCE_EDIT_PUBLISHED:true,SET_NONEMPTY_ELEMENT_NAME:true,SET_PREVIEW_FAILED:true,SET_PREVIEW_TYPE:true,SET_SAVE_FAILED:true,SET_SELECTED_CANVAS:true,SET_SENDING_PREVIEW:true,SET_SHOW_TEMPLATES:false,SET_SWIPE_TO_OPEN_ENABLED:true,SET_SUPPORT_INSTAGRAM_ENABLED:false,SET_UNPUBLISHED_CANVAS:true,SET_USE_CUSTOMIZE_THEME_COLOR:true,SET_VALIDATION_FAILED:false,TEMPLATE_FETCHED:null,TOGGLE_DOCUMENT_DEBUG_PANE_SHOWN:true,TOGGLE_WELCOME_PANE_SHOWN:false,TOOLBAR_PUBLISH_CLICK:false,TRIGGER_NUX_TOUR:false},'RichMediaEditor')}),null);
__d('AdsCanvasBuilderDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('ReactDispatcher_DEPRECATED'))()}),null);
__d('AdsCanvasAdvancedRendering',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({CREATE:null,DROPDOWN:null,LINK:null,PREVIEW:null});f.exports=h}),null);
__d('AdsCanvasEditorFunnelLoggingConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={FUNNEL_LOGGING_NAME:'WWW_CANVAS_EDITOR_FUNNEL',FUNNEL_LOGGING_EVENT:{ADD_ELEMENT:'add_element',BACK_TO_MENU:'back_to_menu',CREATE_FAILURE:'create_failure',CREATE_POST:'create_post',CREATE_SUCCESS:'create_success',CHANGE_CANVAS_TITLE:'change_canvas_title',CHANGE_ELEMENT_TITLE:'change_element_title',DUPLICATE:'duplicate',DUPLICATE_FAILURE:'duplicate_failure',DUPLICATE_SUCCESS:'duplicate_success',GET_URL:'get_url',GETTING_STARTED_GUIDE:'getting_started_guide',INIT_DUPLICATE:'init_duplicate',INIT_SAVE:'init_save',LOAD_FAILURE:'load_failure',LOAD_SUCCESS:'load_success',PHOTO_UPLOAD_ERROR:'editor.photo_upload_error',PHOTO_UPLOAD_SUCCESS:'editor.photo_upload_success',EDITOR_PHOTO_UPLOAD_TIMEOUT:'editor.photo_upload_timeout',PHOTO_LIBRARY_UPLOADER_OPEN:'editor.photo_library_uploader_open',PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD:'editor.photo_library_uploader_image_upload',PHOTO_LIBRARY_UPLOADER_CANCEL:'editor.photo_library_uploader_cancel',PHOTO_MANUAL_UPLOADER_OPEN:'editor.photo_manual_uploader_open',PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD:'editor.photo_manual_uploader_image_upload',VIDEO_LIBRARY_UPLOADER_CANCEL:'editor.video_library_uploader_cancel',VIDEO_LIBRARY_UPLOADER_OPEN:'editor.video_library_uploader_open',VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK:'editor.video_library_uploader_video_click',VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT:'editor.video_library_uploader_video_import',VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING:'editor.video_library_uploader_video_select_existing',VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD:'editor.video_library_uploader_video_upload',VIDEO_MANUAL_UPLOADER_OPEN:'editor.video_manual_uploader_open',VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD:'editor.video_manual_uploader_video_upload',PREVIEW_FAIL:'preview_fail',PREVIEW_SELF:'preview_self',PREVIEW_SHARE:'preview_share',PUBLISH:'publish_canvas',PUBLISH_FAILURE:'publish_failure',REMOVE_ELEMENT:'remove_element',SAVE:'save_canvas',SAVE_INCOMPLETE_ELEMENTS:'save_incomplete_elements',SAVE_FAILURE:'save_failure',SAVE_SUCCESS:'save_success',SWIPE_TO_OPEN_TOGGLED:'swipe_to_open_toggled',SWITCH_ELEMENT:'switch_element',TEMPLATE_PREVIEW_LAYOUT:'template_preview_layout',TEMPLATE_SELECT_LAYOUT:'template_select_layout',TEMPLATE_DOWNLOAD_LAYOUT:'template_download_layout',TOOLBAR_PUBLISH_CLICKED:'toolbar_publish_clicked',UPLOAD_VIDEO:'upload_video',VALIDATION_ERROR:'validation_error',WELCOMESCREEN_BLANKCANVAS:'welcome_screen_blankcanvas',WELCOMESCREEN_EXAMPLES:'welcome_screen_examples',WELCOMESCREEN_TEMPLATE:'welcome_screen_template',WELCOMESCREEN_TIPS:'welcome_screen_tips',WELCOMESCREEN_TOUR:'welcome_screen_tour',WEBPARSING_SET_URL:'webparsing.set_url',WEBPARSING_LOADING_MEDIA:'webparsing.loading_media',WEBPARSING_LOADING_SUCCESS:'webparsing.loading_success',WEBPARSING_LOADING_FAIL:'webparsing.loading_fail',WEBPARSING_TOGGLE_PANNEL:'webparsing.toggle_pannel',WEBPARSING_IMAGE_SELECT:'webparsing.image_select',WEBPARSING_CONTINUE_BUILDER:'webparsing.continue_to_builder'},FUNNEL_LOGGING_TIMEOUT:999999,FUNNEL_LOGGING_TAGS:{EDITOR_EXIT:'editor_exit',FIRST_TIME_USER:'first_time_user',IS_EMPLOYEE:'is_employee',LOAD_EXISTING_DOC_WITH_VALIDATION_ERRORS:'load_existing_doc_with_validation_errors',PAGE_HAS_NEVER_CREATED:'page_has_never_created',PAGE_HAS_NEVER_PUBLISHED:'page_has_never_published',WELCOMESCREEN_SHOWN:'welcome_screen_shown'}}}),null);
__d("AdsCanvasWebdriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_COMPONENT_DIALOG_BUTTON_COMPONENT:"add-component-dialog-button",ADD_COMPONENT_DIALOG_CANCEL:"add-component-dialog-cancel",ADD_COMPONENT_DIALOG_CAROUSEL_COMPONENT:"add-component-dialog-carousel",ADD_COMPONENT_DIALOG_CM_HEADER_COMPONENT:"add-component-dialog-cm-header",ADD_COMPONENT_DIALOG_CM_IMAGE_COMPONENT:"add-component-dialog-cm-image",ADD_COMPONENT_DIALOG_CM_POPULAR_MEDIA_COMPONENT:"add-component-dialog-cm-popular-media",ADD_COMPONENT_DIALOG_CM_TITLE_COMPONENT:"add-component-dialog-cm-title",ADD_COMPONENT_DIALOG_CONFIRM:"add-component-dialog-confirm",ADD_COMPONENT_DIALOG_DD_FB_TIPS_COMPONENT:"add-component-dialog-fb-tips",ADD_COMPONENT_DIALOG_HEADER_COMPONENT:"add-component-dialog-header",ADD_COMPONENT_DIALOG_OFFER_COMPONENT:"add-component-dialog-offer",ADD_COMPONENT_DIALOG_PHOTO_COMPONENT:"add-component-dialog-photo",ADD_COMPONENT_DIALOG_PRODUCT_SET_COMPONENT:"add-component-dialog-product-set",ADD_COMPONENT_DIALOG_SCRUBBABLE_GIF_COMPONENT:"add-component-dialog-scrubbable-gif",ADD_COMPONENT_DIALOG_STORE_LOCATOR_COMPONENT:"add-component-dialog-store-locator",ADD_COMPONENT_DIALOG_TEXT_COMPONENT:"add-component-dialog-text",ADD_COMPONENT_DIALOG_VIDEO_COMPONENT:"add-component-dialog-video",ADS_CANVAS_BUILDER:"ads-canvas-builder",ADS_CANVAS_BUILDER_COMPONENT_SELECTOR:"ads-canvas-builder-component-selector",ADS_CANVAS_BUILDER_CANVAS_EDITOR:"ads-canvas-builder-element-editor",ADS_CANVAS_BUILDER_PREVIEW:"ads-canvas-builder-preview",ADS_CANVAS_BUILDER_TOOLBAR:"ads-canvas-builder-toolbar",ADS_CANVAS_BUILDER_WELCOME_PANE:"ads-canvas-builder-welcome-pane",ADS_CANVAS_INLINE_BUILDER:"ads-canvas-inline-builder",ADS_CANVAS_INLINE_BUILDER_ELEMENTS_EDITOR:"ads-canvas-inline-builder-elements-editor",ADS_CANVAS_INLINE_BUILDER_PREVIEW_BUTTON:"ads-canvas-inline-builder-preview-button",ADS_CANVAS_INLINE_BUILDER_FINISH_BUTTON:"ads-canvas-inline-builder-finish-button",ADS_CANVAS_TYPEAHEAD:"ads-canvas-typeahead",ADS_CANVAS_TYPEAHEAD_CREATE_BUTTON:"ads-canvas-typeahead-create-button",ADS_CANVAS_TYPEAHEAD_PREVIEW_BUTTON:"ads-canvas-typeahead-preview-button",ADS_CANVAS_TYPEAHEAD_INPUT:"ads-canvas-typeahead-input",ADS_CANVAS_SECTION_CHECKBOX:"ads-canvas-section-checkbox",ADS_CANVAS_SECTION_FINISH_FLOW:"ads-canvas-section-finish-flow",ADS_CANVAS_SECTION_FINISH_FLOW_CANVAS_NAME:"ads-canvas-section-finish-flow-canvas-name",ADS_CANVAS_SECTION_FINISH_FLOW_EDIT_BUTTON:"ads-canvas-section-finish-flow-edit-button",ADS_CANVAS_SECTION_FINISH_FLOW_PREVIEW_BUTTON:"ads-canvas-section-finish-flow-preview-button",ADS_CANVAS_SECTION_FINISH_FLOW_REMOVE_BUTTON:"ads-canvas-section-finish-flow-remove-button",ADS_CF_CANVAS_SECTION:"ads-cf-canvas-section",ADS_CF_CANVAS_SECTION_INLINE_TABS:"ads-cf-canvas-section-inline-tabs",ADS_CF_CANVAS_SECTION_CREATE_SECTION:"ads-cf-canvas-section-create-section",ADS_CF_CANVAS_SECTION_CREATE_TAB:"ads-cf-canvas-section-create-tab",ADS_CF_CANVAS_SECTION_EXISTING_SECTION:"ads-cf-canvas-section-existing-section",ADS_CF_CANVAS_SECTION_EXISTING_TAB:"ads-cf-canvas-section-existing-tab",ADS_CF_CANVAS_SECTION_TEMPLATE_SELECTOR:"ads-cf-canvas-section-template-selector",ADS_CF_CANVAS_SECTION_TEMPLATE:"ads-cf-canvas-section-template",ADS_CF_CANVAS_SECTION_USE_ADVANCED_BUILDER:"ads-cf-canvas-section-use-advanced-builder",ADS_PE_CANVAS_SECTION:"ads-pe-canvas-section",ADS_PE_CANVAS_SECTION_RADIO_LIST:"ads-pe-canvas-section-radio-list",ADS_PE_CANVAS_SECTION_TEMPLATE_OPTION:"ads-pe-canvas-section-template-option",ADS_PE_CANVAS_SECTION_ADVANCED_OPTION:"ads-pe-canvas-section-advanced-option",ADS_PE_CANVAS_SECTION_EXISTING_OPTION:"ads-pe-canvas-section-existing-option",ADS_PE_CANVAS_SECTION_TEMPLATE_SECTION:"ads-pe-canvas-section-template-section",ADS_PE_CANVAS_SECTION_TEMPLATE_DROPDOWN:"ads-pe-canvas-section-template-dropdown",ADS_PE_CANVAS_SECTION_TEMPLATE_ITEM:"ads-pe-canvas-section-template-item",ADS_PE_CANVAS_SECTION_USE_TEMPLATE_BUTTON:"ads-pe-canvas-section-use-template-button",ADS_PE_CANVAS_SECTION_ADVANCED_SECTION:"ads-pe-canvas-section-advanced-section",ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUTTON:"ads-pe-canvas-section-use-advanced-button",ADS_PE_CANVAS_SECTION_EXISTING_SECTION:"ads-pe-canvas-section-existing-section",CANVAS_EDITOR_BUTTON_COMPONENT:"canvas-editor-button-component",CANVAS_EDITOR_CAROUSEL_COMPONENT:"canvas-editor-carousel-component",CANVAS_EDITOR_DOCUMENT_NAME_FIELD:"canvas-editor-document-name-field",CANVAS_EDITOR_HEADER_COMPONENT:"canvas-editor-header-component",CANVAS_EDITOR_PHOTO_COMPONENT:"canvas-editor-photo-component",CANVAS_EDITOR_TEXT_COMPONENT:"canvas-editor-text-component",CANVAS_EDITOR_VIDEO_COMPONENT:"canvas-editor-video-component",CANVAS_EDITOR_TITLE_AND_DATE_COMPONENT:"canvas-editor-title-and-date-component",CANVAS_EDITOR_CM_HEADER_COMPONENT:"canvas-editor-cm-header-component",CANVAS_EDITOR_CM_POPULAR_MEDIA_COMPONENT:"canvas-editor-cm-popular-media-component",CANVAS_EDITOR_DD_SVG_COMPONENT:"canvas-editor-dd-svg-component",CAROUSEL_COMPONENT_ADD_NEW_ITEM_BUTTON:"carousel-component-add-new-item-button",CAROUSEL_COMPONENT_ITEM:"carousel-component-item",CAROUSEL_COMPONENT_ITEM_SELECT_BAR:"carousel-component-item-select-bar",DESTINATION_FIELD:"destination-field",DESTINATION_INPUT_FIELD:"destination-input-field",DESTINATION_TYPE_FIELD:"destination-type-field",PAGE_COMPOSER_SHARE_CANVAS_LINK:"page-composer-share-canvas-link",PAGE_COMPOSER_UPLOAD_PHOTO_VIDEO:"page-composer-upload-photo-video",PAGE_PUBLISH_TOOLS_CREATE_BUTTON:"ppt-create-button",PAGE_PUBLISH_TOOLS_VIEW_BUTTON:"ppt-view-button",PHOTO_UPLOADER_PREVIEW:"photo-uploader-preview",PHOTO_UPLOADER_PROGRESS_BAR:"photo-uploader-progress-bar",PHOTO_UPLOADER_UPLOAD_BUTTON:"photo-uploader-upload-button",START_DATE_TIME_PICKER:"start-date-time-picker",END_DATE_TIME_PICKER:"end-date-time-picker",TITLE_TEXT_EDITOR:"title-text-editor",GEN_PREVIEW_CM_POPULAR_MEDIA:"gen-preview-cm-popular-media",CM_POPULAR_MEDIA_INPUT:"cm-popular-media-input",PREVIEW_BUTTON_COMPONENT:"preview-button-component",PREVIEW_CAROUSEL_COMPONENT:"preview-carousel-component",PREVIEW_CAROUSEL_IMAGE:"preview-carousel-image",PREVIEW_HEADER_IMAGE:"preview-header-image",PREVIEW_HEADER_COMPONENT:"preview-header-component",PREVIEW_PHOTO_IMAGE:"preview-photo-image",PREVIEW_PHOTO_COMPONENT:"preview-photo-component",PREVIEW_TEXT_COMPONENT:"preview-text-component",PREVIEW_VIDEO_THUMBNAIL:"preview-video-thumbnail",PREVIEW_VIDEO_COMPONENT:"preview-video-component",PREVIEW_TITLE_AND_DATE_TITLE:"preview-title-and-date-title",PREVIEW_TITLE_AND_DATE_DATE:"preview-title-and-date-date",PREVIEW_TITLE_AND_DATE_MONTH:"preview-title-and-date-month",PREVIEW_TITLE_AND_DATE_COMPONENT:"preview-title-and-date-component",PREVIEW_LOCAL_IMAGE_COMPONENT:"preview-local-image-component",PREVIEW_CM_HEADER_COMPONENT:"preview-cm-header-component",PREVIEW_CM_POPULAR_MEDIA_COMPONENT:"preview-cm-popular-media-component",PUBLISH_DIALOG:"publish-dialog",PUBLISH_DIALOG_CANCEL:"publish-dialog-cancel",PUBLISH_DIALOG_CONFIRM:"publish-dialog-confirm",TOOLBAR_ADD_COMPONENT_BUTTON:"toolbar-add-component-button",TOOLBAR_LOADING_INDICATOR:"toolbar-loading-indicator",TOOLBAR_PUBLISH_BUTTON:"toolbar-publish-button",TOOLBAR_SAVE_BUTTON:"toolbar-save-button",VIDEO_COMPONENT_THUMBNAIL:"video-component-thumbnail",VIDEO_COMPONENT_PROGRESS_BAR:"video-component-progress-bar",VIDEO_COMPONENT_UPLOAD_BUTTON:"video-component-upload-button",WELCOME_PANE_OPEN_BLANK_CANVAS_BUTTON:"welcome-pane-open-blank-canvas-button",TEXT_EDITOR:"text-component-editor",CHECKBOX:"checkbox",DESKTOP_PREVIEW_LINK:"desktop-preview-link"})}),null);
__d('AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react',['fbt','AdsCanvasWebdriverIDs','React','SUIButton.react'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){return c('React').createElement(c('SUIButton.react'),{'data-testid':c('AdsCanvasWebdriverIDs').ADS_PE_CANVAS_SECTION_USE_ADVANCED_BUTTON,label:h._("Create"),use:'confirm',onClick:j.onOpenAdvancedBuilder})}f.exports=i}),null);
__d('AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react',['ix','cx','fbt','AdsCanvasWebdriverIDs','AdsPopoverLink.react','Image.react','React','SUILink.react','SUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';function k(l){return c('React').createElement(c('SUILink.react'),{className:"_5_uy",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CF_CANVAS_SECTION_USE_ADVANCED_BUILDER,showUnderline:'never',onClick:l.onOpenAdvancedBuilder},c('React').createElement(c('Image.react'),{className:"_3-8_",src:h("116781")}),c('React').createElement(c('SUIText.react'),{shade:'link',weight:'bold'},c('React').createElement('span',{className:"_3mka"},j._("Use the advanced Canvas builder"))),c('React').createElement(c('AdsPopoverLink.react'),{popover:j._("With the Canvas builder, you have more control over the design and can create your own custom layout."),width:320}))}f.exports=k}),null);
__d('AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react',['ix','fbt','AdsCanvasWebdriverIDs','Image.react','React','SUIButton.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k){return c('React').createElement(c('SUIButton.react'),{'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_SECTION_FINISH_FLOW_PREVIEW_BUTTON,icon:c('React').createElement(c('Image.react'),{src:h("122868")}),label:i._("Preview"),use:'default',onClick:k.onOpenAdvancedBuilder})}f.exports=j}),null);
__d('AdsCanvasButtons.react',['ix','cx','fbt','AdsCanvasAdvancedRendering','AdsCanvasEditorFunnelLoggingConstants','AdsCanvasWebdriverIDs','AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react','AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react','AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react','FunnelLogger','Image.react','React','XUIButton.react','XUIButtonGroup.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AdsCanvasButtons1=function(event){event.stopPropagation();this.props.onClickCreate&&this.props.onClickCreate();this.props.onClick('newCanvasDialog');c('FunnelLogger').addFunnelTag(m,this.props.source)}.bind(this),this.$AdsCanvasButtons2=function(event){event.stopPropagation();this.props.onClickPreview&&this.props.onClickPreview();if(this.props.canvas){this.props.onClick(this.props.canvas.id);c('FunnelLogger').addFunnelTag(m,this.props.source)}}.bind(this),p}n.prototype.render=function(){switch(this.props.canvasRenderingMode){case c('AdsCanvasAdvancedRendering').LINK:return c('React').createElement(c('AdsUEditorAdgroupCanvasInlineAdvanceBuilderLink.react'),{onOpenAdvancedBuilder:this.$AdsCanvasButtons1});case c('AdsCanvasAdvancedRendering').CREATE:return c('React').createElement(c('AdsUEditorAdgroupCanvasInlineAdvanceBuilderCreateButton.react'),{onOpenAdvancedBuilder:this.$AdsCanvasButtons1});case c('AdsCanvasAdvancedRendering').DROPDOWN:return c('React').createElement('div',null);case c('AdsCanvasAdvancedRendering').PREVIEW:return c('React').createElement(c('AdsUEditorAdgroupCanvasInlineAdvanceBuilderPreviewButton.react'),{onOpenAdvancedBuilder:this.$AdsCanvasButtons2});default:break;}return c('React').createElement(c('XUIButtonGroup.react'),{className:"_44jh"},this.$AdsCanvasButtons3(),this.$AdsCanvasButtons4())};n.prototype.$AdsCanvasButtons4=function(){return c('React').createElement(c('XUIButton.react'),{className:"_44jg",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_TYPEAHEAD_CREATE_BUTTON,disabled:this.props.disabled,image:c('React').createElement(c('Image.react'),{src:h("123418")}),label:j._("Plus"),labelIsHidden:true,onClick:this.$AdsCanvasButtons1})};n.prototype.$AdsCanvasButtons3=function(){var o=this.props.canvas;if(!o)return null;return c('React').createElement(c('XUIButton.react'),{className:"_44jg",'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_TYPEAHEAD_PREVIEW_BUTTON,disabled:this.props.disabled,image:c('React').createElement(c('Image.react'),{src:h("122868")}),label:j._("Show"),labelIsHidden:true,onClick:this.$AdsCanvasButtons2})};f.exports=n}),null);
__d('AdsCanvasCloseUnsavedCanvasDialog.react',['cx','fbt','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:k.showDialog,width:450},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Unsaved Changes")),c('React').createElement(c('XUIDialogBody.react'),null,i._("Do you want to discard unsaved changes?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),onClick:k.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4jy1",label:i._("Confirm"),onClick:k.onConfirm})))}f.exports=j}),null);
__d('AdsCanvasResetCanvasDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasResetCanvas',actionType:'CANVAS.RESET_CANVAS'};f.exports=h}),null);
__d('AdsCanvasResetCanvasDataAction',['AdsCanvasResetCanvasDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasResetCanvasDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasShowCloseUnsavedCanvasDialogDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasShowCloseUnsavedCanvasDialog',actionType:'CANVAS.SHOW_CLOSE_UNSAVED_CANVAS_DIALOG'};f.exports=h}),null);
__d('AdsCanvasShowCloseUnsavedCanvasDialogDataAction',['AdsCanvasShowCloseUnsavedCanvasDialogDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasShowCloseUnsavedCanvasDialogDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasCloseUnsavedCanvasDialogContainer.react',['AdsCanvasCloseUnsavedCanvasDialog.react','AdsCanvasResetCanvasDataAction','AdsCanvasShowCloseUnsavedCanvasDialogDataAction','FluxContainer','immutable','React','RichMediaEditorStore','adsCanvasCloseUnsavedCanvasDialogSelector','adsGKCheck'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsCanvasCloseUnsavedCanvasDialogContainer1=function(){c('AdsCanvasShowCloseUnsavedCanvasDialogDataAction').dispatch({showDialog:false});this.props.onCancel()}.bind(this),this.$AdsCanvasCloseUnsavedCanvasDialogContainer2=function(){if(!this.state.isReady)return;c('AdsCanvasResetCanvasDataAction').dispatch({canvasID:this.state.canvasID,elementIDs:this.state.elementIDs});this.props.onConfirm()}.bind(this),m}k.getStores=function(){return [].concat(c('adsCanvasCloseUnsavedCanvasDialogSelector').getStores(),[c('RichMediaEditorStore')])};k.calculateState=function(){if(c('adsGKCheck')('ads_canvas_editor_store_refactoring'))return c('adsCanvasCloseUnsavedCanvasDialogSelector')();return {canvasID:'NOT_AN_ID',elementIDs:j([]),isReady:true,showDialog:c('RichMediaEditorStore').getShowCloseUnsavedCanvasDialog()}};k.prototype.render=function(){if(!this.state.isReady)return null;return c('React').createElement(c('AdsCanvasCloseUnsavedCanvasDialog.react'),{showDialog:this.state.showDialog,onCancel:this.$AdsCanvasCloseUnsavedCanvasDialogContainer1,onConfirm:this.$AdsCanvasCloseUnsavedCanvasDialogContainer2})};f.exports=c('FluxContainer').create(k,{withProps:true})}),null);
__d('AdsCanvasComposerDialogStore',['AdsActionTypes','AdsDispatcher','FluxReduceStore','immutable','RichMediaEditorActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('immutable').Map,m=c('immutable').Record;h=babelHelpers.inherits(n,m({dialogShown:l(),dialogCanvases:l(),selectedCanvas:null,unpublishedCanvas:null}));i=h&&h.prototype;function n(){h.apply(this,arguments)}j=babelHelpers.inherits(o,c('FluxReduceStore'));k=j&&j.prototype;o.prototype.getInitialState=function(){return new n()};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case c('AdsActionTypes').CANVAS.DOC_ID.LOADED:return p.set('dialogCanvases',p.get('dialogCanvases').set(r.canvasID,r.canvas));case c('RichMediaEditorActionTypes').SET_UNPUBLISHED_CANVAS:return p.set('unpublishedCanvas',r.unpublishedCanvas);case c('RichMediaEditorActionTypes').RESET_UNPUBLISHED_CANVAS:return p.set('unpublishedCanvas',null);case c('RichMediaEditorActionTypes').SET_DIALOG_SHOWN:return p.set('dialogShown',p.get('dialogShown').set(r.dialogID,r.dialogShown));case c('RichMediaEditorActionTypes').SET_DIALOG_CANVAS:return p.set('dialogCanvases',p.get('dialogCanvases').set(r.dialogID,r.canvas));case c('RichMediaEditorActionTypes').SET_SELECTED_CANVAS:return p.set('selectedCanvas',r.selectedCanvas);default:return p;}};o.prototype.getDialogShown=function(p){return !!this.getState().get('dialogShown').get(p)};o.prototype.getDialogCanvas=function(p){return this.getState().get('dialogCanvases').get(p)};o.prototype.getSelectedCanvas=function(){return this.getState().get('selectedCanvas')};o.prototype.getUnpublishedCanvas=function(){return this.getState().get('unpublishedCanvas')};function o(){j.apply(this,arguments)}f.exports=new o(c('AdsDispatcher'))}),null);
__d('AdsCanvasEditorFunnelLogging',['AdsCanvasEditorFeature','AdsCanvasEditorFunnelLoggingConstants','AdsCanvasSV','CurrentUser','FunnelLogger','RichMediaEditorDataDispatcher','RichMediaEditorStore','Set'],(function a(b,c,d,e,f,g){'use strict';var h=false,i={startFunnel:function j(){if(h)return;h=true;c('FunnelLogger').startFunnel(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME);c('FunnelLogger').setFunnelTimeout(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TIMEOUT);if(c('CurrentUser').isEmployee())c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TAGS.IS_EMPLOYEE);c('RichMediaEditorDataDispatcher').getCanvasPageData(c('RichMediaEditorStore').getCanvasPageId(),null,c('FunnelLogger'))},logGKExposures:function j(k){for(var l in c('AdsCanvasEditorFeature'))if(Object.prototype.hasOwnProperty.call(c('AdsCanvasEditorFeature'),l)){var m=c('AdsCanvasEditorFeature')[l];if(m&&c('AdsCanvasSV').ads_canvas_user_gks_to_log.indexOf(l)!=-1)c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,l);}if(k)k.map(function(n){c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,n)});},addFunnelTag:function j(k){c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,k)},endFunnel:function j(){if(!h)return;h=false;c('FunnelLogger').addFunnelTag(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME,c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_TAGS.EDITOR_EXIT);c('FunnelLogger').endFunnel(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME);c('RichMediaEditorStore').setIsNotNewUser()},parseAndMergeFunnelTags:function j(){if(!c('AdsCanvasEditorFeature').canvas_editor_logging_tagset)return [];var k=new (c('Set'))(),l=c('RichMediaEditorStore').getCanvasTags();l.forEach(function(p){k.add(p)});var m=c('FunnelLogger').getFunnelInstance(c('AdsCanvasEditorFunnelLoggingConstants').FUNNEL_LOGGING_NAME),n=m?m.getTags():null;if(!n)return Array.from(k);for(var o in n)k.add(o);return Array.from(k)}};f.exports=i}),null);
__d('AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasLandingPageReplacementCheckboxSetCheckbox',actionType:'ADS_CANCAS_LANDING_PAGE_REPLACEMENT_CHECKBOX.SET_CHECKBOX'};f.exports=h}),null);
__d('AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataAction',['AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasLandingPageReplacementCheckboxShowFinishingNux',actionType:'ADS_CANCAS_LANDING_PAGE_REPLACEMENT_CHECKBOX.SHOW_FINISHING_NUX'};f.exports=h}),null);
__d('AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataAction',['AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasLandingPageReplacementCheckboxActions',['AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataAction','AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={setCheckbox:function i(j,k){c('AdsCanvasLandingPageReplacementCheckboxSetCheckboxDataAction').dispatch({adgroupIDs:j,checkStatus:k})},showFinishingNux:function i(j){c('AdsCanvasLandingPageReplacementCheckboxShowFinishingNuxDataAction').dispatch({showNux:j})}};f.exports=h}),null);
__d('AdsCanvasLandingPageReplacementCheckboxStore',['AdsDataActionTypes','AdsDispatcher','AdsEmptyValue','AdsMixedValue','AdsUniformValue','FluxStore','Map','SimpleNUXMessage','SimpleNUXMessageTypes'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$AdsCanvasLandingPageReplacementCheckboxStore1=new (c('Map'))();this.$AdsCanvasLandingPageReplacementCheckboxStore2=false}j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsDataActionTypes').canvasLandingPageReplacementCheckboxSetCheckbox:for(var m=0;m<l.adgroupIDs.length;m++)this.$AdsCanvasLandingPageReplacementCheckboxStore1.set(l.adgroupIDs[m],l.checkStatus);this.__emitChange();break;case c('AdsDataActionTypes').canvasLandingPageReplacementCheckboxShowFinishingNux:var n=c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').AD_CANVAS_WEB_PARSING_PREVIEW_BUTTON_NUX);if(n&&l.showNux)return;this.$AdsCanvasLandingPageReplacementCheckboxStore2=l.showNux;this.__emitChange();break;}};j.prototype.$AdsCanvasLandingPageReplacementCheckboxStore3=function(k){var l=this.$AdsCanvasLandingPageReplacementCheckboxStore1.get(k);return l===undefined?false:l};j.prototype.getShowFinishingNux=function(){return this.$AdsCanvasLandingPageReplacementCheckboxStore2};j.prototype.getCheckValue=function(k){if(k.length===0)return c('AdsEmptyValue').create([]);var l=false,m=[this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[0])];for(var n=0;n<k.length-1;n++){if(this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[n])!==this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[n+1]))l=true;m.push(this.$AdsCanvasLandingPageReplacementCheckboxStore3(k[n+1]))}return l?c('AdsMixedValue').create(m):c('AdsUniformValue').create(m)};f.exports=new j(c('AdsDispatcher'))}),null);
__d('AdsUnpublishedCanvasCloseConfirmDialog.react',['cx','fbt','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsUnpublishedCanvasCloseConfirmDialog1=function(){if(this.props.onCloseReset)this.props.onCloseReset();this.props.onConfirm()}.bind(this),o}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape'),LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:450},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Unpublished Canvas")),c('React').createElement(c('XUIDialogBody.react'),null,i._("You won't be able to use this Canvas in an ad until you publish it. You can still access a saved draft in Pages -> Publishing Tools -> Canvas. Do you want to close this draft without publishing it?")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:"_4jy1",label:i._("Confirm"),onClick:this.$AdsUnpublishedCanvasCloseConfirmDialog1})))};m.propTypes={onCancel:l.func.isRequired,onCloseReset:l.func,onConfirm:l.func.isRequired};f.exports=m}),null);
__d("CanvasCreationEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_ELEMENT:"editor.add_element",ADD_ELEMENT_TOP_TOOLBAR_BUTTON:"editor.add_element_top_toolbar",ADD_ELEMENT_BOTTOM_TOOLBAR_BUTTON:"editor.add_element_bottom_toolbar",BACK_TO_MENU:"editor.back_to_menu",CREATE:"create",CREATE_FAILURE:"editor.create_failure",CREATE_SUCCESS:"editor.create_success",CANVAS_INLINE_BUILDER_NUX_TOUR_COMPLETE:"canvas_inline_builder_nux_tour_complete",CANVAS_INLINE_BUILDER_NUX_TOUR_XOUT:"canvas_inline_builder_nux_tour_xout",DUPLICATE:"duplicate",DUPLICATE_FAILURE:"editor.duplicate_failure",DUPLICATE_SUCCESS:"editor.duplicate_success",EDITOR_EXIT:"editor.editor_exit",EDITOR_LINE_HEIGHT_TOUCH:"editor.editor_line_height_touch",EDITOR_PADDING_TOUCH:"editor.editor_padding_touch",EDITOR_PHOTO_ASPECT_RATIO_WARNING:"editor.editor_photo_aspect_ratio_warning",EDITOR_PHOTO_UPLOAD_TIMEOUT:"editor.editor_photo_upload_timeout",EXIT_INLINE_MODAL:"exit_inline_modal",GETTING_STARTED_GUIDE:"welcome_screen.getting_started_guide",INIT_DUPLICATE:"editor.init_duplicate",INIT_PUBLISH:"editor.init_publish",INIT_SAVE:"editor.init_save",LOAD:"load",LOAD_FAILURE:"editor.load_failure",LOAD_SUCCESS:"editor.load_success",LOAD_TEMPLATE:"editor.load_template",PHOTO_UPLOAD_ERROR:"editor.photo_upload_error",PHOTO_UPLOAD_SUCCESS:"editor.photo_upload_success",PHOTO_LIBRARY_UPLOADER_OPEN:"editor.photo_library_uploader_open",PHOTO_LIBRARY_UPLOADER_IMAGE_UPLOAD:"editor.photo_library_uploader_image_upload",PHOTO_LIBRARY_UPLOADER_CANCEL:"editor.photo_library_uploader_cancel",PHOTO_MANUAL_UPLOADER_IMAGE_UPLOAD:"editor.photo_manual_uploader_image_upload",PHOTO_MANUAL_UPLOADER_OPEN:"editor.photo_manual_uploader_open",PREVIEW_FAILURE:"editor.preview_failure",PREVIEW_SUCCESS:"editor.preview_success",PUBLISH:"publish",PUBLISH_FAILURE:"editor.publish_failure",REORDER_COMPONENT:"editor.reorder_component",TEMPLATE_FETCH_FAILED:"editor.template_fetch_failed",TEMPLATE_DOWNLOADED:"editor.template_downloaded",TEMPLATE_SELECTED:"editor.template_selected",TOOLBAR_PUBLISH_CLICKED:"editor.toolbar_publish_clicked",VIDEO_ENCODE_SUCCESS:"editor.video_encode_success",VIDEO_ENCODE_ERROR:"editor.video_encode_error",VIDEO_POST_SUCCESS:"editor.video_post_success",VIDEO_POST_ERROR:"editor.video_post_error",VIDEO_UPLOAD_SUCCESS:"editor.video_upload_success",VIDEO_UPLOAD_ERROR:"editor.video_upload_error",VIDEO_LIBRARY_UPLOADER_CANCEL:"editor.video_library_uploader_cancel",VIDEO_LIBRARY_UPLOADER_OPEN:"editor.video_library_uploader_open",VIDEO_LIBRARY_UPLOADER_VIDEO_CLICK:"editor.video_library_uploader_video_click",VIDEO_LIBRARY_UPLOADER_VIDEO_IMPORT:"editor.video_library_uploader_video_import",VIDEO_LIBRARY_UPLOADER_VIDEO_SELECT_EXISTING:"editor.video_library_uploader_video_select_existing",VIDEO_LIBRARY_UPLOADER_VIDEO_UPLOAD:"editor.video_library_uploader_video_upload",VIDEO_MANUAL_UPLOADER_OPEN:"editor.video_manual_uploader_open",VIDEO_MANUAL_UPLOADER_VIDEO_UPLOAD:"editor.video_manual_uploader_video_upload",SAVE:"save",SAVE_FROM_INLINE_BUILDER:"save_from_inline_builder",SAVE_INCOMPLETE_ELEMENTS:"save_incomplete_elements",SAVE_FAILURE:"editor.save_failure",SAVE_SUCCESS:"editor.save_success",SHARE_PREVIEW:"editor.share_preview",SHOW_INLINE_MODAL:"show_inline_modal",SWIPE_TO_OPEN_TOGGLED:"editor.swipe_to_open_toggled",VALIDATION_ERROR:"editor.validation_error",WELCOMESCREEN_ADD_COMPONENT:"welcome_screen.addcomponents",WELCOMESCREEN_BLANKCANVAS:"welcome_screen.blankcanvas",WELCOMESCREEN_EXAMPLES:"welcome_screen.examples",WELCOMESCREEN_TEMPLATE:"welcome_screen.template",WELCOMESCREEN_TIPS:"welcome_screen.tips",WELCOMESCREEN_TOUR:"welcome_screen.tour",WEBPARSING_SET_URL:"webparsing.set_url",WEBPARSING_LOADING_MEDIA:"webparsing.loading_media",WEBPARSING_LOADING_SUCCESS:"webparsing.loading_success",WEBPARSING_LOADING_FAIL:"webparsing.loading_fail",WEBPARSING_TOGGLE_PANNEL:"webparsing.toggle_pannel",WEBPARSING_IMAGE_SELECT:"webparsing.image_select",WEBPARSING_CONTINUE_BUILDER:"webparsing.continue_to_builder"})}),null);
__d('CanvasCreationWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:CanvasCreationWaterfallLoggerConfig',this.$CanvasCreationWaterfallTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:CanvasCreationWaterfallLoggerConfig',this.$CanvasCreationWaterfallTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$CanvasCreationWaterfallTypedLogger1={};return this};h.prototype.updateData=function(j){this.$CanvasCreationWaterfallTypedLogger1=babelHelpers['extends']({},this.$CanvasCreationWaterfallTypedLogger1,j);return this};h.prototype.setAdAccountID=function(j){this.$CanvasCreationWaterfallTypedLogger1.ad_account_id=j;return this};h.prototype.setCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_id=j;return this};h.prototype.setCanvasLoadType=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_load_type=j;return this};h.prototype.setCanvasName=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_name=j;return this};h.prototype.setCanvasTags=function(j){this.$CanvasCreationWaterfallTypedLogger1.canvas_tags=c('GeneratedLoggerUtils').serializeVector(j);return this};h.prototype.setDuplicateParentCanvasID=function(j){this.$CanvasCreationWaterfallTypedLogger1.duplicate_parent_canvas_id=j;return this};h.prototype.setEditorLineHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_line_height=j;return this};h.prototype.setEditorPaddingBottom=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_bottom=j;return this};h.prototype.setEditorPaddingTop=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_padding_top=j;return this};h.prototype.setEditorPhotoHeight=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_height=j;return this};h.prototype.setEditorPhotoWidth=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_photo_width=j;return this};h.prototype.setEditorURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.editor_url=j;return this};h.prototype.setElementPayload=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_payload=j;return this};h.prototype.setElementType=function(j){this.$CanvasCreationWaterfallTypedLogger1.element_type=j;return this};h.prototype.setErrorCode=function(j){this.$CanvasCreationWaterfallTypedLogger1.error_code=j;return this};h.prototype.setErrorMessage=function(j){this.$CanvasCreationWaterfallTypedLogger1.error_message=j;return this};h.prototype.setEventDetails=function(j){this.$CanvasCreationWaterfallTypedLogger1.event_details=j;return this};h.prototype.setEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.event_name=j;return this};h.prototype.setFbtraceID=function(j){this.$CanvasCreationWaterfallTypedLogger1.fbtrace_id=j;return this};h.prototype.setHelpPageEventName=function(j){this.$CanvasCreationWaterfallTypedLogger1.help_page_event_name=j;return this};h.prototype.setIncompleteElements=function(j){this.$CanvasCreationWaterfallTypedLogger1.incomplete_elements=j;return this};h.prototype.setIsNewUser=function(j){this.$CanvasCreationWaterfallTypedLogger1.is_new_user=j;return this};h.prototype.setNuxTourStep=function(j){this.$CanvasCreationWaterfallTypedLogger1.nux_tour_step=j;return this};h.prototype.setPageCanvasCount=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_canvas_count=j;return this};h.prototype.setPageID=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_id=j;return this};h.prototype.setPageName=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_name=j;return this};h.prototype.setPagePublishedCanvasCount=function(j){this.$CanvasCreationWaterfallTypedLogger1.page_published_canvas_count=j;return this};h.prototype.setPropertyList=function(j){this.$CanvasCreationWaterfallTypedLogger1.property_list=c('GeneratedLoggerUtils').serializeVector(j);return this};h.prototype.setPublishedURL=function(j){this.$CanvasCreationWaterfallTypedLogger1.published_url=j;return this};h.prototype.setReorderComponentDistance=function(j){this.$CanvasCreationWaterfallTypedLogger1.reorder_component_distance=j;return this};h.prototype.setSource=function(j){this.$CanvasCreationWaterfallTypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$CanvasCreationWaterfallTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$CanvasCreationWaterfallTypedLogger1.video_id=j;return this};h.prototype.setViewerID=function(j){this.$CanvasCreationWaterfallTypedLogger1.viewer_id=j;return this};var i={ad_account_id:true,canvas_id:true,canvas_load_type:true,canvas_name:true,canvas_tags:true,duplicate_parent_canvas_id:true,editor_line_height:true,editor_padding_bottom:true,editor_padding_top:true,editor_photo_height:true,editor_photo_width:true,editor_url:true,element_payload:true,element_type:true,error_code:true,error_message:true,event_details:true,event_name:true,fbtrace_id:true,help_page_event_name:true,incomplete_elements:true,is_new_user:true,nux_tour_step:true,page_canvas_count:true,page_id:true,page_name:true,page_published_canvas_count:true,property_list:true,published_url:true,reorder_component_distance:true,source:true,vc:true,video_id:true,viewer_id:true};f.exports=h}),null);
__d('RichMediaLoggingStoreUtils',['AdsAccountStore','AdsCanvasDefaultNewDocumentID','RichMediaEditorDataDispatcher','RichMediaEditorStore'],(function a(b,c,d,e,f,g){'use strict';var h={logRichMediaCreationEventWithLogger:function i(j,k){var l=c('RichMediaEditorStore').getCanvasPropertyList(),m=l?Array.from(l):null;if(!k)k=c('RichMediaEditorStore').getDocumentID()||null;if(k===c('AdsCanvasDefaultNewDocumentID'))k=null;j.setAdAccountID(parseInt(c('AdsAccountStore').getSelectedAccountID(),10)).setCanvasID(k).setCanvasName(c('RichMediaEditorStore').getDocumentName()).setIsNewUser(c('RichMediaEditorStore').isNewUser()).setPageID(c('RichMediaEditorStore').getCanvasPageId()).setPropertyList(m).setSource(c('RichMediaEditorStore').getCanvasSource());c('RichMediaEditorDataDispatcher').getCanvasPageData(c('RichMediaEditorStore').getCanvasPageId(),j)}};f.exports=h}),null);
__d('AdsCanvasButtonsContainer.react',['cx','AdsAccountStore','AdsCanvasAssetParsingEducationConstants','AdsCanvasButtons.react','AdsCanvasCloseUnsavedCanvasDialogContainer.react','AdsCanvasComposerDialogStore','AdsCanvasEditorEnums','AdsCanvasEditorFunnelLogging','AdsCanvasInlineBuilderActions','AdsCanvasLandingPageReplacementCheckboxActions','AdsCanvasLandingPageReplacementCheckboxStore','AdsCanvasShowCloseUnsavedCanvasDialogDataAction','AdsFluxContainer','AdsUnpublishedCanvasCloseConfirmDialog.react','BootloadOnRender.react','CanvasCreationEvent','CanvasCreationWaterfallTypedLogger','DOM','JSResource','LazyComponent.react','React','ReactDOM','RichMediaEditorActions','RichMediaEditorStore','RichMediaLoggingStoreUtils','SimpleNUXMessage','SimpleNUXMessageTypes','XUIAmbientNUX.react','XUIText.react','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCanvasAssetParsingEducationConstants').ASSET_PARSING_FINISHED_ADS_BLUE_TIP,l=c('AdsCanvasEditorEnums').SaveStateEnum;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsCanvasButtonsContainer6=function(){c('AdsCanvasInlineBuilderActions').inlineAdvancedBuilderBlankOpen();this.props.onClickCreate?this.props.onClickCreate():c('emptyFunction')}.bind(this),this.$AdsCanvasButtonsContainer7=function(s,t,u,v){if(s&&s.is_published||t===l.SAVED&&!this.props.mustPublish){return true}else if(t===l.SAVED){c('ReactDOM').render(c('React').createElement(c('AdsUnpublishedCanvasCloseConfirmDialog.react'),{onCancel:c('emptyFunction'),onCloseReset:u,onConfirm:this.$AdsCanvasButtonsContainer8}),c('DOM').create('div'));return false}else{c('ReactDOM').render(c('React').createElement(c('AdsCanvasCloseUnsavedCanvasDialogContainer.react'),{onCancel:c('emptyFunction'),onConfirm:this.$AdsCanvasButtonsContainer8}),c('DOM').create('div'));c('AdsCanvasShowCloseUnsavedCanvasDialogDataAction').dispatch({showDialog:true});return false}}.bind(this),this.$AdsCanvasButtonsContainer5=function(s){c('AdsCanvasEditorFunnelLogging').startFunnel();c('AdsCanvasEditorFunnelLogging').logGKExposures(this.props.extraGKsToLog);c('RichMediaEditorActions').setDialogShown(s,true)}.bind(this),this.$AdsCanvasButtonsContainer8=function(){c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT));c('RichMediaEditorActions').setDialogShown(this.state.dialogID,false)}.bind(this),this.$AdsCanvasButtonsContainer10=function(s,t){c('RichMediaEditorActions').setDialogShown(s,t);if(t){c('AdsCanvasEditorFunnelLogging').startFunnel();c('AdsCanvasEditorFunnelLogging').logGKExposures(this.props.extraGKsToLog)}else{c('AdsCanvasEditorFunnelLogging').endFunnel();c('RichMediaLoggingStoreUtils').logRichMediaCreationEventWithLogger(new (c('CanvasCreationWaterfallTypedLogger'))().setEventName(c('CanvasCreationEvent').EDITOR_EXIT))}}.bind(this),o}m.getStores=function(){return [c('AdsAccountStore'),c('AdsCanvasComposerDialogStore'),c('AdsCanvasLandingPageReplacementCheckboxStore'),c('RichMediaEditorStore')]};m.calculateState=function(n,o){var p=c('AdsCanvasComposerDialogStore').getDialogShown('newCanvasDialog'),q=o.canvasID?c('AdsCanvasComposerDialogStore').getDialogShown(o.canvasID):false,r=q||p,s=o.canvasID&&q?o.canvasID:'newCanvasDialog',t=s!=='newCanvasDialog'?o.canvas:null,u=c('AdsAccountStore').getSelectedAccountID();return {adAccountID:u,canvas:t,dialogID:s,dialogShown:r,editState:c('RichMediaEditorStore').getDocumentEditState(),showFinishingNux:c('AdsCanvasLandingPageReplacementCheckboxStore').getShowFinishingNux()}};m.prototype.render=function(){return c('React').createElement('div',null,this.$AdsCanvasButtonsContainer1(),this.$AdsCanvasButtonsContainer2(),this.$AdsCanvasButtonsContainer3())};m.prototype.$AdsCanvasButtonsContainer1=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.previewButton}.bind(this),key:'ambientNUX',position:'above',shown:this.state.showFinishingNux,onCloseButtonClick:this.$AdsCanvasButtonsContainer4},c('React').createElement(c('XUIText.react'),{className:"_4jal _27_o",weight:'bold'},k.title),c('React').createElement(c('XUIText.react'),{className:"_4jal _4jam"},k.content))};m.prototype.$AdsCanvasButtonsContainer2=function(){return c('React').createElement(c('AdsCanvasButtons.react'),{adAccountID:this.state.adAccountID,canvas:this.props.canvas,canvasRenderingMode:this.props.canvasRenderingMode,disabled:!!this.props.disabled,pageID:this.props.pageID,ref:'previewButton',source:this.props.source,onClick:this.$AdsCanvasButtonsContainer5,onClickCreate:this.$AdsCanvasButtonsContainer6,onClickPreview:this.props.onClickPreview||c('emptyFunction')})};m.prototype.$AdsCanvasButtonsContainer3=function(){return c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvas:this.state.canvas,canvasCapabilityConfig:this.props.canvasCapabilityConfig,createPostEnabled:false,dialogID:this.state.dialogID,dialogShown:this.state.dialogShown,editState:this.state.editState,extraGKsToLog:this.props.extraGKsToLog,mustPublish:this.props.mustPublish,pageID:this.props.pageID,source:this.props.source,onBeforeHideDialog:this.$AdsCanvasButtonsContainer7,onCloseReset:this.props.onCloseReset,onConfirmClose:this.$AdsCanvasButtonsContainer8,onDuplicateReload:this.props.onDuplicateReload,onReloadCanvas:this.$AdsCanvasButtonsContainer9,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess,onToggle:this.$AdsCanvasButtonsContainer10}),loader:c('JSResource')('AdsCanvasComposerDialog.react').__setRef('AdsCanvasButtonsContainer.react'),placeholder:c('React').createElement('span',null)})};m.prototype.$AdsCanvasButtonsContainer4=function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').AD_CANVAS_WEB_PARSING_PREVIEW_BUTTON_NUX);c('AdsCanvasLandingPageReplacementCheckboxActions').showFinishingNux(false)};m.prototype.$AdsCanvasButtonsContainer9=function(n,o){c('RichMediaEditorActions').setDialogCanvas(o.id,o);if(n!==o.id){c('RichMediaEditorActions').setDialogShown(n,false);c('RichMediaEditorActions').setDialogShown(o.id,true)}};f.exports=c('AdsFluxContainer').create(m,{withProps:true})}),null);
__d('AdsCanvasLabel.react',['fbt','AdsCanvasConstants','AdsLabeledField.react','Link.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.render=function(){var l=this.props.hideLearnMore?'':c('React').createElement(c('Link.react'),{href:c('AdsCanvasConstants').CANVAS_LEARN_MORE_LINK,target:'_blank',onClick:this.props.onClickLearnMore||c('emptyFunction')},h._("Learn more"),'.'),m=h._("Canvas is a full-screen experience that opens in mobile when people click your ad. {=Learn more}{supplement}",[h.param('=Learn more',l),h.param('supplement',this.props.supplement?this.props.supplement:'')]);return c('React').createElement(c('AdsLabeledField.react'),{helpText:m,label:h._("Canvas")})};f.exports=k}),null);
__d('AdsCanvasCollectionsUtils',['AdImageSpecs','AdsAPIAdgroupRecordUtils','AdsAPIObjectives','AdsCanvasCollectionsConstants','AdsCanvasCollectionsThumbnail','AdsImageLegacy','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i={convertThumbnailsFromAPI:function j(k){if(!k.collection_thumbnails)return c('AdsCanvasCollectionsConstants').EMPTY_COLLECTION_THUMBNAILS;return h(k.collection_thumbnails.map(function(l){var m=void 0;if(l.photo){var n,o=l.photo,p=o.height,q=o.width,r=0,s=0;if(p>q){s=(p-q)/2;p=q}else{r=(q-p)/2;q=p}m=(n={},n[c('AdImageSpecs').CANVAS_COLLECTIONS.cropKey]=[[r,s],[r+q,s+p]],n)}return new (c('AdsCanvasCollectionsThumbnail'))({element_child_index:l.element_child_index,element_crops:m?m:{},element_id:l.element_id})}))},convertToLegacyImage:function j(k,l){return new (c('AdsImageLegacy'))({crops:l,height:k.height,id:k.id,url:k.src,width:k.width})},isCanvasCollectionEligible:function j(k){if(!k.elements)return false;var l=0;k.elements.map(function(m){if(m.element_type==='PHOTO'&&m.element&&m.element.photo){l++}else if(m.element_type==='SLIDESHOW'&&m.element&&m.element.child_elements)m.element.child_elements.map(function(n){if(n.element&&n.element.photo)l++;});});return l>=4},isCanvasCollectionAd:function j(k,l){var m=c('AdsAPIAdgroupRecordUtils').getCollectionThumbnails(k,l);return !!m},isCanvasCollectionOnlyObjective:function j(k){return k===c('AdsAPIObjectives').BRAND_AWARENESS||k===c('AdsAPIObjectives').REACH||k===c('AdsAPIObjectives').POST_ENGAGEMENT}};f.exports=i}),null);
__d('AdsCanvasSearchSourceFilter',['AdsCanvasCollectionsUtils'],(function a(b,c,d,e,f,g){'use strict';var h={searchFilterDefaults:{onlyPublished:false,onlyCollectionsEligible:false,hideShoppingTemplateCanvases:false},filter:function i(j,k){if(!j.name)return false;return Object.keys(k).every(function(l){if(!k[l])return true;switch(l){case 'onlyPublished':return this._filterPublished(j);case 'onlyCollectionsEligible':return this._filterCollectionsEligible(j);case 'hideShoppingTemplateCanvases':return !this._filterShoppingTemplate(j);default:return true;}}.bind(this))},_filterPublished:function i(j){return j.is_published},_filterCollectionsEligible:function i(j){return c('AdsCanvasCollectionsUtils').isCanvasCollectionEligible(j)},_filterShoppingTemplate:function i(j){return !!j.source_template&&!!j.elements&&j.elements.some(function(k){return k.element_type==='ELEMENT_GROUP'})}};f.exports=h}),null);
__d('AdsCanvasTypeaheadActionTypes',['ImmutableObject','keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('ImmutableObject'))(c('keyMirrorRecursive')({DOC_NAME:{LOADED:'',LOAD_ERROR:''},REFRESH_TYPEAHEAD:true},'AdsCanvasTypeahead'));f.exports=h}),null);
__d('AdsCanvasDocIdLoadErrorDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocIdLoadError',actionType:'CANVAS.DOC_ID.LOAD_ERROR'};f.exports=h}),null);
__d('AdsCanvasDocIdLoadErrorDataAction',['AdsCanvasDocIdLoadErrorDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocIdLoadErrorDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocIdLoadedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocIdLoaded',actionType:'CANVAS.DOC_ID.LOADED'};f.exports=h}),null);
__d('AdsCanvasDocIdLoadedDataAction',['AdsCanvasDocIdLoadedDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocIdLoadedDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasDocIdSelectedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasDocIdSelected',actionType:'CANVAS.DOC_ID.SELECTED'};f.exports=h}),null);
__d('AdsCanvasDocIdSelectedDataAction',['AdsCanvasDocIdSelectedDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasDocIdSelectedDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasSetSearchSourceDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasSetSearchSource',actionType:'CANVAS.SET_SEARCH_SOURCE'};f.exports=h}),null);
__d('AdsCanvasSetSearchSourceDataAction',['AdsCanvasSetSearchSourceDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasSetSearchSourceDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasUnpublishedDocResetDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasUnpublishedDocReset',actionType:'CANVAS.UNPUBLISHED_DOC.RESET'};f.exports=h}),null);
__d('AdsCanvasUnpublishedDocResetDataAction',['AdsCanvasUnpublishedDocResetDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasUnpublishedDocResetDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasUnpublishedDocSetDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasUnpublishedDocSet',actionType:'CANVAS.UNPUBLISHED_DOC.SET'};f.exports=h}),null);
__d('AdsCanvasUnpublishedDocSetDataAction',['AdsCanvasUnpublishedDocSetDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasUnpublishedDocSetDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasUnpublishedDocUpdatedDataActionPlugin',[],(function a(b,c,d,e,f,g){'use strict';var h={type:'dataAction',key:'canvasUnpublishedDocUpdated',actionType:'CANVAS.UNPUBLISHED_DOC_UPDATED'};f.exports=h}),null);
__d('AdsCanvasUnpublishedDocUpdatedDataAction',['AdsCanvasUnpublishedDocUpdatedDataActionPlugin','AdsDataAction'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsDataAction').create([],c('AdsCanvasUnpublishedDocUpdatedDataActionPlugin'));f.exports=h}),null);
__d('AdsCanvasTypeaheadActions',['AdsCanvasBuilderDispatcher','AdsCanvasDocIdLoadedDataAction','AdsCanvasDocIdLoadErrorDataAction','AdsCanvasDocIdSelectedDataAction','AdsCanvasSearchSourceFilter','AdsCanvasSetSearchSourceDataAction','AdsCanvasTypeaheadActionTypes','AdsCanvasUnpublishedDocResetDataAction','AdsCanvasUnpublishedDocSetDataAction','AdsCanvasUnpublishedDocUpdatedDataAction'],(function a(b,c,d,e,f,g){'use strict';var h={docNameResultsLoaded:function i(j,k,l,m){l=l.filter(function(n){return c('AdsCanvasSearchSourceFilter').filter(n,m)});c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,filter:k,results:l,type:c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOADED})},docNameLoadError:function i(j,k,l){c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,error:l,filter:k,type:c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOAD_ERROR})},refreshTypeahead:function i(j){c('AdsCanvasBuilderDispatcher').dispatch({pageID:j,type:c('AdsCanvasTypeaheadActionTypes').REFRESH_TYPEAHEAD})},setPageCanvasSearchSource:function i(j,k){c('AdsCanvasSetSearchSourceDataAction').dispatch({pageID:j,searchSource:k})},unpublishedCanvasDocUpdated:function i(){c('AdsCanvasUnpublishedDocUpdatedDataAction').dispatch({timestamp:Date.now()})},setCanvasDocSelectedEntry:function i(j,k){c('AdsCanvasDocIdSelectedDataAction').dispatch({canvasID:j,selectedDocEntry:k})},setCanvasUnpublishedDoc:function i(j){c('AdsCanvasUnpublishedDocSetDataAction').dispatch({unpublishedCanvas:j})},resetCanvasUnpublishedDoc:function i(){c('AdsCanvasUnpublishedDocResetDataAction').dispatch({})},canvasDocIDResultsLoaded:function i(j,k,l){c('AdsCanvasDocIdLoadedDataAction').dispatch({canvasID:j,canvas:k,entry:l})},canvasDocIDLoadError:function i(j,k){c('AdsCanvasDocIdLoadErrorDataAction').dispatch({canvasID:j,error:k})}};f.exports=h}),null);
__d('AdsCanvasTypeaheadDataManager',['AdsCanvasConstants','AdsCanvasTypeaheadActions','AdsGraphAPI','CanvasDataUtils','GraphSort'],(function a(b,c,d,e,f,g){'use strict';h.prototype.searchCanvasDoc=function(i,j,k,l){c('AdsGraphAPI').get(f.id).object('page',j).edge('rich_media_documents').get({access_token:i,fields:c('CanvasDataUtils').getFieldsForPagesCanvasList(),filtering:k.toAPI(),limit:c('AdsCanvasConstants').TYPE_AHEAD_LIMIT,sort:'name'+c('GraphSort').DESC,summary:true}).done(function(m){c('AdsCanvasTypeaheadActions').docNameResultsLoaded(j,k,m.data,l)},function(m){return c('AdsCanvasTypeaheadActions').docNameLoadError(j,k,m)})};function h(){}f.exports=new h()}),null);
__d('AdsCanvasTypeaheadSearchableEntry',['fbt','SearchableEntry'],(function a(b,c,d,e,f,g,h){'use strict';var i={createForCanvasDoc:function j(k){var l=k.is_published?h._("Finished"):h._("Draft");return new (c('SearchableEntry'))({auxiliaryData:k,subtitle:l,title:k.name,uniqueID:k.id})}};f.exports=i}),null);
__d('AdsCanvasTypeaheadStore',['AdsCanvasBuilderDispatcher','AdsCanvasTypeaheadActionTypes','AdsCanvasTypeaheadDataManager','AdsCanvasTypeaheadSearchableEntry','AdsGenericFilter','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsGenericFilterSet','FluxStore','LFUCache','LoadObject'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('AdsGenericFilterField'))('name',c('AdsGenericFilterFieldType').STRING);h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AdsCanvasTypeaheadStore1=new (c('LFUCache'))()}k.prototype.__onDispatch=function(l){switch(l.type){case c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOADED:return this.__handleResultsLoaded(l.pageID,l.filter,l.results,function(m){return c('AdsCanvasTypeaheadSearchableEntry').createForCanvasDoc(m)});case c('AdsCanvasTypeaheadActionTypes').DOC_NAME.LOAD_ERROR:return this.__handleError(l.pageID,l.filter,l.error);case c('AdsCanvasTypeaheadActionTypes').REFRESH_TYPEAHEAD:return this.$AdsCanvasTypeaheadStore2(l.pageID);}};k.prototype.searchDocByName=function(l,m,n,o){var p=new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(j,c('AdsGenericFilterOperator').CONTAIN,l||'')]),q=this.$AdsCanvasTypeaheadStore3(m,p),r=this.$AdsCanvasTypeaheadStore1.get(q);if(!r){r=c('LoadObject').loading();this.$AdsCanvasTypeaheadStore1.set(q,r);c('AdsCanvasTypeaheadDataManager').searchCanvasDoc(n,m,p,o)}return r};k.prototype.__handleError=function(l,m,n){var o=this.$AdsCanvasTypeaheadStore3(l,m);this.$AdsCanvasTypeaheadStore1.set(o,c('LoadObject').empty().setError(n))};k.prototype.__handleResultsLoaded=function(l,m,n,o){var p=this.$AdsCanvasTypeaheadStore3(l,m),q=n.map(o,this);this.$AdsCanvasTypeaheadStore1.set(p,c('LoadObject').empty().setValue(q));this.__emitChange()};k.prototype.$AdsCanvasTypeaheadStore2=function(l){var m=new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(j,c('AdsGenericFilterOperator').CONTAIN,'')]),n=this.$AdsCanvasTypeaheadStore3(l,m),o=this.$AdsCanvasTypeaheadStore1.get(n);if(o)this.$AdsCanvasTypeaheadStore1.set(n,null);};k.prototype.$AdsCanvasTypeaheadStore3=function(l,m){return l+'-'+m.toString()};f.exports=new k(c('AdsCanvasBuilderDispatcher'))}),null);
__d('AdsFluxStoreSearchSource',['AbstractAsyncSearchSource','promiseStoreGet'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(m,n,o,p){c('promiseStoreGet')(n.store,function(){return n.getData(m.value)}).done(function(q){return o(q||[])},function(q){return p(q)})}function k(m){return m}h=babelHelpers.inherits(l,c('AbstractAsyncSearchSource'));i=h&&h.prototype;function l(m){if(!m.bootstrapRequests)m.bootstrapRequests=m.queryRequests;i.constructor.call(this,m,j,k)}f.exports=l}),null);
__d('AdsCanvasSearchSource',['AdsCanvasSearchSourceFilter','AdsCanvasTypeaheadStore','AdsFluxStoreSearchSource'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsFluxStoreSearchSource'));i=h&&h.prototype;function j(k){var l=babelHelpers['extends']({},c('AdsCanvasSearchSourceFilter').searchFilterDefaults,k.searchFilters),m=babelHelpers['extends']({getAllForEmptyQuery:true},k,{queryRequests:[{store:c('AdsCanvasTypeaheadStore'),getData:function n(o){return c('AdsCanvasTypeaheadStore').searchDocByName(o,k.pageID,k.accessToken,l)}}]});i.constructor.call(this,m)}f.exports=j}),null);
__d('SUIHighlightedText.react',['React','SUIComponent','SUITheme','TextSearchUtil'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k={highlight:''};h=babelHelpers.inherits(l,c('SUIComponent'));i=h&&h.prototype;l.prototype.render=function(){var m,n=this,o=this.props,p=o.highlight,q=o.text,r=babelHelpers.objectWithoutProperties(o,['highlight','text']),s=q;if(p)(function(){var t=c('SUITheme').get(n).SUIHighlightedText,u={backgroundColor:t.backgroundColor};s=c('TextSearchUtil').getTokens(q.toString(),p.toString()).map(function(v,w){if(v.isHighlighted)return c('React').createElement('span',{key:w,style:u},v.text);return v.text})})();return c('React').createElement('span',r,s)};function l(){h.apply(this,arguments)}l.propTypes={highlight:j.string.isRequired,text:j.string.isRequired,theme:j.instanceOf(c('SUITheme'))};l.defaultProps=k;f.exports=l}),null);
__d('SUITokenizerItem.react',['cx','React','SearchableEntry','SUIComponent','SUIHelpMessage.react','SUIHighlightedText.react','SUITheme','Tooltip','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('SUIComponent'));j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$SUITokenizerItem1=function(event){if(this.props.onRemove)this.props.onRemove(this.props.entry,event);}.bind(this),this.$SUITokenizerItem2=function(event){if(this.props.isDisabled)return;this.props.onSelect(this.props.entry,event)}.bind(this),this.$SUITokenizerItem3=function(event){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,event);}.bind(this),this.$SUITokenizerItem4=function(r){var s=this.props.onHeightMeasured,t=r;if(s&&t)setTimeout(function(){return s(t.clientHeight,this.props.entry)}.bind(this),0);}.bind(this),n}l.prototype.render=function(){var m=c('SUITheme').get(this),n=this.props.entry,o=m.SUITokenizerItem,p=babelHelpers['extends']({backgroundColor:undefined},o.normal),q=o.remove.normalIcon,r=o.selected.normalIcon;if(this.props.isDisabled){p=babelHelpers['extends']({backgroundColor:undefined},o.disabled);q=o.remove.disabledIcon;r=o.selected.disabledIcon}else if(!this.props.isMultiSelectEnabled&&this.props.isSelected){p=o.selected;q=o.remove.selectedIcon;r=o.selected.selectedIcon}else if(this.props.isHighlighted){p=o.highlighted;q=o.remove.highlightedIcon;r=o.selected.highlightedIcon}var s=this.props.isMultiSelectEnabled||o.selected.isIconShownForSingleSelection,t=s&&this.props.isSelected,u=void 0;if(t)u=r;if(this.props.onRemove)u=c('React').cloneElement(q,{onMouseDown:this.$SUITokenizerItem1});var v=void 0,w=this.props.tooltip;if(w)v=c('React').createElement(c('SUIHelpMessage.react'),{className:"_3-94",value:w});return c('React').createElement('div',{className:c('joinClasses')("_1xog"+(this.props.isDisabled?' '+"_5fdi":'')+(this.props.inCategorizedList?' '+"_95l":''),this.props.className),'data-testid':'SUITokenizerItem/entry',onMouseDown:this.$SUITokenizerItem2,onMouseEnter:this.$SUITokenizerItem3,ref:this.$SUITokenizerItem4,style:{backgroundColor:p.backgroundColor,lineHeight:n.getSubtitle()?null:'24px'}},this.props.getLeftContentForEntry?this.props.getLeftContentForEntry(n,!!this.props.isSelected):undefined,c('React').createElement('div',{className:"_5xzw"},c('React').createElement(c('SUIHighlightedText.react'),babelHelpers['extends']({},c('Tooltip').propsFor(n.getTitle()),{className:"_5xzx",'data-tooltip-display':'overflow',highlight:this.props.queryString,style:{color:p.color},text:n.getTitle()})),n.getSubtitle()?c('React').createElement(c('SUIHighlightedText.react'),babelHelpers['extends']({},c('Tooltip').propsFor(n.getSubtitle()),{className:"_5xzy",'data-tooltip-display':'overflow',highlight:this.props.queryString,style:{color:p.subtitleColor},text:n.getSubtitle()})):null),this.props.getRightContentForEntry?this.props.getRightContentForEntry(n,!!this.props.isSelected,!!this.props.isHighlighted):undefined,v,u)};l.propTypes={entry:k.instanceOf(c('SearchableEntry')).isRequired,getLeftContentForEntry:k.func,getRightContentForEntry:k.func,inCategorizedList:k.bool,isDisabled:k.bool,isHighlighted:k.bool,isSelected:k.bool,isMultiSelectEnabled:k.bool,onHeightMeasured:k.func,onHighlight:k.func,onRemove:k.func,onSelect:k.func.isRequired,queryString:k.string,theme:k.instanceOf(c('SUITheme')),tooltip:k.any};f.exports=l}),null);
__d('SUITokenizerItemListScroller',['Map','Scroll'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Map'))();function i(k,l){var m,n=c('Scroll').getTop(k),o=Math.max(0,l.offsetTop-k.offsetHeight/2);if(n!==o)(function(){k.style.pointerEvents='none';c('Scroll').setTop(k,o);var p=setTimeout(function(){if(h.get(k)===p){k.style.pointerEvents='all';h['delete'](k)}},100);h.set(k,p)})();}function j(k){var l=h.get(k);if(l)clearTimeout(l);}f.exports={scroll:i,unmount:j}}),null);
__d('SUITokenizerItemList.react',['cx','React','ReactDOM','SearchableEntry','SimpleList.react','SUIComponent','SUITheme','SUITokenizerItem.react','SUITokenizerItemListScroller','emptyFunction','groupArray','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=240;i=babelHelpers.inherits(m,c('SUIComponent'));j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$SUITokenizerItemList1=false,this.state={simpleItemHeight:0},this.$SUITokenizerItemList4=function(s){return this.$SUITokenizerItemList2(this.props.entries[s.rowIndex])}.bind(this),this.$SUITokenizerItemList5=function(){var s=this.props.isArrowNavigation?this.props.entries.findIndex(function(u){return u===this.props.highlightedEntry}.bind(this)):-1,t=this.$SUITokenizerItemList1?Math.min(this.state.simpleItemHeight*this.props.entries.length,l):l;return c('React').createElement(c('SimpleList.react'),{goToRowIndex:s>-1?s:null,height:t,hideScrollShadow:true,item:this.$SUITokenizerItemList4,rowCount:this.props.entries.length,rowHeight:this.state.simpleItemHeight,scrollbarOnHoverOnly:true})}.bind(this),this.$SUITokenizerItemList6=function(){var s=c('SUITheme').get(this).SUITokenizerItemList,t=c('groupArray')(this.props.entries,function(w){return w.getType()}),u=Object.keys(t),v=[];if(this.props.categoriesCompare)u.sort(this.props.categoriesCompare);u.forEach(function(w){var x=t[w].map(function(z){return this.$SUITokenizerItemList2(z)}.bind(this)),y=w;if(this.props.categoryHeader)y=c('React').cloneElement(this.props.categoryHeader,{},w);v.push(c('React').createElement('div',{className:"_5xr5",key:w+'header',style:babelHelpers['extends']({},s.categoryHeader.typeStyle,{borderBottomColor:s.categoryHeader.borderColor})},y));v.push(c('React').createElement('div',{className:"_5xr6",key:w+'list'},x))}.bind(this));return v}.bind(this),this.$SUITokenizerItemList7=function(){var s=this.refs.container;if(s.scrollHeight-s.scrollTop-s.offsetHeight<5)this.props.onEndOfListReached&&this.props.onEndOfListReached();}.bind(this),this.$SUITokenizerItemList3=function(s){if(this.$SUITokenizerItemList1||s===0)return;this.$SUITokenizerItemList1=true;this.setState({simpleItemHeight:s})}.bind(this),o}m.prototype.componentDidUpdate=function(){if(this.refs.highlighted&&this.props.isArrowNavigation)c('SUITokenizerItemListScroller').scroll(c('ReactDOM').findDOMNode(this.refs.container),c('ReactDOM').findDOMNode(this.refs.highlighted));};m.prototype.componentWillUnmount=function(){c('SUITokenizerItemListScroller').unmount(c('ReactDOM').findDOMNode(this.refs.container))};m.prototype.$SUITokenizerItemList2=function(n){var o=n===this.props.highlightedEntry,p=this.props.selectedEntry?[this.props.selectedEntry]:this.props.selectedEntries||[],q=p&&p.some(function(u){return n.getUniqueID()===u.getUniqueID()}),r=this.props.isDisabledEntry?this.props.isDisabledEntry(n):false,s=this.props.hasCategories||this.$SUITokenizerItemList1?undefined:this.$SUITokenizerItemList3,t=this.props.getTooltipInfo(n);return c('React').createElement(c('SUITokenizerItem.react'),{entry:n,getLeftContentForEntry:this.props.getLeftContentForEntry,getRightContentForEntry:this.props.getRightContentForEntry,isCategorizedList:this.props.hasCategories,isDisabled:r,isHighlighted:o,isMultiSelectEnabled:this.props.isMultiSelectEnabled,isSelected:q,key:n.getUniqueID(),onHeightMeasured:s,onHighlight:this.props.onHighlight,onRemove:this.props.onRemoveSearchResult,onSelect:this.props.onSelect,queryString:this.props.queryString,ref:o?'highlighted':null,tooltip:t})};m.prototype.$SUITokenizerItemList8=function(event){event.preventDefault()};m.prototype.render=function(){var n=!this.props.entries.length,o=c('SUITheme').get(this),p=o.SUITokenizerItemList,q=babelHelpers['extends']({},p.typeStyle,{backgroundColor:p.backgroundColor,borderColor:p.borderColor},this.props.style),r=c('joinClasses')("_3ts6",this.props.className);if(n){var s=this.props.emptySearchResultsContent;if(this.props.emptySearchResultsText&&!s)s=c('React').createElement('span',{className:"_2byh"},this.props.emptySearchResultsText);if(!s)return null;return c('React').createElement('div',{className:r,style:q},this.props.customHeader,s)}var t=void 0;if(this.props.hasCategories){t=this.$SUITokenizerItemList6();q.maxHeight=l}else t=this.$SUITokenizerItemList5();return c('React').createElement('div',{className:r,'data-testid':'SUITokenizerItemList/entries',onMouseDown:this.$SUITokenizerItemList8,onScroll:this.props.onEndOfListReached&&this.$SUITokenizerItemList7,ref:'container',style:q,unselectable:'on'},this.props.customHeader,t)};m.propTypes={entries:k.array.isRequired,getTooltipInfo:k.func.isRequired,hasCategories:k.bool.isRequired,isArrowNavigation:k.bool.isRequired,onHighlight:k.func.isRequired,onSelect:k.func.isRequired,categoriesCompare:k.func,categoryHeader:k.element,customHeader:k.element,emptySearchResultsText:k.string,getLeftContentForEntry:k.func,getRightContentForEntry:k.func,highlightedEntry:k.instanceOf(c('SearchableEntry')),isDisabledEntry:k.func,isMultiSelectEnabled:k.bool,onEndOfListReached:k.func,onRemoveSearchResult:k.func,queryString:k.string,selectedEntries:k.arrayOf(k.instanceOf(c('SearchableEntry'))),selectedEntry:k.instanceOf(c('SearchableEntry')),theme:k.instanceOf(c('SUITheme'))};m.defaultProps={emptySearchResultsText:'',getTooltipInfo:c('emptyFunction').thatReturnsNull,hasCategories:false,isArrowNavigation:false,selectedEntries:[]};f.exports=m}),null);
__d('SUITypeaheadNavigation',[],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$SUITypeaheadNavigation1=i}h.prototype.moveDown=function(i,j,k){var l=j?i.indexOf(j):-1,m=i.slice(l+1).find(function(n){return !this.$SUITypeaheadNavigation1(n)}.bind(this));if(!m)m=i.slice(0,l+1).find(function(n){return !this.$SUITypeaheadNavigation1(n)}.bind(this));k(m||null)};h.prototype.moveUp=function(i,j,k){this.moveDown(i.slice().reverse(),j,k)};f.exports=h}),null);
__d('SUIInlineTypeahead.react',['cx','AbstractTypeahead.react','React','SearchableEntry','Set','SUIComponent','SUITheme','SUITokenizerItemList.react','SUITypeaheadNavigation','createObjectFrom','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=1000,l=c('React').PropTypes,m={hasCategories:false},n={isFocused:false,queryString:''};i=babelHelpers.inherits(o,c('SUIComponent'));j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.state=n;this.$SUIInlineTypeahead1=new (c('SUITypeaheadNavigation'))(this.$SUIInlineTypeahead2.bind(this));this.$SUIInlineTypeahead2=this.$SUIInlineTypeahead2.bind(this);this.$SUIInlineTypeahead3=this.$SUIInlineTypeahead3.bind(this);this.$SUIInlineTypeahead4=this.$SUIInlineTypeahead4.bind(this);this.$SUIInlineTypeahead5=this.$SUIInlineTypeahead5.bind(this);this.$SUIInlineTypeahead6=this.$SUIInlineTypeahead6.bind(this);this.$SUIInlineTypeahead7=this.$SUIInlineTypeahead7.bind(this)}o.prototype.$SUIInlineTypeahead5=function(event){var p=event.target.value;this.setState({queryString:p});this.props.onQueryChange&&this.props.onQueryChange(p)};o.prototype.$SUIInlineTypeahead6=function(p,q){q.stopPropagation();if(this.props.onRemoveSearchResult)this.props.onRemoveSearchResult(p);};o.prototype.$SUIInlineTypeahead7=function(p){if(!this.$SUIInlineTypeahead2(p)){this.props.onChange(p);this.setState({queryString:''})}};o.prototype.$SUIInlineTypeahead4=function(){this.setState({isFocused:true});this.props.onFocus&&this.props.onFocus()};o.prototype.$SUIInlineTypeahead3=function(){this.setState({isFocused:false});this.props.onBlur&&this.props.onBlur()};o.prototype.$SUIInlineTypeahead2=function(p){var q=this.props,r=q.disabledEntryIDs,s=q.getDisableStateForEntry,t=r?r.has(p.getUniqueID()):false;if(s)t=t||s(p);return t};o.prototype.focusInput=function(){this.refs.typeahead.focusInput()};o.prototype.render=function(){var p=c('SUITheme').get(this).SUIInlineTypeahead,q=p.searchIcon;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_1vdu"),'data-testid':this.props['data-testid'],style:this.props.style},c('React').createElement(c('AbstractTypeahead.react'),{autoHighlight:true,'data-testid':'SUIInlineTypeahead/typeahead',excludedEntries:this.props.excludedEntryIDs?c('createObjectFrom')(Array.from(this.props.excludedEntryIDs)):undefined,hideViewWithEntries:false,inputClassName:"_1vdv",inputStyle:p.inputTextColor?{color:p.inputTextColor}:undefined,navigation:this.$SUIInlineTypeahead1,onBlur:this.$SUIInlineTypeahead3,onChange:this.$SUIInlineTypeahead5,onFocus:this.$SUIInlineTypeahead4,onSelectAttempt:this.$SUIInlineTypeahead7,placeholder:this.props.placeholder,presenter:{ViewRenderer:c('SUITokenizerItemList.react'),alwaysVisibleOnFocus:!!this.props.emptySearchResultsContent,extraRendererProps:{categoriesCompare:this.props.categoriesCompare,categoryHeader:this.props.categoryHeader,getLeftContentForEntry:this.props.getLeftContentForEntry,getRightContentForEntry:this.props.getRightContentForEntry,getTooltipInfo:this.props.getTooltipForEntry,hasCategories:this.props.hasCategories,isDisabledEntry:this.$SUIInlineTypeahead2,emptySearchResultsContent:this.props.emptySearchResultsContent,onEndOfListReached:this.props.onEndOfListReached,onRemoveSearchResult:this.props.onRemoveSearchResult?this.$SUIInlineTypeahead6:null,style:{borderTop:'1px solid '+p.dividerBorderColor},theme:c('SUITheme').get(this)},maxEntries:k,useLayer:false},queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectOnBlur:false,selectedEntry:this.props.selectedEntry||undefined,showEntriesOnFocus:true}),c('React').cloneElement(q,{className:c('joinClasses')("_1vdw",q.props.className)}))};o.propTypes={categoriesCompare:l.func,hasCategories:l.bool.isRequired,onChange:l.func.isRequired,searchSource:l.object.isRequired,disabledEntryIDs:l.instanceOf(c('Set')),emptySearchResultsContent:l.node,excludedEntryIDs:l.object,getDisableStateForEntry:l.func,getLeftContentForEntry:l.func,getRightContentForEntry:l.func,getTooltipForEntry:l.func,header:l.node,onBlur:l.func,onEndOfListReached:l.func,onFocus:l.func,onRemoveSearchResult:l.func,placeholder:l.string,searchSourceOptions:l.object,selectedEntry:l.instanceOf(c('SearchableEntry')),style:l.object,theme:l.instanceOf(c('SUITheme'))};o.defaultProps=m;f.exports=o}),null);
__d('SUISearchableSelector.react',['cx','AbstractSearchSource','ContextualLayer.react','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','Keys','LayerAutoFocus','LayerHideOnBlur','LayerHideOnEscape','React','ReactDOM','ResponsiveBlock.react','SearchableEntry','Set','SUIComponent','SUIErrorComponentUtil','SUIInlineTypeahead.react','SUIPropTypes','SUISelectorButton.react','SUITheme','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=babelHelpers['extends']({},c('SUIErrorComponentUtil').defaultProps,{hasCategories:false,dropdownHorizontalAlignment:'left',dropdownWidth:'sameAsSelector',height:'normal',shouldShowSubtitleInSelector:true,width:'auto'}),m={isOpen:false,buttonWidth:null};i=babelHelpers.inherits(n,c('SUIComponent'));j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state=m,this.$SUISearchableSelector4=function(t){if(!t&&this.state.isOpen){this.close();this.focusInput()}}.bind(this),this.$SUISearchableSelector5=function(){if(!this.props.isDisabled)if(this.state.isOpen){this.close()}else this.open();}.bind(this),this.$SUISearchableSelector6=function(event){switch(event.keyCode){case c('Keys').DOWN:case c('Keys').UP:case c('Keys').SPACE:this.open();break;}}.bind(this),this.$SUISearchableSelector7=function(t){this.close();this.focusInput();this.props.onChange(t)}.bind(this),this.$SUISearchableSelector8=function(){this.$SUISearchableSelector2&&this.$SUISearchableSelector2.layer.updatePosition()}.bind(this),this.$SUISearchableSelector9=function(){this.close()}.bind(this),this.$SUISearchableSelector10=function(){return this.$SUISearchableSelector1}.bind(this),p}n.prototype.componentDidMount=function(){this.$SUISearchableSelector3()};n.prototype.componentDidUpdate=function(){this.$SUISearchableSelector3()};n.prototype.$SUISearchableSelector3=function(){if(this.$SUISearchableSelector1)this.setState({buttonWidth:c('ReactDOM').findDOMNode(this.$SUISearchableSelector1).offsetWidth});};n.prototype.open=function(){this.setState({isOpen:true});this.props.onOpened&&this.props.onOpened()};n.prototype.close=function(){this.setState({isOpen:false});this.props.onClosed&&this.props.onClosed()};n.prototype.focusInput=function(){this.$SUISearchableSelector1&&c('ReactDOM').findDOMNode(this.$SUISearchableSelector1).focus()};n.prototype.render=function(){var o=babelHelpers['extends']({},c('SUITheme').get(this).SUISearchableSelector,this.props.uniformOverride),p=void 0,q=void 0;if(this.props.dropdownWidth==='sameAsSelector'){p=this.state.buttonWidth;q=p}else if(this.props.dropdownWidth==='auto'){p=null;q=this.state.buttonWidth}else if(this.props.dropdownWidth)p=this.props.dropdownWidth;var r=this.props.placeholder,s=this.props.value;if(s){var t=this.props.shouldShowSubtitleInSelector&&s.getSubtitle(),u=this.props.isDisabled?o.disabledSubtitleTypeStyle:o.subtitleTypeStyle,v=t?c('React').createElement('span',{style:babelHelpers['extends']({},u,{color:o.subtitleColor})},this.props.height==='tall'?c('React').createElement('br',null):' ',s.getSubtitle()):null,w=this.props.isDisabled?o.disabledTitleTypeStyle:o.titleTypeStyle;r=c('React').createElement('div',{className:"_4gt8",style:babelHelpers['extends']({},w)},this.props.getLeftContentForEntry?this.props.getLeftContentForEntry(s,false):undefined,c('React').createElement('div',{className:"_4gt9"},s.getTitle(),v),this.props.getRightContentForEntry?this.props.getRightContentForEntry(s,false,false):undefined)}var x=this.props.emptySearchResultsContent?c('React').createElement('div',{className:"_2u3i"},this.props.emptySearchResultsContent):undefined;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_wxl"),'data-testid':this.props['data-testid'],style:babelHelpers['extends']({width:this.props.width},this.props.style)},c('React').createElement(c('SUISelectorButton.react'),{borderedSides:this.props.buttonBorderedSides,className_DEPRECATED:c('joinClasses')(this.state.isOpen?"_3o2y":'',this.props.buttonClassName),'data-testid':'SUISearchableSelector/button',disabled:this.props.isDisabled,errorMessage:this.props.errorMessage,errorTooltipPosition:this.props.errorTooltipPosition,height:this.props.height,icon:this.props.buttonIcon,id:this.props.id,label:r,labelIsHidden:this.props.buttonLabelIsHidden,onClick:this.$SUISearchableSelector5,onKeyDown:this.$SUISearchableSelector6,ref:function(y){return this.$SUISearchableSelector1=y}.bind(this),roundedCorners:this.props.buttonRoundedCorners,tooltip:this.props.tooltip,uniformOverrideButton:this.props.buttonUniformOverride,warningMessage:this.props.warningMessage,width:'100%'}),this.state.isOpen?c('React').createElement(c('ContextualLayer.react'),{alignment:this.props.dropdownHorizontalAlignment,autofocus:true,behaviors:babelHelpers['extends']({ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerAutoFocus:c('LayerAutoFocus'),LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape')},this.props.layerBehaviors),contextRef:this.$SUISearchableSelector10,offsetX:this.props.layerOffsetX,offsetY:this.props.layerOffsetY,onToggle:this.$SUISearchableSelector4,position:'below',ref:function(y){return this.$SUISearchableSelector2=y}.bind(this),shown:true},c('React').createElement(c('ResponsiveBlock.react'),{className:"_4280"+(this.props.dropdownWidth!=='sameAsSelector'?' '+"_4281":''),onResize:this.$SUISearchableSelector8,style:{backgroundColor:o.dropdownBackgroundColor,borderColor:o.dropdownBorderColor,minWidth:q||null,width:p||null}},this.props.header?c('React').createElement('div',{className:"_4283",onClick:this.$SUISearchableSelector9,role:'presentation',style:babelHelpers['extends']({},o.headerTypeStyle,{backgroundColor:o.headerBackgroundColor,borderColor:o.dropdownBorderColor,lineHeight:'32px'})},this.props.header):null,c('React').createElement(c('SUIInlineTypeahead.react'),{categoriesCompare:this.props.categoriesCompare,categoryHeader:this.props.categoryHeader,'data-testid':'SUISearchableSelector/typeahead',disabledEntryIDs:this.props.disabledEntryIDs,emptySearchResultsContent:x,excludedEntryIDs:this.props.excludedEntryIDs,getDisableStateForEntry:this.props.getDisableStateForEntry,getLeftContentForEntry:this.props.getLeftContentForEntry,getRightContentForEntry:this.props.getRightContentForEntry,getTooltipForEntry:this.props.getTooltipForEntry,hasCategories:this.props.hasCategories,header:this.props.header,onChange:this.$SUISearchableSelector7,onEndOfListReached:this.props.onEndOfListReached,onQueryChange:this.props.onQueryChange,onRemoveSearchResult:this.props.onRemoveSearchResult,placeholder:this.props.searchPlaceholder,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,selectedEntry:this.props.value}))):null)};n.propTypes=babelHelpers['extends']({},c('SUIErrorComponentUtil').propTypes,{categoryHeader:k.element,hasCategories:k.bool.isRequired,height:k.string.isRequired,onChange:k.func.isRequired,searchSource:k.instanceOf(c('AbstractSearchSource')).isRequired,shouldShowSubtitleInSelector:k.bool.isRequired,'data-testid':k.string,buttonBorderedSides:k.arrayOf(k.oneOf(['top','right','bottom','left'])),buttonClassName:k.string,buttonLabelIsHidden:k.bool,buttonRoundedCorners:k.arrayOf(k.oneOf(['topLeft','topRight','bottomRight','bottomLeft'])),buttonUniformOverride:k.object,isDisabled:k.bool,disabledEntryIDs:k.instanceOf(c('Set')),dropdownWidth:c('SUIPropTypes').dropdownWidth,layerBehaviors:k.object,emptySearchResultsContent:k.node,excludedEntryIDs:k.instanceOf(c('Set')),getDisableStateForEntry:k.func,getLeftContentForEntry:k.func,getRightContentForEntry:k.func,getTooltipForEntry:k.func,header:k.node,onClosed:k.func,onEndOfListReached:k.func,onOpened:k.func,placeholder:k.node,uniformOverride:k.object,searchPlaceholder:k.oneOfType([k.array,k.string,k.object]),searchSourceOptions:k.object,value:k.instanceOf(c('SearchableEntry')),width:c('SUIPropTypes').width,theme:k.instanceOf(c('SUITheme'))});n.defaultProps=l;f.exports=n}),null);
__d('AdsCanvasTypeahead.react',['cx','fbt','AdsCanvasAdvancedRendering','AdsCanvasButtonsContainer.react','AdsCanvasInlineBuilderActions','AdsCanvasLabel.react','AdsCanvasWebdriverIDs','ContextualLayerHideOnScrollOut','ContextualLayerUpdateOnScroll','Grid.react','React','SUISearchableSelector.react','XUITypeahead.react','XUITypeaheadView.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Grid.react').GridItem;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$AdsCanvasTypeahead9=function(event){this.props.onQueryChange&&this.props.onQueryChange();this.setState({queryString:event.target.value})}.bind(this);this.$AdsCanvasTypeahead13=function(o){this.props.onQueryChange&&this.props.onQueryChange();this.setState({queryString:o})}.bind(this);this.$AdsCanvasTypeahead8=function(){this.$AdsCanvasTypeahead2(this.props.selectedEntry)}.bind(this);this.$AdsCanvasTypeahead10=function(){var o=this.props.selectedEntry;this.setState({queryString:o?o.getTitle():''})}.bind(this);this.$AdsCanvasTypeahead11=function(o){this.props.onEntrySelect(o);this.setState({queryString:o.getTitle()})}.bind(this);this.state={queryString:this.$AdsCanvasTypeahead1(n.selectedEntry)}}m.prototype.componentWillReceiveProps=function(n){if(n.selectedEntry!==this.props.selectedEntry)this.$AdsCanvasTypeahead2(n.selectedEntry);};m.prototype.render=function(){if(this.props.canvasRenderingMode)return this.$AdsCanvasTypeahead3();var n=this.props.shouldUseSearchableCanvasTypeahead?this.$AdsCanvasTypeahead4():this.$AdsCanvasTypeahead5(),o=this.props.shouldHideCanvasCreateButton?c('React').createElement('div',{className:"_39gc"},n):c('React').createElement(c('Grid.react'),{className:"_39gb",cols:2},c('React').createElement(l,{className:"_39gc"},n),c('React').createElement(l,null,this.$AdsCanvasTypeahead3()));return c('React').createElement('div',{'data-testid':c('AdsCanvasWebdriverIDs').ADS_CANVAS_TYPEAHEAD},this.$AdsCanvasTypeahead6(),o)};m.prototype.$AdsCanvasTypeahead5=function(){return c('React').createElement(c('XUITypeahead.react'),{autoHighlight:this.$AdsCanvasTypeahead7(),className:!!this.props.disabled?"_4i0b":'',disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:this.props.placeholder,presenter:{ViewRenderer:c('XUITypeaheadView.react'),useLayer:true,layerBehaviors:{ContextualLayerHideOnScrollOut:c('ContextualLayerHideOnScrollOut'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')}},queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,showEntriesOnFocus:true,tallInput:true,textInputDataTestID:c('AdsCanvasWebdriverIDs').ADS_CANVAS_TYPEAHEAD_INPUT,xuiError:this.props.error,xuiErrorPosition:'above',onBlur:this.$AdsCanvasTypeahead8,onChange:this.$AdsCanvasTypeahead9,onFocus:this.$AdsCanvasTypeahead10,onSelectAttempt:this.$AdsCanvasTypeahead11})};m.prototype.$AdsCanvasTypeahead4=function(){return c('React').createElement(c('SUISearchableSelector.react'),{emptySearchResultsContent:i._("No matching results"),dropdownWidth:'auto',isDisabled:this.props.disabled,placeholder:this.props.placeholder,ref:'typeahead',searchSource:this.props.searchSource,value:this.props.selectedEntry,onChange:this.$AdsCanvasTypeahead11,onOpened:this.$AdsCanvasTypeahead12,onQueryChange:this.$AdsCanvasTypeahead13})};m.prototype.$AdsCanvasTypeahead3=function(){if(this.props.shouldHideCanvasCreateButton&&this.props.canvasRenderingMode!==c('AdsCanvasAdvancedRendering').DROPDOWN)return null;return c('React').createElement(c('AdsCanvasButtonsContainer.react'),{accessToken:this.props.accessToken,businessID:this.props.businessID,canvas:this.props.canvas,canvasCapabilityConfig:this.props.canvasCapabilityConfig,canvasID:this.props.canvasID,canvasRenderingMode:this.props.canvasRenderingMode,disabled:this.props.disabled,extraGKsToLog:this.props.extraGKsToLog,mustPublish:this.props.mustPublish,pageID:this.props.pageID,source:this.props.source,onClickCreate:this.props.onClickCreate,onClickPreview:this.props.onClickPreview,onCloseReset:this.props.onCloseReset,onDuplicateReload:this.props.onDuplicateReload,onSaveCanvasSuccess:this.props.onSaveCanvasSuccess})};m.prototype.$AdsCanvasTypeahead6=function(){if(this.props.hideHelpText)return null;return c('React').createElement(c('AdsCanvasLabel.react'),{supplement:this.props.labelSupplement,onClickLearnMore:this.props.onClickLearnMore})};m.prototype.$AdsCanvasTypeahead7=function(){return !!this.state.queryString};m.prototype.$AdsCanvasTypeahead12=function(){c('AdsCanvasInlineBuilderActions').inlineDropdownUseExistingSelect()};m.prototype.$AdsCanvasTypeahead1=function(n){return n?n.getTitle():''};m.prototype.$AdsCanvasTypeahead2=function(n){this.setState({queryString:this.$AdsCanvasTypeahead1(n)})};f.exports=m}),null);
__d('AudienceManagerEngagementVideoSelectionError.react',['cx','ix','BUIAdoptionXUIGrayText.react','CenteredContainer.react','Image.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.$AudienceManagerEngagementVideoSelectionError1=function(){if(!this.props.subtitleLabel)return null;return c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light'},this.props.subtitleLabel)};l.prototype.$AudienceManagerEngagementVideoSelectionError2=function(){if(!this.props.actionLabel)return null;if(!this.props.onActionClick)return c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light'},this.props.actionLabel);return c('React').createElement(c('Link.react'),{onClick:this.props.onActionClick},c('React').createElement('div',{display:'block'},this.props.actionLabel))};l.prototype.render=function(){return c('React').createElement(c('CenteredContainer.react'),{horizontal:true,vertical:true},c('React').createElement(c('Image.react'),{src:i("76143")}),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8x",display:'block',shade:'light',weight:'bold'},this.props.mainLabel),this.$AudienceManagerEngagementVideoSelectionError1(),this.$AudienceManagerEngagementVideoSelectionError2())};f.exports=l}),null);
__d('AsyncUploadQueue',['AsyncUploadBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AsyncUploadBase'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this._pending=[];this._waiting=[]}j.prototype.enqueue=function(k,l,m){'use strict';return this._add(this._waiting.push.bind(this._waiting),k,l,m)};j.prototype.prepend=function(k,l,m){'use strict';return this._add(this._waiting.unshift.bind(this._waiting),k,l,m)};j.prototype._add=function(k,l,m,n){'use strict';var o=babelHelpers['extends']({},this._data,n),p=this._createFileUpload(l,m,o);k(p);this._processQueue();return p};j.prototype.dequeue=function(k){'use strict';this._abort(k)};f.exports=j}),null);
__d('Waiter',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$Waiter1=i;this.$Waiter2=0;this.$Waiter3=false}h.prototype.wait=function(i){'use strict';var j=this,k=false;this.$Waiter4();return function(){if(k)return;for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];i&&i.apply(this,m);j.$Waiter5();k=true}};h.prototype.go=function(){'use strict';this.$Waiter3=true;this.$Waiter6();return this};h.prototype.$Waiter4=function(){'use strict';this.$Waiter2++};h.prototype.$Waiter6=function(){'use strict';if(!this.$Waiter2&&this.$Waiter3)this.$Waiter1();};h.prototype.$Waiter5=function(){'use strict';this.$Waiter2--;this.$Waiter6()};f.exports=h}),null);
__d('ComputerPanelActionState',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({NEUTRAL:null,DROP:null});f.exports=h}),null);
__d('DragDropFilePicker',['DragDropTarget','mixin','ArbiterMixin','FilePickerEvent','FileSelectionContainer','createArrayFromMixed','SelectionSource'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$DragDropFilePicker1=new (c('DragDropTarget'))(k);if(l.onDocumentDragEnterCallback)this.$DragDropFilePicker1.setOnDocumentDragEnterCallback(l.onDocumentDragEnterCallback);if(l.onDocumentDragLeaveCallback)this.$DragDropFilePicker1.setOnDocumentDragLeaveCallback(l.onDocumentDragLeaveCallback);if(l.onDragEnterCallback)this.$DragDropFilePicker1.setOnDragEnterCallback(l.onDragEnterCallback);if(l.onDragLeaveCallback)this.$DragDropFilePicker1.setOnDragLeaveCallback(l.onDragLeaveCallback);this.$DragDropFilePicker1.setOnFilesDropCallback(function(m){var n=c('createArrayFromMixed')(m).filter(function(o){return !l.isFileValid||l.isFileValid(o)}).map(function(o){return new (c('FileSelectionContainer'))(o)});if(n.length>0){this.inform(c('FilePickerEvent').SELECTED,{sender:this,source:c('SelectionSource').FILE,selections:n})}else l.onDocumentDragLeaveCallback.call(null);}.bind(this));this.$DragDropFilePicker1.enable()}j.prototype.disable=function(){'use strict';this.$DragDropFilePicker1.disable()};f.exports=j}),null);
__d("PUWUploaders",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HTML5:"html5",FLASH:"flash"})}),null);
__d('OmnipickerHTML5FilePickerFactory',['fbt','HTML5FilePicker','PUWApplications','PUWMethods','PUWUploaders'],(function a(b,c,d,e,f,g,h){var i={create:function j(k){return new (c('HTML5FilePicker'))(k,{accept:'image/*',fallbackFunction:function l(){},multiple:true,qn:'todo',waterfallApp:c('PUWApplications').WEB_OMNIPICKER,waterfallUploader:c('PUWUploaders').HTML5,waterfallMethod:c('PUWMethods').FILE_SELECTOR,title:h._("Choose files to upload")})}};f.exports=i}),null);
__d('OmnipickerDispatcher',['Dispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('Dispatcher_DEPRECATED'))()}),null);
__d('OmnipickerActions',['OmnipickerDispatcher','clamp','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({APP_INITIALIZED:null,FILE_PICKER_SELECT_STARTED:null,FILE_PICKER_SELECTED:null,FILE_PICKER_SELECT_CANCELED:null,EXISTING_PHOTOS_FETCHED:null,PANEL_INITIALIZED:null,PHOTO_SELECTED_OPTIMISTICALLY:null,PHOTO_SOURCE_SELECTED:null,RESIZE_FAILED:null,RESIZE_STARTED:null,RESIZE_SUCCEEDED:null,SELECTION_CHANGED:null,UPLOAD_CANCELED:null,UPLOAD_FAILED:null,UPLOAD_FINISHED:null,UPLOAD_PROGRESSED:null,UPLOAD_QUEUED:null,UPLOAD_STARTED:null}),i={types:h,appInitialized:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.APP_INITIALIZED,appID:k,logger:l,initialSource:m})},panelInitialized:function j(k,l){c('OmnipickerDispatcher').dispatch({type:h.PANEL_INITIALIZED,appID:k,source:l})},photoSourceSelected:function j(k,l){c('OmnipickerDispatcher').dispatch({type:h.PHOTO_SOURCE_SELECTED,appID:k,source:l})},filePickerSelectStarted:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.FILE_PICKER_SELECT_STARTED,appID:k,method:l,ref:m})},filePickerSelected:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.FILE_PICKER_SELECTED,appID:k,method:l,ref:m})},filePickerSelectCancelled:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.FILE_PICKER_SELECT_CANCELED,appID:k,method:l,ref:m})},resizeFailed:function j(k,l,m,n){c('OmnipickerDispatcher').dispatch({type:h.RESIZE_FAILED,appID:k,dt:l,bytes:m,errorCode:n})},resizeStarted:function j(k){c('OmnipickerDispatcher').dispatch({type:h.RESIZE_STARTED,appID:k})},resizeSucceeded:function j(k,l,m,n,o){c('OmnipickerDispatcher').dispatch({type:h.RESIZE_SUCCEEDED,appID:k,dt:l,bytes:m,originalSize:n,customTags:o})},uploadQueued:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_QUEUED,appID:k,source:l,ids:m.map(function(n){return n.getSelectionContainerID()}),volume:m.length})},selectionChanged:function j(k,l,m,n){c('OmnipickerDispatcher').dispatch({type:h.SELECTION_CHANGED,appID:k,source:l,id:m,checked:n})},uploadStart:function j(k,l,m,n){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_STARTED,appID:k,source:l,id:m,bytes:n})},uploadProgress:function j(k,l,m,n){var o=c('clamp')(n.bytesTransferred/n.file.size*100,0,100);c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_PROGRESSED,appID:k,source:l,id:m,progress:o})},uploadDone:function j(k,l,m,n,o,p){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_FINISHED,appID:k,source:l,id:m,src:n,fbid:o,retriesNeeded:p})},uploadFailed:function j(k,l,m,n,o){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_FAILED,appID:k,source:l,id:m,retriesNeeded:n,errorCode:o})},existingPhotosFetched:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.EXISTING_PHOTOS_FETCHED,appID:k,photos:m.map(function(n){return {source:l,id:n.id,src:n.image.uri}})})},optimisticSelect:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.PHOTO_SELECTED_OPTIMISTICALLY,appID:k,source:l,id:m})},cancelUpload:function j(k,l,m){c('OmnipickerDispatcher').dispatch({type:h.UPLOAD_CANCELED,appID:k,source:l,id:m})}};f.exports=i}),null);
__d('OmnipickerUploadController',['OmnipickerActions','SelectionSource'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$OmnipickerUploadController1={}}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadController1[i]={}};h.prototype.registerAdapter=function(i,j,k){this.$OmnipickerUploadController1[i][k]=j;var l=c('SelectionSource').toPhotoSourceType(k);j.subscribe('maxReached',function(){});j.subscribe('resize_start',this.$OmnipickerUploadController2.bind(this,i));j.subscribe('resize_done',this.$OmnipickerUploadController3.bind(this,i));j.subscribe('resize_hires_start',function(){});j.subscribe('upload_start',this.$OmnipickerUploadController4.bind(this,i,l));j.subscribe('upload_progress',this.$OmnipickerUploadController5.bind(this,i,l));j.subscribe('upload_done',this.$OmnipickerUploadController6.bind(this,i,l));j.subscribe('upload_failed',this.$OmnipickerUploadController7.bind(this,i,l));j.subscribe('finished',function(){})};h.prototype.uploadSelections=function(i,j,k,l){if(!k.every(function(o){return o.getSource()==j}))throw new Error("Selections' source must be "+j);var m=this.$OmnipickerUploadController1[i][j],n=c('SelectionSource').toPhotoSourceType(j);if(!m){k.forEach(function(o){var p=o.getExistingImageID(),q=o.getSrc();c('OmnipickerActions').uploadDone(i,n,p,q,p,0)});return}if(!k[0].hasPlaceholderUI())c('OmnipickerActions').uploadQueued(i,n,k);m.uploadSelections(k,l)};h.prototype.cancelUpload=function(i,j,k){c('OmnipickerActions').cancelUpload(i,j,k)};h.prototype.$OmnipickerUploadController2=function(i,event,j){c('OmnipickerActions').resizeStarted(i)};h.prototype.$OmnipickerUploadController3=function(i,event,j){var k=j.scubaData.scuba_ints,l=k.timeResizing||k.dt,m=k.resizedSize;if(j.error){c('OmnipickerActions').resizeFailed(i,l,m,j.error.message)}else c('OmnipickerActions').resizeSucceeded(i,l,m,k.originalSize,{skipped_resizing:j.scubaData.scuba_tags.skippedResizing});};h.prototype.$OmnipickerUploadController4=function(i,j,event,k){c('OmnipickerActions').uploadStart(i,j,k.uploadID,k.size)};h.prototype.$OmnipickerUploadController5=function(i,j,event,k){c('OmnipickerActions').uploadProgress(i,j,k.uploadID,k)};h.prototype.$OmnipickerUploadController6=function(i,j,event,k){c('OmnipickerActions').uploadDone(i,j,k.uploadID,k.response.src,k.response.fbid,k.retriesNeeded)};h.prototype.$OmnipickerUploadController7=function(i,j,event,k){c('OmnipickerActions').uploadFailed(i,j,k.uploadID,k.retriesNeeded,k.response_error)};f.exports=new h()}),null);
__d('OmnipickerUploadSession',['FilePickerEvent','OmnipickerActions','OmnipickerUploadController','PhotoSourceTypes','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$OmnipickerUploadSession1={}}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadSession1[i]={pickersData:[]}};h.prototype.addPicker=function(i,j,k,l){var m=new (c('SubscriptionsHandler'))();m.addSubscriptions(j.subscribe(c('FilePickerEvent').SELECT_START,function(n,o){c('OmnipickerActions').filePickerSelectStarted(i,l,k)}),j.subscribe(c('FilePickerEvent').SELECTED,function(n,o){if(o.selections&&o.selections.length>0){c('OmnipickerActions').filePickerSelected(i,l,k);var p=o.selections[0].getSource();c('OmnipickerUploadController').uploadSelections(i,p,o.selections)}}),j.subscribe(c('FilePickerEvent').SELECT_CANCELED,function(n,o){c('OmnipickerActions').filePickerSelectCancelled(i,l,k)}));this.$OmnipickerUploadSession1[i].pickersData.push({picker:j,subscriptions:m})};h.prototype.removePicker=function(i,j){var k=this.$OmnipickerUploadSession1[i].pickersData;k.forEach(function(l,m){if(l.picker===j){l.subscriptions.release();k.splice(m,1)}})};h.prototype.cancelUpload=function(i,j,k){if(j!==c('PhotoSourceTypes').COMPUTER)throw new Error('Can only cancel '+c('PhotoSourceTypes').COMPUTER+' uploads. '+'Actual source: '+j);c('OmnipickerUploadController').cancelUpload(i,j,k)};f.exports=new h()}),null);
__d('HTML5FilePickerButton.react',['fbt','OmnipickerHTML5FilePickerFactory','OmnipickerUploadSession','React','ReactDOM','PhotoSourceTypes','PUWMethods','XUIButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){'use strict';this.picker=c('OmnipickerHTML5FilePickerFactory').create(c('ReactDOM').findDOMNode(this.refs.fileButton));c('OmnipickerUploadSession').addPicker(this.props.appID,this.picker,c('PhotoSourceTypes').COMPUTER,c('PUWMethods').FILE_SELECTOR)};l.prototype.componentWillUnmount=function(){'use strict';c('OmnipickerUploadSession').removePicker(this.props.appID,this.picker)};l.prototype.render=function(){'use strict';var m=h._("Select Files");return c('React').createElement(c('XUIButton.react'),{ref:'fileButton',href:'#',size:'xlarge',label:m})};function l(){'use strict';i.apply(this,arguments)}l.propTypes={appID:k.string.isRequired};f.exports=l}),null);
__d('DragDropInstructions.react',['cx','fbt','ComputerPanelActionState','HTML5FilePickerButton.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderInstructions=function(){switch(this.props.actionState){case c('ComputerPanelActionState').DROP:return c('React').createElement('div',null,c('React').createElement('div',{className:"_39ld"},c('React').createElement('div',{className:"_4zwj"})),c('React').createElement('div',{className:"_4zwc"},i._("Drop photos here")));case c('ComputerPanelActionState').NEUTRAL:return c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('div',{className:"_39ld"},c('React').createElement('div',{className:"_4zwd"})),c('React').createElement('div',{className:"_4zwc"},i._("Drag photos here"))),c('React').createElement('div',{className:"_4zwi"},c('React').createElement('span',{className:"_4zwe"}),i._("or"),c('React').createElement('span',{className:"_4zwe"})),c('React').createElement('div',{className:"_4zwf"},c('React').createElement(c('HTML5FilePickerButton.react'),{appID:this.props.appID})));}}.bind(this),this.renderOverlay=function(){return c('React').createElement('div',{className:"_4zwg"},c('React').createElement('div',{className:"_4zwh"},this.renderInstructions()))}.bind(this),o}m.prototype.render=function(){'use strict';if(this.props.isOverlay)return this.renderOverlay();return this.renderInstructions()};m.propTypes={actionState:l.oneOf(Object.keys(c('ComputerPanelActionState'))).isRequired,appID:l.string.isRequired,isOverlay:l.bool};f.exports=m}),null);
__d('EmptyPanel.react',['cx','DragDropInstructions.react','React','ComputerPanelActionState'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m="_2gyt"+(this.props.actionState===c('ComputerPanelActionState').NEUTRAL?' '+"_2gyu":'')+(this.props.actionState===c('ComputerPanelActionState').DROP?' '+"_2gyw":'');return c('React').createElement('div',{className:m},c('React').createElement('div',{className:"_2gyv"},c('React').createElement(c('DragDropInstructions.react'),{actionState:this.props.actionState,appID:this.props.appID})))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={actionState:k.oneOf(Object.keys(c('ComputerPanelActionState'))).isRequired,appID:k.string.isRequired};f.exports=l}),null);
__d('HTML5UploadAdapter',['AsyncUploadQueue','ArbiterMixin','PhotosUploadWaterfall','PhotosUploadWaterfallErrorCodes','PhotosUploadWaterfallMixin','PhotosMimeType','JpegResizer','SphericalImage','SphericalPhotoConfig','performanceNow','SphericalPhotoUploadHelper','URI'],(function a(b,c,d,e,f,g){'use strict';var h=c('SphericalPhotoUploadHelper').shouldResize360;function i(j){this._config=babelHelpers['extends']({maxRetries:0,retryTimeout:250,uri:null,qn:null,postParams:{}},j);this._uploads={};this._numProcessing=0;this._activeUploadCount=0;this._uploadQueue=new (c('AsyncUploadQueue'))(this._config.uri);this._uploadQueue.setAllowCrossOrigin(true);this._uploadQueue.setLimit(j.maxParallel);this._uploadQueue.subscribe('start',this._handleStart.bind(this));this._uploadQueue.subscribe('failure',this._handleFailure.bind(this));this._uploadQueue.subscribe('success',this._handleSuccess.bind(this));this._uploadQueue.subscribe('progress',this._handleProgress.bind(this));this._uploadQueue.subscribe('success_after_abort',this._handleCanceledPhotoUploadedAnyway.bind(this));if(c('JpegResizer').isSupported()){this._jpegResizer=new (c('JpegResizer'))(j.maxParallel);if(Object.prototype.hasOwnProperty.call(j,'useHighQuality'))this._jpegResizer.setHighQuality(j.useHighQuality);}this._uploadQueue.setPreprocessHandler(this._resizeUpload.bind(this))}Object.assign(i,{isSupported:function j(){return c('AsyncUploadQueue').isSupported()&&c('JpegResizer').isSupported()},MAX_WIDTH:2048,MAX_HEIGHT:2048});Object.assign(i.prototype,c('ArbiterMixin'),c('PhotosUploadWaterfallMixin'),{getUploaderApp:function j(){return c('PhotosUploadWaterfall').APP_HTML5},getWaterfallID:function j(){return this._config.qn},getWaterfallSource:function j(){return this._config.ref},uploadFiles:function j(k,l){var m=function(o,p){o.sphericalImage=p;this._enqueueUpload(o,babelHelpers['extends']({},this._config.postParams,l))}.bind(this),n=function(o){var p=c('performanceNow')(),q=function(s){m(o,s);this.logWaterfallStep(c('PhotosUploadWaterfall').DONE_SPHERICAL_CHECK,{scuba_ints:{dt:c('performanceNow')()-p},projection_type:s.getProjectionType()})}.bind(this),r=function(s){m(o);this.logWaterfallStep(c('PhotosUploadWaterfall').FAIL_SPHERICAL_CHECK,{code:c('PhotosUploadWaterfallErrorCodes').SPHERICAL_CHECK_FAILED,scuba_ints:{dt:c('performanceNow')()-p}})}.bind(this);c('SphericalImage').createFromBlob(o).then(q)['catch'](r).done()}.bind(this);k.forEach(n)},uploadSelections:function j(k,l){var m=k.map(function(n){var o=n.getFile();o.uploadID=n.getSelectionContainerID();return o});this.uploadFiles(m,l)},setHiRes:function j(k){if(Object.prototype.hasOwnProperty.call(this._config,'useHighQuality'))this._jpegResizer&&this._jpegResizer.setHighQuality(k);},setNumSelected:function j(k){},markDeleted:function j(k){},addPostParam:function j(k,l){this._config.postParams=this._config.postParams||{};this._config.postParams[k]=l},cancelIndividualUpload:function j(k){var l=this._getUpload(k);if(l){this._uploadQueue.dequeue(l);this._removeUpload(l)}},cancelAllUploads:function j(){for(var k in this._uploads){var l=this._getUpload(k);this._uploadQueue.dequeue(l);this._removeUpload(l)}},getActiveUploadCount:function j(){return this._activeUploadCount},_getUpload:function j(k){if(k&&this._uploads[k]){return this._uploads[k]}else return null;},_removeUpload:function j(k){if(!this._uploads[k.getFile().uploadID])return;delete this._uploads[k.getFile().uploadID];if(!k.isWaiting())this._activeUploadCount--;},_handleStart:function j(k,l){this._activeUploadCount++;this.inform('upload_start',{uploadID:l.getFile().uploadID,retry:!!l.getFile()._retryCount,file:l.getFile(),size:l.getFile().size})},_handleFailure:function j(k,l){var m=Math.pow(2,l.getFile()._retryCount);this._removeUpload(l);if(l.getFile()._retryCount++<this._config.maxRetries){setTimeout(this._enqueueUpload.bind(this,l.getFile(),babelHelpers['extends']({},this._config.postParams,{retry:l.getFile()._retryCount})),this._config.retryTimeout*m);this.logWaterfallStep(c('PhotosUploadWaterfall').RETRY_UPLOAD,{code:l.getResponse().getError()});this.inform('upload_retry',{uploadID:l.getFile().uploadID,file:l.getFile(),response:l.getResponse(),retry:l.getFile()._retryCount})}else this.inform('upload_failed',{uploadID:l.getFile().uploadID,file:l.getFile(),response:l.getResponse()});return false},_handleSuccess:function j(k,l){this._removeUpload(l);var m=l.getResponse(),n=m.payload;if(n.metadata)n=n.metadata;this.inform('upload_done',{uploadID:l.getFile().uploadID,response:n[0],hiRes:true,retriesNeeded:l.getFile()._retryCount})},_handleProgress:function j(k,l){this.inform('upload_progress',{file:l.getFile(),uploadID:l.getFile().uploadID,bytesTransferred:l.getProgressEvent().loaded})},_resizeUpload:function j(k,l){var m=k.getFile();if(!c('PhotosMimeType').isJpeg(m.type))return l(k);this.inform('resize_start',{uploadID:m.uploadID,file:m});var n=c('performanceNow')(),o=function(t,u,v){if(t)this.logWaterfallStep(c('PhotosUploadWaterfall').CLIENT_ERROR,{code:c('PhotosUploadWaterfall').CERROR_RESIZING_FAILED,meta:{message:t.message}});var w=t||v;this.inform('resize_done',{uploadID:m.uploadID,scubaData:{scuba_tags:{skippedResizing:+w},scuba_ints:{timeResizing:c('performanceNow')()-n,originalSize:m.size,resizedSize:u&&u.size}},error:t});if(!w){u.uploadID=m.uploadID;u.name=m.name;k.setFile(u)}l(k)}.bind(this);if(m.sphericalImage&&m.sphericalImage.isSpherical()){var p=m.sphericalImage,q=p.getSize(),r=c('SphericalPhotoConfig').upload_size_limit,s=p.getProjectionType();if(this._jpegResizer&&h(s,q,r)){this._jpegResizer.resize360Blob(m,o,function(){},r)}else o(false,m,true);}else if(this._jpegResizer){this._jpegResizer.resizeBlob(m,o)}else o(false,m,true);},_handleCanceledPhotoUploadedAnyway:function j(k,l){this.inform('canceled_photo_uploaded',l.payload[0].fbid)},_enqueueUpload:function j(k,l){l=babelHelpers['extends']({},l,{uploader:'html5'});k._retryCount=k._retryCount||0;this._uploads[k.uploadID]=k._retryCount?this._uploadQueue.prepend(k.fileName,k,l):this._uploadQueue.enqueue(k.fileName,k,l)}});f.exports=i}),null);
__d('OmnipickerPanelMixin.react',['PhotoSourceTypes','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={propTypes:{appID:h.string,photoData:h.object,sourceType:h.oneOf(Object.keys(c('PhotoSourceTypes'))),selectionSource:h.string.isRequired}};f.exports=i}),null);
__d('OmnipickerPhotoUploadState',['keyMirror'],(function a(b,c,d,e,f,g){var h=c('keyMirror')({NOT_STARTED:null,UPLOADING:null,DONE:null,FAILED:null});f.exports=h}),null);
__d('OmnipickerPhoto.react',['cx','fbt','Event','Image.react','OmnipickerActions','OmnipickerPhotoUploadState','OmnipickerUploadSession','PhotoSourceTypes','ProgressBar.react','React','ShimButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=20000;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={canCancel:false},this.onDragStart=function(event){c('Event').kill(event)},this.onMouseDown=function(){},this.onMouseUp=function(){var t=true;if(!this.props.checked&&this.props.onPhotoSelected)t=this.props.onPhotoSelected.call(null,this.props.id);if(t)c('OmnipickerActions').selectionChanged(this.props.appID,this.props.photoSourceType,this.props.id,!this.props.checked);}.bind(this),this.getImage=function(){if(!this.props.src)return null;return c('React').createElement(c('Image.react'),{src:this.props.src,className:"_2dh3"})}.bind(this),this.getSelection=function(){if(!this.props.checked)return null;return c('React').createElement('div',{className:"_2dh3 _1cyy"})}.bind(this),this.getCancelOverlay=function(){if(this.props.uploadState!==c('OmnipickerPhotoUploadState').UPLOADING||!this.state.canCancel)return null;return c('React').createElement('div',{className:"_5goe"},c('React').createElement(c('ShimButton.react'),{className:"_5gof _1cu0",onClick:this.onCancel},i._("Cancel Upload")))}.bind(this),this.getFailedOverlay=function(){if(this.props.uploadState!==c('OmnipickerPhotoUploadState').FAILED)return null;return c('React').createElement('div',{className:"_5goe"},c('React').createElement('div',{className:"_5gof"},i._("Upload Failed")))}.bind(this),this.getProgressBar=function(){if(!this.props.showUploadProgress||this.props.uploadState!==c('OmnipickerPhotoUploadState').UPLOADING)return null;var t=null;if(this.props.progress<100){t=c('React').createElement(c('ProgressBar.react'),{value:this.props.progress,min:0,max:100})}else t=c('React').createElement('div',{className:"_1t2c"});return c('React').createElement('div',{className:"_1cyx"},t)}.bind(this),this.onCancel=function(){c('OmnipickerUploadSession').cancelUpload(this.props.appID,this.props.photoSourceType,this.props.id)}.bind(this),this.setCancelTimeout=function(){this.cancelTimeout=setTimeout(function(){this.setState({canCancel:true})}.bind(this),m)}.bind(this),this.clearCancelTimeout=function(){if(this.cancelTimeout){clearTimeout(this.cancelTimeout);this.cancelTimeout=null}}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.supportsCancel&&this.props.uploadState===c('OmnipickerPhotoUploadState').UPLOADING)this.setCancelTimeout();};n.prototype.componentWillReceiveProps=function(o){if(this.props.supportsCancel){var p=this.props.uploadState!==o.uploadState||this.props.progress!==o.progress;if(p){this.clearCancelTimeout();if(o.uploadState===c('OmnipickerPhotoUploadState').UPLOADING)this.setCancelTimeout();}}};n.prototype.componentWillUnmount=function(){this.clearCancelTimeout()};n.prototype.render=function(){return c('React').createElement('div',{className:"_47pv",onDragStart:this.onDragStart,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.getImage(),this.getSelection(),this.getCancelOverlay(),this.getFailedOverlay(),this.getProgressBar())};n.propTypes={appID:l.string.isRequired,checked:l.bool,id:l.string.isRequired,onPhotoSelected:l.func,photoSourceType:l.oneOf(Object.keys(c('PhotoSourceTypes'))).isRequired,progress:l.number,showUploadProgress:l.bool,src:l.string,supportsCancel:l.bool,uploadState:l.oneOf([c('OmnipickerPhotoUploadState').NOT_STARTED,c('OmnipickerPhotoUploadState').UPLOADING,c('OmnipickerPhotoUploadState').DONE,c('OmnipickerPhotoUploadState').FAILED]).isRequired};n.defaultProps={checked:false,progress:0,showUploadProgress:true,supportsCancel:false};f.exports=n}),null);
__d('OmnipickerPhotoGrid.react',['cx','AutoPager.react','OmnipickerPhoto.react','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=300;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getPhotos=function(){return Object.keys(this.props.photos).map(function(s){var t=this.props.photos[s];return c('React').createElement(c('OmnipickerPhoto.react'),{appID:this.props.appID,checked:t.checked,id:t.id,key:t.id,onPhotoSelected:this.props.onPhotoSelected,photoSourceType:this.props.photoSourceType,progress:t.progress,showUploadProgress:this.props.showUploadProgress,src:t.src,supportsCancel:this.props.supportsCancel,uploadState:t.uploadState})}.bind(this))}.bind(this),this.getAutoPager=function(){if(!this.props.onScrollPositionThresholdReached)return null;return c('React').createElement(c('AutoPager.react'),{className:"_4qgs",onEnterBuffer:l,onVisible:this.props.onScrollPositionThresholdReached,scrollableAreaClass:"_xhf"})}.bind(this),o}m.prototype.render=function(){return c('React').createElement('div',{className:"_xhf"},c('React').createElement('div',{className:"uiScrollableAreaWrap _1-nf"},this.getPhotos(),this.getAutoPager()))};m.propTypes={appID:k.string.isRequired,onPhotoSelected:k.func,onScrollPositionThresholdReached:k.func,photos:k.object.isRequired,photoSourceType:k.oneOf(Object.keys(c('PhotoSourceTypes'))).isRequired,showUploadProgress:k.bool,supportsCancel:k.bool};m.defaultProps={showUploadProgress:true,supportsCancel:false};f.exports=m}),null);
__d('PhotoPanel.react',['cx','fbt','ComputerPanelActionState','DragDropInstructions.react','HTML5FilePickerButton.react','OmnipickerPhotoGrid.react','PhotoSourceTypes','React','ReactDOM','Scroll'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={photoCount:0},this.renderInstructions=function(){return c('React').createElement('div',{className:"_1-nd"},c('React').createElement('div',null,c('React').createElement('div',{className:"_4zwc"},i._("Drag more photos"))),c('React').createElement('div',{className:"_4zwi"},c('React').createElement('span',{className:"_4zwe"}),i._("or"),c('React').createElement('span',{className:"_4zwe"})),c('React').createElement('div',{className:"_4zwf"},c('React').createElement(c('HTML5FilePickerButton.react'),{appID:this.props.appID})))}.bind(this),this.renderDragAndDropInstructions=function(){if(this.props.actionState!==c('ComputerPanelActionState').NEUTRAL)return c('React').createElement(c('DragDropInstructions.react'),{actionState:this.props.actionState,appID:this.props.appID,isOverlay:true});}.bind(this),this.renderPhotoGrid=function(){return c('React').createElement(c('OmnipickerPhotoGrid.react'),{appID:this.props.appID,photos:this.props.photoData,photoSourceType:c('PhotoSourceTypes').COMPUTER,supportsCancel:true})}.bind(this),o}m.prototype.componentWillReceiveProps=function(n){'use strict';var o=Object.keys(n.photoData).length;this.setState({photoCount:o})};m.prototype.componentDidUpdate=function(n,o){'use strict';if(this.state.photoCount>o.photoCount){var p=c('ReactDOM').findDOMNode(this.refs.pickerBox);c('Scroll').setTop(p,p.scrollHeight)}};m.prototype.render=function(){'use strict';return c('React').createElement('div',null,c('React').createElement('div',{className:"_1x-l"},c('React').createElement('div',{className:"_1-ne _1-nf",ref:'pickerBox'},this.renderPhotoGrid(),this.renderInstructions())),this.renderDragAndDropInstructions())};m.propTypes={actionState:l.oneOf(Object.keys(c('ComputerPanelActionState'))).isRequired,appID:l.string.isRequired,photoData:l.object.isRequired};f.exports=m}),null);
__d('ComputerPanel.react',['ComputerPanelActionState','DragDropFilePicker','EmptyPanel.react','FilePickerEvent','HTML5UploadAdapter','React','OmnipickerConfig','OmnipickerPanelMixin.react','OmnipickerUploadSession','PhotosMimeType','PhotoPanel.react','PhotoSourceTypes','PUWMethods','PUWUploaders','SelectionSource'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ComputerPanel',mixins:[c('OmnipickerPanelMixin.react')],statics:{getAdapter:function i(j,k){var l=c('OmnipickerConfig').FILE_UPLOAD_URI;if(k&&k.fileUploadURI)l=k.fileUploadURI;return new (c('HTML5UploadAdapter'))({uri:l,maxRetries:c('OmnipickerConfig').HTML5_UPLOADER_MAX_RETRIES,maxParallel:c('OmnipickerConfig').HTML5_UPLOADER_MAX_PARALLEL,postParams:{},qn:j.getWaterfallID(),waterfallApp:j.getWaterfallAppName(),waterfallUploader:c('PUWUploaders').HTML5})}},getDefaultProps:function i(){return {selectionSource:c('SelectionSource').FILE,sourceType:c('PhotoSourceTypes').COMPUTER}},getInitialState:function i(){return {actionState:c('ComputerPanelActionState').NEUTRAL}},componentDidMount:function i(){this.picker=new (c('DragDropFilePicker'))(document.documentElement,{onDocumentDragEnterCallback:function(){this.setState({actionState:c('ComputerPanelActionState').DROP})}.bind(this),onDocumentDragLeaveCallback:function(){this.setState({actionState:c('ComputerPanelActionState').NEUTRAL})}.bind(this),isFileValid:function j(k){return c('PhotosMimeType').isImage(k.type)}});c('OmnipickerUploadSession').addPicker(this.props.appID,this.picker,c('PhotoSourceTypes').COMPUTER,c('PUWMethods').DRAGDROP);this.picker.subscribe(c('FilePickerEvent').SELECTED,this.onFilesDropped)},componentWillUnmount:function i(){this.picker.disable();c('OmnipickerUploadSession').removePicker(this.props.appID,this.picker)},onFilesDropped:function i(j){this.setState({actionState:c('ComputerPanelActionState').NEUTRAL})},renderEmptyPanel:function i(){return c('React').createElement(c('EmptyPanel.react'),{actionState:this.state.actionState,appID:this.props.appID})},renderPhotoPanel:function i(){return c('React').createElement(c('PhotoPanel.react'),{actionState:this.state.actionState,appID:this.props.appID,photoData:this.props.photoData})},render:function i(){var j=Object.keys(this.props.photoData).length,k=j===0?this.renderEmptyPanel():this.renderPhotoPanel();return c('React').createElement('div',null,k)}});f.exports=h}),null);
__d('OmnipickerLoggerStore',['invariant','OmnipickerActions','FluxStore','OmnipickerDispatcher','PUWSteps'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('OmnipickerActions').types;i=babelHelpers.inherits(l,c('FluxStore'));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerLoggerStore1={}}l.prototype.__onDispatch=function(m){if(m.type===k.APP_INITIALIZED){m.logger||h(0);this.$OmnipickerLoggerStore1[m.appID]=m.logger;return}var n=this.$OmnipickerLoggerStore1[m.appID];n||h(0);switch(m.type){case k.FILE_PICKER_SELECT_STARTED:case k.FILE_PICKER_SELECTED:case k.FILE_PICKER_SELECT_CANCELED:this.$OmnipickerLoggerStore2(m,n);break;case k.RESIZE_STARTED:n.logStep(c('PUWSteps').CLIENT_UPLOAD_BEGIN);n.logStep(c('PUWSteps').CLIENT_PROCESS_BEGIN);break;case k.RESIZE_SUCCEEDED:n.logStep(c('PUWSteps').CLIENT_PROCESS_SUCCESS,{dt:m.dt,bytes:m.bytes,media_data_size:m.originalSize,custom_tags:m.customTags});break;case k.RESIZE_FAILED:n.logStep(c('PUWSteps').CLIENT_PROCESS_FAIL,{dt:m.dt,bytes:m.bytes,error_code:m.errorCode});break;case k.UPLOAD_STARTED:n.logStep(c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:m.bytes,ref:m.source});break;case k.UPLOAD_FINISHED:n.logStep(c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{auto_retry_count:m.retriesNeeded,ref:m.source});n.logStep(c('PUWSteps').CLIENT_UPLOAD_SUCCESS,{fbid:m.fbid,ref:m.source});break;case k.UPLOAD_FAILED:n.logStep(c('PUWSteps').CLIENT_UPLOAD_FAIL,{auto_retry_count:m.retriesNeeded,error_code:m.errorCode,ref:m.source});break;case k.UPLOAD_QUEUED:n.logStep(c('PUWSteps').CLIENT_TRANSFER_BATCH_BEGIN,{ref:m.source,volume:m.volume});break;default:}};l.prototype.$OmnipickerLoggerStore2=function(m,n){var o=void 0;switch(m.type){case k.FILE_PICKER_SELECT_STARTED:o=c('PUWSteps').CLIENT_SELECT_BEGIN;break;case k.FILE_PICKER_SELECTED:o=c('PUWSteps').CLIENT_SELECT_SUCCESS;break;case k.FILE_PICKER_SELECT_CANCELED:o=c('PUWSteps').CLIENT_SELECT_CANCEL;break;default:h(0);}var p=m.method,q=m.ref;n.logStep(o,{method:p,ref:q})};f.exports=new l(c('OmnipickerDispatcher'))}),null);
__d('OmnipickerPanelList.react',['cx','ix','Image.react','OmnipickerActions','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.componentWillMount=function(){'use strict';c('React').Children.forEach(this.props.children,function(n){if(!n)return;var o=this.props.appID;c('OmnipickerActions').panelInitialized(o,n.props.sourceType)}.bind(this))};m.prototype.render=function(){'use strict';var n=null;if(this.props.doneSelecting)n=c('React').createElement('div',{className:"_5e8d"},c('React').createElement('div',{className:"_5e8e"},c('React').createElement(c('Image.react'),{className:"_5e8o",src:i("95719")})));var o;if(this.props.children.length){o=this.props.children.find(function(p){if(!p)return false;return p.props.sourceType===this.props.selectedSourceType}.bind(this))}else o=this.props.children;o=c('React').cloneElement(o,{photoData:this.props.photoData,appID:this.props.appID});return c('React').createElement('div',null,n,c('React').createElement('div',{className:"_5gfy"},o))};function m(){'use strict';j.apply(this,arguments)}m.propTypes={appID:l.string,photoData:l.object,doneSelecting:l.bool,selectedSourceType:l.oneOf(Object.keys(c('PhotoSourceTypes')))};f.exports=m}),null);
__d('OmnipickerPhotoSourceStore',['OmnipickerActions','FluxStore','OmnipickerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('OmnipickerActions').types;h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$OmnipickerPhotoSourceStore1={}}k.prototype.__onDispatch=function(l){switch(l.type){case j.APP_INITIALIZED:this.$OmnipickerPhotoSourceStore1[l.appID]={currentSource:l.initialSource};break;case j.PHOTO_SOURCE_SELECTED:this.$OmnipickerPhotoSourceStore1[l.appID].currentSource=l.source;this.__emitChange();break;default:return;}};k.prototype.getCurrentSource=function(l){return this.$OmnipickerPhotoSourceStore1[l].currentSource};f.exports=new k(c('OmnipickerDispatcher'))}),null);
__d('OmnipickerPhotoStore',['invariant','OmnipickerActions','FluxStore','OmnipickerDispatcher','OmnipickerPhotoUploadState'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('OmnipickerActions').types;i=babelHelpers.inherits(l,c('FluxStore'));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerPhotoStore1={}}l.prototype.__onDispatch=function(m){m.appID||h(0);var n=this.$OmnipickerPhotoStore1[m.appID];if(n){var o=n.deletedPhotos;if(o&&o[m.id])return;}switch(m.type){case k.APP_INITIALIZED:this.$OmnipickerPhotoStore2(m);return;case k.PANEL_INITIALIZED:this.$OmnipickerPhotoStore3(m);return;case k.EXISTING_PHOTOS_FETCHED:this.$OmnipickerPhotoStore4(m);break;case k.PHOTO_SELECTED_OPTIMISTICALLY:this.$OmnipickerPhotoStore5(m);break;case k.SELECTION_CHANGED:this.$OmnipickerPhotoStore6(m);break;case k.UPLOAD_CANCELED:this.$OmnipickerPhotoStore7(m);break;case k.UPLOAD_FAILED:this.$OmnipickerPhotoStore8(m);break;case k.UPLOAD_FINISHED:this.$OmnipickerPhotoStore9(m);break;case k.UPLOAD_PROGRESSED:this.$OmnipickerPhotoStore10(m);break;case k.UPLOAD_QUEUED:this.$OmnipickerPhotoStore11(m);break;case k.UPLOAD_STARTED:this.$OmnipickerPhotoStore12(m);break;default:return;}this.__emitChange()};l.prototype.getState=function(m){var n=this.$OmnipickerPhotoStore1[m];return {numPhotosSelected:this.$OmnipickerPhotoStore13(n).length,photosOptimisticallyUploading:n.photosOptimisticallyUploading,photosWaitingForUpload:n.photosWaitingForUpload,photoData:n.photos}};l.prototype.getSelectedPhotos=function(m){var n=this.$OmnipickerPhotoStore1[m];return this.$OmnipickerPhotoStore13(n,n.uploadOrder).filter(function(o){return o.fbid!==''})};l.prototype.$OmnipickerPhotoStore13=function(m,n){var o=n||m.photos,p=[];Object.keys(m.photos).forEach(function(q){var r=Array.isArray(o[q])?o[q]:Object.keys(o[q]);r.forEach(function(s){var t=this.$OmnipickerPhotoStore14(m,q,s);if(t.checked)if(t)p.push(t);}.bind(this))}.bind(this));return p};l.prototype.$OmnipickerPhotoStore14=function(m,n,o){var p=m.photos;p[n]||h(0);var q=p[n][o];q||h(0);return q};l.prototype.$OmnipickerPhotoStore15=function(m){this.$OmnipickerPhotoStore16(m,['source','id']);return this.$OmnipickerPhotoStore14(this.$OmnipickerPhotoStore1[m.appID],m.source,m.id)};l.prototype.$OmnipickerPhotoStore17=function(m,n){Object.prototype.hasOwnProperty.call(m,n)||h(0);m[n]!==undefined&&m[n]!==null||h(0)};l.prototype.$OmnipickerPhotoStore16=function(m,n){n.push('appID');n.forEach(function(o){return this.$OmnipickerPhotoStore17(m,o)}.bind(this))};l.prototype.$OmnipickerPhotoStore18=function(m,n,o){var p=m.photos;p[n]||h(0);!p[n][o]||h(0);m.uploadOrder[n].push(o);return p[n][o]={id:o,checked:false,fbid:'',progress:0,src:'',uploadState:c('OmnipickerPhotoUploadState').NOT_STARTED}};l.prototype.$OmnipickerPhotoStore19=function(m,n){m.photosWaitingForUpload[n.id]=true};l.prototype.$OmnipickerPhotoStore2=function(m){var n=m.appID;!this.$OmnipickerPhotoStore1[n]||h(0);this.$OmnipickerPhotoStore1[n]={deletedPhotos:{},photos:{},photosWaitingForUpload:{},photosOptimisticallyUploading:{},uploadOrder:{}}};l.prototype.$OmnipickerPhotoStore5=function(m){var n=this.$OmnipickerPhotoStore15(m);n.checked=true;var o=this.$OmnipickerPhotoStore1[m.appID];o.photosOptimisticallyUploading[m.id]=true};l.prototype.$OmnipickerPhotoStore6=function(m){this.$OmnipickerPhotoStore16(m,['checked']);var n=this.$OmnipickerPhotoStore15(m);n.checked=m.checked};l.prototype.$OmnipickerPhotoStore3=function(m){this.$OmnipickerPhotoStore16(m,['source']);var n=this.$OmnipickerPhotoStore1[m.appID];n.photos[m.source]={};n.uploadOrder[m.source]=[]};l.prototype.$OmnipickerPhotoStore20=function(m,n,o,p){if(p===c('OmnipickerPhotoUploadState').FAILED||m.photosOptimisticallyUploading[o])return;n.checked=true};l.prototype.$OmnipickerPhotoStore21=function(m,n,o,p){n.uploadState=p;delete m.photosWaitingForUpload[o];delete m.photosOptimisticallyUploading[o]};l.prototype.$OmnipickerPhotoStore22=function(m,n,o){var p=n.id;delete m.photos[o][p];delete m.photosWaitingForUpload[p];delete m.photosOptimisticallyUploading[p];var q=m.uploadOrder[o].indexOf(p);m.uploadOrder[o].splice(q,1);m.deletedPhotos[p]=true};l.prototype.$OmnipickerPhotoStore4=function(m){this.$OmnipickerPhotoStore17(m,'photos');var n=this.$OmnipickerPhotoStore1[m.appID];m.photos.forEach(function(o){var p=o.source,q=o.id,r=o.src,s=this.$OmnipickerPhotoStore18(n,p,q);s.src=r}.bind(this))};l.prototype.$OmnipickerPhotoStore7=function(m){var n=this.$OmnipickerPhotoStore15(m);this.$OmnipickerPhotoStore22(this.$OmnipickerPhotoStore1[m.appID],n,m.source)};l.prototype.$OmnipickerPhotoStore8=function(m){var n=this.$OmnipickerPhotoStore1[m.appID];this.$OmnipickerPhotoStore21(n,this.$OmnipickerPhotoStore15(m),m.id,c('OmnipickerPhotoUploadState').FAILED)};l.prototype.$OmnipickerPhotoStore9=function(m){this.$OmnipickerPhotoStore16(m,['src','fbid']);var n=m.appID,o=m.id,p=m.src,q=m.fbid,r=this.$OmnipickerPhotoStore1[n],s=this.$OmnipickerPhotoStore15(m),t=c('OmnipickerPhotoUploadState').DONE;this.$OmnipickerPhotoStore20(r,s,o,t);this.$OmnipickerPhotoStore21(r,s,o,t);s.src=p;s.fbid=q};l.prototype.$OmnipickerPhotoStore10=function(m){this.$OmnipickerPhotoStore17(m,'progress');var n=this.$OmnipickerPhotoStore15(m);n.progress=100};l.prototype.$OmnipickerPhotoStore12=function(m){var n=this.$OmnipickerPhotoStore15(m);n.uploadState=c('OmnipickerPhotoUploadState').UPLOADING};l.prototype.$OmnipickerPhotoStore11=function(m){this.$OmnipickerPhotoStore16(m,['source','ids']);var n=m.source,o=this.$OmnipickerPhotoStore1[m.appID],p=m.ids;p.forEach(function(q){return this.$OmnipickerPhotoStore19(o,this.$OmnipickerPhotoStore18(o,n,q))}.bind(this))};f.exports=new l(c('OmnipickerDispatcher'))}),null);
__d('OmnipickerWaterfallLogger',['PhotosUploadWaterfallXMixin','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('PhotosUploadWaterfallXMixin')));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$OmnipickerWaterfallLogger1=k;this.$OmnipickerWaterfallLogger2=l}j.prototype.getWaterfallAppName=function(){'use strict';return this.$OmnipickerWaterfallLogger1};j.prototype.getWaterfallID=function(){'use strict';return this.$OmnipickerWaterfallLogger2};f.exports=j}),null);
__d('Omnipicker.react',['invariant','ClientIDs','OmnipickerActions','OmnipickerPanelList.react','OmnipickerPhotoSourceStore','OmnipickerPhotoStore','OmnipickerUploadController','OmnipickerUploadSession','OmnipickerWaterfallLogger','React','SubscriptionsHandler','Waiter','OmnipickerLoggerStore'],(function a(b,c,d,e,f,g,h){var i,j;c('OmnipickerLoggerStore');c('OmnipickerPhotoSourceStore');c('OmnipickerPhotoStore');var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={numPhotosSelected:0,numPhotosUploading:0,photoData:{}},this.handlePhotosChangeEvent=function(){var r=c('OmnipickerPhotoStore').getState(this.state.appID),s=Object.keys(r.photosWaitingForUpload).length,t=Object.keys(r.photosOptimisticallyUploading).length;if(t>0){if(!this.$Omnipicker3)this.$Omnipicker3=this.$Omnipicker2.wait();}else if(this.$Omnipicker3){this.$Omnipicker3.call(this);this.$Omnipicker3=null}this.setState({numPhotosSelected:r.numPhotosSelected,numPhotosUploading:s,photoData:r.photoData});this.props.onPhotosChange&&this.props.onPhotosChange(r.numPhotosSelected,s)}.bind(this),this.handleSourceChangeEvent=function(){this.setState({sourceType:c('OmnipickerPhotoSourceStore').getCurrentSource(this.state.appID)})}.bind(this),n}l.prototype.componentWillMount=function(){'use strict';var m='Omnipicker_ID_'+c('ClientIDs').getNewClientID();c('OmnipickerUploadController').registerOmnipicker(m);c('OmnipickerUploadSession').registerOmnipicker(m);var n=[];c('React').Children.forEach(this.props.children,function(q){if(q.type===c('OmnipickerPanelList.react'))n.push(c('React').cloneElement(q,{appID:m}));});n.length===1||h(0);var o=n[0],p=null;c('React').Children.forEach(o.props.children,function(q){if(!q)return;if(!p||q.props.isSelected)p=q.props.sourceType;if(q.type.getAdapter)c('OmnipickerUploadController').registerAdapter(m,q.type.getAdapter(this.props.logger,q.props.config),q.props.selectionSource);}.bind(this));!!p||h(0);this.setState({appID:m,sourceType:p});c('OmnipickerActions').appInitialized(m,this.props.logger,p)};l.prototype.componentDidMount=function(){'use strict';this.$Omnipicker1=new (c('SubscriptionsHandler'))();this.$Omnipicker1.addSubscriptions(c('OmnipickerPhotoStore').addListener(this.handlePhotosChangeEvent),c('OmnipickerPhotoSourceStore').addListener(this.handleSourceChangeEvent));this.$Omnipicker2=new (c('Waiter'))(function(){this.props.onDoneSelecting(c('OmnipickerPhotoStore').getSelectedPhotos(this.state.appID),this.state.sourceType)}.bind(this))};l.prototype.componentWillUnmount=function(){'use strict';this.$Omnipicker1.release()};l.prototype.componentDidUpdate=function(){'use strict';if(this.props.doneSelecting)this.$Omnipicker2.go();};l.prototype.render=function(){'use strict';var m=c('React').Children.map(this.props.children,function(n){var o={selectedSourceType:this.state.sourceType,appID:this.state.appID};if(n.type===c('OmnipickerPanelList.react'))Object.assign(o,{photoData:this.state.photoData[this.state.sourceType]||{},doneSelecting:this.props.doneSelecting});return c('React').cloneElement(n,o)}.bind(this));return c('React').createElement('div',null,m)};l.propTypes={doneSelecting:k.bool.isRequired,logger:k.instanceOf(c('OmnipickerWaterfallLogger')).isRequired,onDoneSelecting:k.func.isRequired,onPhotosChange:k.func};l.defaultProps={doneSelecting:false};f.exports=l}),null);
__d('OmnipickerSelector.react',['cx','OmnipickerActions','PhotoSourceTypes','React','ShimButton.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onClick=function(){c('OmnipickerActions').photoSourceSelected(this.props.appID,this.props.sourceType)}.bind(this),n}l.prototype.render=function(){'use strict';return c('React').createElement('li',{className:"_1ys7"},c('React').createElement(c('ShimButton.react'),{className:"_1ys8"+(this.props.isSelected?' '+"selected":''),onClick:this.onClick},c('React').createElement('div',{className:"_1ys9"},c('React').createElement('span',{className:c('joinClasses')("_1ysb",this.props.iconClass)}),c('React').createElement('span',{className:"_1ysc"},this.props.children))))};l.propTypes={appID:k.string.isRequired,iconClass:k.string.isRequired,isSelected:k.bool.isRequired,sourceType:k.oneOf(Object.keys(c('PhotoSourceTypes'))).isRequired};f.exports=l}),null);
__d('OmnipickerComputerSelector.react',['cx','fbt','OmnipickerSelector.react','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return c('React').createElement(c('OmnipickerSelector.react'),babelHelpers['extends']({iconClass:"_5o68"},this.props),this.props.labelText)};function m(){'use strict';j.apply(this,arguments)}m.propTypes={labelText:l.string};m.defaultProps={sourceType:c('PhotoSourceTypes').COMPUTER,labelText:i._("Computer")};f.exports=m}),null);
__d('OmnipickerDialog.react',['cx','fbt','DOM','Event','Keys','Link.react','OmnipickerConfig','React','SubscriptionsHandler','XUICloseButton.react','XUIDialog.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={doneSelecting:false,numPhotosSelected:0,numPhotosUploading:0,uploadProgress:0},this.getButtonLabel=function(){var s=this.state.numPhotosSelected;if(s===1)return i._("Use Photo");if(s>1)return i._("Use Photos ({number})",[i.param('number',s)]);return i._("Use Photos")}.bind(this),this.handleUsePhotos=function(){this.setState({doneSelecting:true})}.bind(this),this.handleKeyDownEvent=function(event){if(c('Event').getKeyCode(event)===c('Keys').ESC)this.props.onCancel();}.bind(this),this.handlePhotosChange=function(s,t){this.setState({numPhotosSelected:s,numPhotosUploading:t})}.bind(this),o}m.prototype.componentDidMount=function(){'use strict';this.$OmnipickerDialog1=new (c('SubscriptionsHandler'))();this.$OmnipickerDialog1.addSubscriptions(c('Event').listen(document,'keydown',this.handleKeyDownEvent))};m.prototype.componentWillUnmount=function(){'use strict';this.$OmnipickerDialog1.release()};m.prototype.render=function(){'use strict';var n=this.state.doneSelecting||this.state.numPhotosSelected<1||this.state.numPhotosUploading>0,o=null;if(c('OmnipickerConfig').FEEDBACK_GROUP_PATH)o=c('React').createElement('div',{className:"_2srv"},c('React').createElement(c('Link.react'),{href:c('OmnipickerConfig').FEEDBACK_GROUP_PATH,target:'_blank'},'Omnipicker Feedback Group'));var p=c('React').Children.only(this.props.children);p=c('React').cloneElement(p,{onPhotosChange:this.handlePhotosChange,doneSelecting:this.state.doneSelecting});return c('React').createElement(c('XUIDialog.react'),{shown:true,layerHideOnBlur:false,width:c('OmnipickerConfig').DIALOG_WIDTH,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},c('React').createElement('span',null,this.props.title),c('React').createElement(c('XUICloseButton.react'),{className:"_51-t",label:i._("Close"),onClick:this.props.onCancel})),p,c('React').createElement('div',{className:"_3bnc"},c('React').createElement(c('XUIDialogFooter.react'),{className:"_3bnd",leftContent:o},c('React').createElement(c('XUIDialogButton.react'),{action:'button',label:i._("Cancel"),onClick:this.props.onCancel,size:'xlarge'}),c('React').createElement(c('XUIDialogButton.react'),{className:"_3bne",use:'confirm',action:'confirm',size:'xlarge',disabled:n,label:this.getButtonLabel(),onClick:this.handleUsePhotos}))))};m.propTypes={onCancel:l.func.isRequired,title:l.string.isRequired};f.exports=m}),null);
__d('OmnipickerDialogRenderer',['DOM','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$OmnipickerDialogRenderer1=i;this.$OmnipickerDialogRenderer2=i.props.$OmnipickerDialogRenderer2;if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c('DOM').create('div');c('DOM').appendContent(document.body,this.$OmnipickerDialogRenderer2)}}h.prototype.show=function(){if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c('DOM').create('div');c('DOM').appendContent(document.body,this.$OmnipickerDialogRenderer2)}c('ReactDOM').render(this.$OmnipickerDialogRenderer1,this.$OmnipickerDialogRenderer2)};h.prototype.hide=function(){c('ReactDOM').unmountComponentAtNode(this.$OmnipickerDialogRenderer2);c('DOM').remove(this.$OmnipickerDialogRenderer2);this.$OmnipickerDialogRenderer2=null};h.prototype.isShowing=function(){return !!this.$OmnipickerDialogRenderer2};f.exports=h}),null);
__d('ExistingPhotoSelectionContainer',['BaseSelectionContainer'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('BaseSelectionContainer'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this);this.$ExistingPhotoSelectionContainer1=k;this.$ExistingPhotoSelectionContainer2=l;this.$ExistingPhotoSelectionContainer3=m}j.prototype.getExistingImageID=function(){'use strict';return this.$ExistingPhotoSelectionContainer1};j.prototype.getSrc=function(){'use strict';return this.$ExistingPhotoSelectionContainer2};j.prototype.getSource=function(){'use strict';return this.$ExistingPhotoSelectionContainer3};j.prototype.hasPlaceholderUI=function(){'use strict';return true};f.exports=j}),null);
__d('ExistingPhotoPicker',['ArbiterMixin','mixin','FilePickerEvent','ExistingPhotoSelectionContainer'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$ExistingPhotoPicker1=k}j.prototype.begin=function(){'use strict';this.inform(c('FilePickerEvent').BEGIN)};j.prototype.select=function(k,l){'use strict';this.inform(c('FilePickerEvent').SELECTED,{sender:this,selections:[new (c('ExistingPhotoSelectionContainer'))(k,l,this.$ExistingPhotoPicker1)]})};f.exports=j}),null);
__d('OmnipickerExistingPhotosPanelMixin.react',['cx','invariant','ExistingPhotoPicker','OmnipickerActions','OmnipickerPanelMixin.react','OmnipickerPhotoGrid.react','OmnipickerUploadSession','PhotoStore','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k={mixins:[c('OmnipickerPanelMixin.react')],propTypes:{initBatchSize:j.number,pageBatchSize:j.number,puwMethod:j.string.isRequired,setID:j.string.isRequired},componentWillMount:function l(){typeof this.getViewState==='function'||i(0);this.picker=new (c('ExistingPhotoPicker'))(this.props.selectionSource);c('OmnipickerUploadSession').addPicker(this.props.appID,this.picker,this.props.sourceType,this.props.puwMethod)},componentDidMount:function l(){this.getViewState().initViewState();this.picker.begin()},componentWillUnmount:function l(){this.getViewState().destroy();c('OmnipickerUploadSession').removePicker(this.props.appID,this.picker)},render:function l(){return c('React').createElement('div',null,this.getThrobber(),this.getPhotoGrid())},onViewStateChanged:function l(m){c('OmnipickerActions').existingPhotosFetched(this.props.appID,this.props.sourceType,m.media.filter(function(n){return !this.props.photoData[n.id]}.bind(this)))},onPhotoSelected:function l(m){this.picker.select(m,this.props.photoData[m].src);return false},getPhotoGrid:function l(){if(!c('PhotoStore').hasBeenCreated(this.props.setID))return null;var m=null;if(!c('PhotoStore').hasBeenCreated(this.props.setID)||c('PhotoStore').hasNextPage(this.props.setID))m=function(){this.getViewState().fetchMore()}.bind(this);return c('React').createElement(c('OmnipickerPhotoGrid.react'),{appID:this.props.appID,onPhotoSelected:this.onPhotoSelected,onScrollPositionThresholdReached:m,photos:this.props.photoData,photoSourceType:this.props.sourceType,showUploadProgress:false})},getThrobber:function l(){if(c('PhotoStore').hasBeenCreated(this.props.setID))return null;return c('React').createElement('div',{className:"_j0-"})}};f.exports=k}),null);
__d('ScrollablePhotoViewStateCore',['SubscriptionsHandler','emptyFunction'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$ScrollablePhotoViewStateCore1=i.photoStore;this.$ScrollablePhotoViewStateCore2=i.viewer;this.$ScrollablePhotoViewStateCore3=i.setToken;this.$ScrollablePhotoViewStateCore4=i.updateCallback;this.$ScrollablePhotoViewStateCore5=i.subscribeUpdatePhotos;this.$ScrollablePhotoViewStateCore6=i.fetchInitData;this.$ScrollablePhotoViewStateCore7=i.initBatchSize;this.$ScrollablePhotoViewStateCore8=i.pageBatchSize;this.$ScrollablePhotoViewStateCore9=new (c('SubscriptionsHandler'))()}h.prototype.initViewState=function(){'use strict';this.$ScrollablePhotoViewStateCore9.addSubscriptions(this.$ScrollablePhotoViewStateCore5(this.updateData.bind(this)));if(this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)){var i=this.$ScrollablePhotoViewStateCore1.getAvailableRange(this.$ScrollablePhotoViewStateCore3).length;if(i>=this.$ScrollablePhotoViewStateCore7||!this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3))this.syncState();return}this.$ScrollablePhotoViewStateCore6(this.$ScrollablePhotoViewStateCore3)};h.prototype.hasNextPage=function(){'use strict';return this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)&&this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3)};h.prototype.fetchToIndex=function(i){'use strict';var j=this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),k=i-j;if(k<=0)return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,j,k,c('emptyFunction'))};h.prototype.fetchMore=function(i){'use strict';if(!this.hasNextPage())return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),this.$ScrollablePhotoViewStateCore8,i||c('emptyFunction'))};h.prototype.destroy=function(){'use strict';this.$ScrollablePhotoViewStateCore9.release()};h.prototype.updateData=function(i){'use strict';if(i.set_id!=this.$ScrollablePhotoViewStateCore3)return;var j=i.query_results&&i.query_results.result_type;if(j=='init'){this.$ScrollablePhotoViewStateCore1.executePostCreate(this.$ScrollablePhotoViewStateCore3,function(){this.syncState()}.bind(this))}else this.syncState();};f.exports=h}),null);
__d('fetchInitPhotoViewState',['AsyncRequest'],(function a(b,c,d,e,f,g){function h(i,j){new (c('AsyncRequest'))(i).setData({set:j}).send()}f.exports=h}),null);
__d('subscribeToArbiterUpdatePhotos',['Arbiter'],(function a(b,c,d,e,f,g){function h(i){return c('Arbiter').subscribe('update-photos',function(j,k){i(k)})}f.exports=h}),null);
__d('OmnipickerExistingPhotosViewState',['PhotoStore','ScrollablePhotoViewStateCore','subscribeToArbiterUpdatePhotos','fetchInitPhotoViewState'],(function a(b,c,d,e,f,g){var h,i;function j(l,m){c('fetchInitPhotoViewState')(l,m)}h=babelHelpers.inherits(k,c('ScrollablePhotoViewStateCore'));i=h&&h.prototype;function k(l,m,n,o,p,q){'use strict';i.constructor.call(this,{fetchInitData:j.bind(null,p),initBatchSize:n,pageBatchSize:o,photoStore:c('PhotoStore'),setToken:m,subscribeUpdatePhotos:c('subscribeToArbiterUpdatePhotos'),updateCallback:q,viewer:l});this.$OmnipickerExistingPhotosViewState1=n;this.$OmnipickerExistingPhotosViewState2=m;this.$OmnipickerExistingPhotosViewState3=q}k.prototype.syncState=function(){'use strict';this.$OmnipickerExistingPhotosViewState3({media:c('PhotoStore').getItemsInAvailableRange(this.$OmnipickerExistingPhotosViewState2),hasNextPage:c('PhotoStore').hasNextPage(this.$OmnipickerExistingPhotosViewState2)})};f.exports=k}),null);
__d("XPagesManagerPostedPhotosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/content_tab\/posted_photos\/",{set:{type:"String",required:true},size:{type:"Int",required:true}})}),null);
__d('OmnipickerPagePostedPhotosPanel.react',['ActorURI','OmnipickerConfig','OmnipickerExistingPhotosPanelMixin.react','OmnipickerExistingPhotosViewState','PhotoSourceTypes','PUWMethods','React','SelectionSource','XPagesManagerPostedPhotosController'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'OmnipickerPagePostedPhotosPanel',mixins:[c('OmnipickerExistingPhotosPanelMixin.react')],_viewState:null,propTypes:{pageID:h.string.isRequired},getDefaultProps:function j(){return {initBatchSize:20,pageBatchSize:16,puwMethod:c('PUWMethods').RECENT_PHOTOS,selectionSource:c('SelectionSource').PAGES_POSTED_PHOTOS,setID:c('OmnipickerConfig').POSTED_PHOTOS_SET_ID,sourceType:c('PhotoSourceTypes').PAGES_POSTED_PHOTOS}},componentWillMount:function j(){var k=c('ActorURI').create(c('XPagesManagerPostedPhotosController').getURIBuilder().setString('set',this.props.setID).setInt('size',this.props.initBatchSize).getURI(),this.props.pageID);this._viewState=new (c('OmnipickerExistingPhotosViewState'))(this,this.props.setID,this.props.initBatchSize,this.props.pageBatchSize,k,this.onViewStateChanged)},getViewState:function j(){return this._viewState}});f.exports=i}),null);
__d('OmnipickerPagePostedPhotosSelector.react',['cx','fbt','OmnipickerSelector.react','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return c('React').createElement(c('OmnipickerSelector.react'),babelHelpers['extends']({iconClass:"_2_y4"},this.props),this.props.labelText)};function m(){j.apply(this,arguments)}m.propTypes={labelText:l.node};m.defaultProps={sourceType:c('PhotoSourceTypes').PAGES_POSTED_PHOTOS,labelText:i._("Page Photos")};f.exports=m}),null);
__d('OmnipickerSelectorList.react',['cx','PhotoSourceTypes','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('React').Children.map(this.props.children,function(n){if(!n)return;return c('React').cloneElement(n,{isSelected:n.props.sourceType===this.props.selectedSourceType,appID:this.props.appID})}.bind(this));return c('React').createElement('div',{className:"_1n6_"},c('React').createElement('ul',null,m))};function l(){'use strict';i.apply(this,arguments)}l.propTypes={appID:k.string,selectedSourceType:k.oneOf(Object.keys(c('PhotoSourceTypes')))};f.exports=l}),null);
__d('ProductVideoChunkedUploader',['AdsVideoUploadEvents','AdsVideoUploadSession','AdsVideoUploadUtil','URI','VideoUploader','VideoUploadProgressBar'],(function a(b,c,d,e,f,g){var h,i,j='/v2.4',k='graph-video';h=babelHelpers.inherits(l,c('VideoUploader'));i=h&&h.prototype;function l(m){'use strict';var n=m.config,o=new (c('URI'))(j+'/'+m.target_id+'/videos?'+'access_token='+m.access_token).setSubdomain(k).toString(),p={start_uri:o,receive_uri:o,post_uri:o,chunk_start_uri:o,chunk_receive_uri:o,chunk_post_uri:o,min_size:n.minSize,min_width:n.minWidth,min_height:n.minHeight,min_length:n.minLength,max_size:n.maxSize,max_length:n.maxLength,extensions:n.extensions,logging_delay:n.loggingDelay,max_transport_retries:n.maxTransportRetries,transport_retry_interval_base:n.transportRetryIntervalBase,max_server_retries:n.maxServerRetries,server_retry_interval_base:n.serverRetryIntervalBase,source:m.source,target_id:m.target_id,target_type:m.target_type};i.constructor.call(this,p);this.$ProductVideoChunkedUploader1=''}l.prototype.getUploadTime=function(){'use strict';if(this.__getSession()!==null)return this.__getSession().getUploadTime();return null};l.prototype.getEncodingTime=function(){'use strict';if(this.__getSession()!==null)return this.__getSession().getEncodingTime();return null};l.prototype.abort=function(){'use strict';this.cancel()};l.prototype.upload=function(m){'use strict';var n=m.getFileInput(),o=c('AdsVideoUploadUtil').getVideoTitle(n);this.$ProductVideoChunkedUploader1=o?o:'';i.upload.call(this,m)};l.prototype.__getVideoUploadSession=function(m){'use strict';return new (c('AdsVideoUploadSession'))(m)};l.prototype.getVideoTitle=function(){'use strict';return this.$ProductVideoChunkedUploader1};l.prototype.__createSession=function(m){'use strict';return new (c('AdsVideoUploadSession'))(m)};l.prototype.__getEventsWhichShouldListenFromSession=function(){'use strict';var m=i.__getEventsWhichShouldListenFromSession.call(this);m.push(c('AdsVideoUploadEvents').ENCODING_SUCCESS,c('AdsVideoUploadEvents').ENCODING_ERROR);return m};l.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){'use strict';return ['upload-failed',c('AdsVideoUploadEvents').ENCODING_SUCCESS,c('AdsVideoUploadEvents').ENCODING_ERROR]};l.prototype.__delegateEvent=function(event,m){'use strict';var n=null;if(event==='upload-progressed'){var o=c('VideoUploadProgressBar').computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0);n=o/100}else if(event==='upload-finished'){this.post({})}else if(event==='post-finished'){n=m.video_id}else if(event==='post-failed')event='upload-failed';i.__delegateEvent.call(this,event,n)};f.exports=l}),null);
__d('PageContentTabProductUploadVideoButton.react',['cx','fbt','AdsVideoUploadConfig','AdsVideoUploadEvents','AsyncRequest','FileInput.react','GraphAPI','Link.react','ProductVideoChunkedUploader','React','VideoUploadFile','VideoUploadTargetType','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=1000,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={videoUploaders:[],lastEncodingStatusCheckTimes:[]},this.$PageContentTabProductUploadVideoButton1=function(){var t=this.refs.fileInput.getFileInput().getInput(),u=c('VideoUploadFile').fromFileInput(t),v=new (c('ProductVideoChunkedUploader'))({config:c('AdsVideoUploadConfig'),source:'product_edit_tool',target_id:this.props.productCatalogID,target_type:c('VideoUploadTargetType').PRODUCT_CATALOG,access_token:this.props.pageContentTabAccessToken}),w=this.state.videoUploaders.length;v.subscribe('upload-failed',this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe(c('AdsVideoUploadEvents').UPLOAD_ERROR,this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe('post-failed',this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe('post-finished',this.$PageContentTabProductUploadVideoButton3.bind(this,w));this.props.onVideoSelected(w);v.upload(u);var x=this.state.videoUploaders;x[w]=v;this.setState({videoUploaders:x})}.bind(this),this.$PageContentTabProductUploadVideoButton2=function(t){this.props.onVideoUploadError(t)}.bind(this),this.$PageContentTabProductUploadVideoButton3=function(t){this.$PageContentTabProductUploadVideoButton4(t)}.bind(this),this.$PageContentTabProductUploadVideoButton5=function(t){var u=this.$PageContentTabProductUploadVideoButton6(t),v=this.state.lastEncodingStatusCheckTimes;v[t]=Date.now();this.setState({lastEncodingStatusCheckTimes:v});new (c('AsyncRequest'))().setURI('/ajax/video/encode/feedback/ping/').setData({video_id:u}).setHandler(this.$PageContentTabProductUploadVideoButton7.bind(this,t)).send()}.bind(this),this.$PageContentTabProductUploadVideoButton8=function(t,u){var v=this.$PageContentTabProductUploadVideoButton6(t),w=u.data;if(w)for(var x=0;x<w.length;x++)if(w[x].is_preferred){this.props.onVideoUploadFinished(t,v,w[x].uri);return}}.bind(this),this.$PageContentTabProductUploadVideoButton6=function(t){return this.state.videoUploaders[t].getUploadSession().getVideoID()}.bind(this),p}n.prototype.render=function(){return c('React').createElement(c('FileInput.react'),{name:'video',ref:'fileInput',onChange:this.$PageContentTabProductUploadVideoButton1},c('React').createElement(c('Link.react'),{className:"_25dc"},c('React').createElement('div',{className:"_25dd _25de"},c('React').createElement(c('XUIGrayText.react'),{className:"_25df",size:'small',display:'block'},i._("Add Videos")))))};n.prototype.$PageContentTabProductUploadVideoButton4=function(o){var p=this.state.lastEncodingStatusCheckTimes[o]+l,q=Math.max(0,p-Date.now());setTimeout(this.$PageContentTabProductUploadVideoButton5.bind(this,o),q)};n.prototype.$PageContentTabProductUploadVideoButton7=function(o,p){var q=this.$PageContentTabProductUploadVideoButton6(o),r=p.payload;if(r)if(r.is_ready){c('GraphAPI')('2.3').object('video',q).edge('thumbnails').get({access_token:this.props.pageContentTabAccessToken}).done(this.$PageContentTabProductUploadVideoButton8.bind(this,o))}else if(r.error){this.$PageContentTabProductUploadVideoButton2(o)}else this.$PageContentTabProductUploadVideoButton4(o);};n.propTypes={onVideoSelected:m.func.isRequired,onVideoUploadError:m.func.isRequired,onVideoUploadFinished:m.func.isRequired,pageContentTabAccessToken:m.string.isRequired,productCatalogID:m.string.isRequired};f.exports=n}),null);
__d("XPagesManagerProductPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/upload\/file\/product\/photo\/",{waterfall_id:{type:"String"}})}),null);
__d('PageProductPhotoEditButton.react',['cx','fbt','ActorURI','Arbiter','AsyncRequest','BOFSellerLogger','BOFSellerLoggerEvent','ReactComposerPhotoActions','PhotoEditorTargetType','XPagesManagerProductPhotoUploadController','React','Tooltip','XComposerPhotoUploader','XStickerPhotoEditorController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.componentDidMount=function(){c('Arbiter').subscribe('PageProductPhotoEditor/newImage'+this.props.composerID,this.$PageProductPhotoEditButton2.bind(this))};m.prototype.render=function(){var n=i._("Edit Photo");return c('React').createElement('button',babelHelpers['extends']({className:"_k4v",onClick:this.$PageProductPhotoEditButton3.bind(this)},c('Tooltip').propsFor(n)),c('React').createElement('div',{className:"_k4w"}))};m.prototype.$PageProductPhotoEditButton3=function(){if(this.$PageProductPhotoEditButton1)return;c('BOFSellerLogger').log(c('BOFSellerLoggerEvent').ACTN_EDIT_PHOTO_CLICK,this.props.pageID,{target_class:'Photo',target_id:this.props.photoID});var n=void 0,o=void 0;if(this.props.photoID==parseInt(this.props.photoID,10)){n=parseInt(this.props.photoID,10);o=''}else{n=0;o=this.props.photoID}var p=c('ActorURI').create(c('XStickerPhotoEditorController').getURIBuilder().setString('grid_id',this.props.composerID).setEnum('target_type',c('PhotoEditorTargetType').PAGE_PRODUCT_COMPOSER).setInt('photo_fbid',n).setString('encrypted_photo_id',o).getURI(),this.props.pageID);this.$PageProductPhotoEditButton1=new (c('AsyncRequest'))(p).setFinallyHandler(function(){this.$PageProductPhotoEditButton1=null}.bind(this)).send();c('ReactComposerPhotoActions').startPhotoEdit(this.props.composerID,null)};m.prototype.$PageProductPhotoEditButton2=function(n,o){var p=c('ActorURI').create(c('XPagesManagerProductPhotoUploadController').getURIBuilder().getURI(),this.props.pageID),q=o.encryptedID||o.fbid,r=new (c('XComposerPhotoUploader'))({uploadEndpoint:p,onUploadSuccess:function(s,t){this.props.onPhotoEdited(q,t.response.payload[0])}.bind(this)});r.getAsyncUploadRequest([o.blob]).send()};function m(){j.apply(this,arguments)}m.propTypes={composerID:l.string.isRequired,onPhotoEdited:l.func.isRequired,pageID:l.string.isRequired,photoID:l.string.isRequired};f.exports=m}),null);
__d('PageContentTabProductPhotoUploader.react',['cx','fbt','invariant','ActorURI','AudienceManagerEngagementVideoSelectionError.react','Image.react','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','PageContentTabProductUploadVideoButton.react','PageProductPhotoEditButton.react','XPagesManagerProductPhotoUploadController','PUWApplications','PUWSteps','React','WaterfallIDGenerator','XUICloseButton.react','XUIError.react','XUIGrayText.react','XUISpinner.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=c('React').createClass({displayName:'PageContentTabProductPhotoUploader',_waterfallLogger:c('OmnipickerWaterfallLogger'),propTypes:{className:k.string,maxPhotosCount:k.number,pageID:k.string.isRequired,onPhotoEdited:k.func,onPhotosSelected:k.func.isRequired,onPhotoRemoved:k.func.isRequired,photos:k.array.isRequired,photoEditingEnabled:k.bool.isRequired,productCatalogID:k.string,pageContentTabAccessToken:k.string,videos:k.array,onVideoSelected:k.func,onVideoUploadFinished:k.func,onVideoUploadError:k.func,onVideoRemoved:k.func,showVideoUploadButton:k.bool,xuiError:k.any},getInitialState:function m(){var n={fileUploadURI:c('ActorURI').create(c('XPagesManagerProductPhotoUploadController').getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new (c('OmnipickerWaterfallLogger'))(c('PUWApplications').WEB_PRODUCT_PHOTO_OMNIPICKER,c('WaterfallIDGenerator').generate());return {dialogRenderer:new (c('OmnipickerDialogRenderer'))(c('React').createElement(c('OmnipickerDialog.react'),{onCancel:this.onPickerCancel,title:i._("Select Photo")},c('React').createElement(c('Omnipicker.react'),{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos},c('React').createElement(c('OmnipickerSelectorList.react'),null,c('React').createElement(c('OmnipickerComputerSelector.react'),null),c('React').createElement(c('OmnipickerPagePostedPhotosSelector.react'),null)),c('React').createElement(c('OmnipickerPanelList.react'),null,c('React').createElement(c('ComputerPanel.react'),{config:n}),c('React').createElement(c('OmnipickerPagePostedPhotosPanel.react'),{pageID:this.props.pageID})))))}},onPickerCancel:function m(){this.state.dialogRenderer.hide();this._waterfallLogger.logStep(c('PUWSteps').CLIENT_FLOW_CANCEL)},onPickerAddPhotos:function m(n){this.state.dialogRenderer.hide();this.props.onPhotosSelected(n)},render:function m(){var n=null,o=null,p=this.props.photos.length;if(this.props.videos)p+=this.props.videos.length;if(!this.props.maxPhotosCount||p<this.props.maxPhotosCount){n=this._renderAddPhotoLink();o=this._renderAddVideoLink()}return c('React').createElement('div',{className:this.props.className},this._renderUploadedMedia(),n,o)},_renderUploadedPhoto:function m(n){var o=null;if(this.props.photoEditingEnabled)o=c('React').createElement(c('PageProductPhotoEditButton.react'),{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:n.fbid});return c('React').createElement('div',{key:n.fbid,className:"_5m94"},c('React').createElement(c('XUICloseButton.react'),{className:"_5m95",size:'medium',shade:'light',onClick:function(p){return this.props.onPhotoRemoved(n)}.bind(this)}),c('React').createElement(c('Image.react'),{className:"_19tc",src:n.src}),o,c('React').createElement('div',{className:"_19td"}))},_renderUploadedVideo:function m(n){var o=null;if(!n.ready&&!n.error)o=c('React').createElement(c('XUISpinner.react'),{className:"_37cg",size:'large'});var p=null;if(n.error)p=c('React').createElement('div',{className:"_37ch"},c('React').createElement(c('AudienceManagerEngagementVideoSelectionError.react'),{mainLabel:i._("Upload failed")}));return c('React').createElement('div',{key:n.fbid,className:"_5m94"},c('React').createElement(c('XUICloseButton.react'),{className:"_5m95",size:'medium',shade:'light',onClick:function(){this.props.onVideoRemoved||j(0);this.props.onVideoRemoved(n)}.bind(this)}),c('React').createElement(c('Image.react'),{className:"_19tc",src:n.src}),o,p,c('React').createElement('div',{className:"_37cj"}),c('React').createElement('div',{className:"_37cm"},c('React').createElement('div',{className:"_37cn"})),c('React').createElement('div',{className:"_19td"}))},_renderUploadedMedia:function m(){var n=this.props.videos&&this.props.onVideoRemoved?this.props.videos.map(this._renderUploadedVideo):[],o=this.props.photos.map(this._renderUploadedPhoto);return n.concat(o)},_renderAddPhotoLink:function m(){return c('React').createElement(c('Link.react'),{className:"_3ff7",ref:'uploadButton',onClick:this._onPickerLaunch},c('React').createElement(c('XUIError.react'),{xuiError:this.props.xuiError},c('React').createElement('div',{className:"_22to _19tc"},c('React').createElement(c('XUIGrayText.react'),{className:"_3ff8",size:'small',display:'block'},i._("Add Photos")))))},_renderAddVideoLink:function m(){if(!this.props.showVideoUploadButton||!this.props.onVideoSelected||!this.props.onVideoUploadFinished||!this.props.onVideoUploadError||!this.props.productCatalogID||!this.props.pageContentTabAccessToken)return null;return c('React').createElement(c('PageContentTabProductUploadVideoButton.react'),{productCatalogID:this.props.productCatalogID,onVideoSelected:this.props.onVideoSelected,onVideoUploadFinished:this.props.onVideoUploadFinished,onVideoUploadError:this.props.onVideoUploadError,pageContentTabAccessToken:this.props.pageContentTabAccessToken})},_onPickerLaunch:function m(){this._waterfallLogger.logStep(c('PUWSteps').CLIENT_FLOW_BEGIN);this.state.dialogRenderer.show()}});f.exports=l}),null);
__d('PagesNuxDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('ExplicitRegistrationReactDispatcher'))({strict:true})}),null);
__d("PageNuxFrameworkActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REGISTER_NUX:"nux_framework.register_nux",INIT_SURFACE:"nux_framework.init_surface",SHOW_NUX:"nux_framework.show_nux",XOUT:"nux_framework.xout",HOLD:"nux_framework.hold"})}),null);
__d("PageNuxSurfaceEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PAGE_TIMELINE:"page_timeline",PAGE_INSIGHTS_TAB:"page_insights_tab",PAGE_COMPOSER:"page_composer"})}),null);